const p$2=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function i(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=i(s);fetch(s.href,o)}};p$2();const main="";function makeMap(r,e){const i=Object.create(null),n=r.split(",");for(let s=0;s<n.length;s++)i[n[s]]=!0;return e?s=>!!i[s.toLowerCase()]:s=>!!i[s]}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(r){return!!r||r===""}function normalizeStyle(r){if(isArray$1(r)){const e={};for(let i=0;i<r.length;i++){const n=r[i],s=isString(n)?parseStringStyle(n):normalizeStyle(n);if(s)for(const o in s)e[o]=s[o]}return e}else{if(isString(r))return r;if(isObject$2(r))return r}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:(.+)/;function parseStringStyle(r){const e={};return r.split(listDelimiterRE).forEach(i=>{if(i){const n=i.split(propertyDelimiterRE);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function normalizeClass(r){let e="";if(isString(r))e=r;else if(isArray$1(r))for(let i=0;i<r.length;i++){const n=normalizeClass(r[i]);n&&(e+=n+" ")}else if(isObject$2(r))for(const i in r)r[i]&&(e+=i+" ");return e.trim()}const toDisplayString=r=>isString(r)?r:r==null?"":isArray$1(r)||isObject$2(r)&&(r.toString===objectToString||!isFunction(r.toString))?JSON.stringify(r,replacer,2):String(r),replacer=(r,e)=>e&&e.__v_isRef?replacer(r,e.value):isMap(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((i,[n,s])=>(i[`${n} =>`]=s,i),{})}:isSet(e)?{[`Set(${e.size})`]:[...e.values()]}:isObject$2(e)&&!isArray$1(e)&&!isPlainObject(e)?String(e):e,EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=r=>onRE.test(r),isModelListener=r=>r.startsWith("onUpdate:"),extend=Object.assign,remove=(r,e)=>{const i=r.indexOf(e);i>-1&&r.splice(i,1)},hasOwnProperty=Object.prototype.hasOwnProperty,hasOwn=(r,e)=>hasOwnProperty.call(r,e),isArray$1=Array.isArray,isMap=r=>toTypeString(r)==="[object Map]",isSet=r=>toTypeString(r)==="[object Set]",isFunction=r=>typeof r=="function",isString=r=>typeof r=="string",isSymbol=r=>typeof r=="symbol",isObject$2=r=>r!==null&&typeof r=="object",isPromise$1=r=>isObject$2(r)&&isFunction(r.then)&&isFunction(r.catch),objectToString=Object.prototype.toString,toTypeString=r=>objectToString.call(r),toRawType=r=>toTypeString(r).slice(8,-1),isPlainObject=r=>toTypeString(r)==="[object Object]",isIntegerKey=r=>isString(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=r=>{const e=Object.create(null);return i=>e[i]||(e[i]=r(i))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(r=>r.replace(camelizeRE,(e,i)=>i?i.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(r=>r.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(r=>r.charAt(0).toUpperCase()+r.slice(1)),toHandlerKey=cacheStringFunction(r=>r?`on${capitalize(r)}`:""),hasChanged=(r,e)=>!Object.is(r,e),invokeArrayFns=(r,e)=>{for(let i=0;i<r.length;i++)r[i](e)},def=(r,e,i)=>{Object.defineProperty(r,e,{configurable:!0,enumerable:!1,value:i})},toNumber=r=>{const e=parseFloat(r);return isNaN(e)?r:e};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let activeEffectScope;class EffectScope{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&activeEffectScope&&(this.parent=activeEffectScope,this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(e){if(this.active){const i=activeEffectScope;try{return activeEffectScope=this,e()}finally{activeEffectScope=i}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(e){if(this.active){let i,n;for(i=0,n=this.effects.length;i<n;i++)this.effects[i].stop();for(i=0,n=this.cleanups.length;i<n;i++)this.cleanups[i]();if(this.scopes)for(i=0,n=this.scopes.length;i<n;i++)this.scopes[i].stop(!0);if(this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.active=!1}}}function recordEffectScope(r,e=activeEffectScope){e&&e.active&&e.effects.push(r)}const createDep=r=>{const e=new Set(r);return e.w=0,e.n=0,e},wasTracked=r=>(r.w&trackOpBit)>0,newTracked=r=>(r.n&trackOpBit)>0,initDepMarkers=({deps:r})=>{if(r.length)for(let e=0;e<r.length;e++)r[e].w|=trackOpBit},finalizeDepMarkers=r=>{const{deps:e}=r;if(e.length){let i=0;for(let n=0;n<e.length;n++){const s=e[n];wasTracked(s)&&!newTracked(s)?s.delete(r):e[i++]=s,s.w&=~trackOpBit,s.n&=~trackOpBit}e.length=i}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(e,i=null,n){this.fn=e,this.scheduler=i,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,n)}run(){if(!this.active)return this.fn();let e=activeEffect,i=shouldTrack;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=i,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(r){const{deps:e}=r;if(e.length){for(let i=0;i<e.length;i++)e[i].delete(r);e.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const r=trackStack.pop();shouldTrack=r===void 0?!0:r}function track(r,e,i){if(shouldTrack&&activeEffect){let n=targetMap.get(r);n||targetMap.set(r,n=new Map);let s=n.get(i);s||n.set(i,s=createDep()),trackEffects(s)}}function trackEffects(r,e){let i=!1;effectTrackDepth<=maxMarkerBits?newTracked(r)||(r.n|=trackOpBit,i=!wasTracked(r)):i=!r.has(activeEffect),i&&(r.add(activeEffect),activeEffect.deps.push(r))}function trigger(r,e,i,n,s,o){const a=targetMap.get(r);if(!a)return;let c=[];if(e==="clear")c=[...a.values()];else if(i==="length"&&isArray$1(r))a.forEach((u,f)=>{(f==="length"||f>=n)&&c.push(u)});else switch(i!==void 0&&c.push(a.get(i)),e){case"add":isArray$1(r)?isIntegerKey(i)&&c.push(a.get("length")):(c.push(a.get(ITERATE_KEY)),isMap(r)&&c.push(a.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$1(r)||(c.push(a.get(ITERATE_KEY)),isMap(r)&&c.push(a.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(r)&&c.push(a.get(ITERATE_KEY));break}if(c.length===1)c[0]&&triggerEffects(c[0]);else{const u=[];for(const f of c)f&&u.push(...f);triggerEffects(createDep(u))}}function triggerEffects(r,e){const i=isArray$1(r)?r:[...r];for(const n of i)n.computed&&triggerEffect(n);for(const n of i)n.computed||triggerEffect(n)}function triggerEffect(r,e){(r!==activeEffect||r.allowRecurse)&&(r.scheduler?r.scheduler():r.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(isSymbol)),get=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const r={};return["includes","indexOf","lastIndexOf"].forEach(e=>{r[e]=function(...i){const n=toRaw(this);for(let o=0,a=this.length;o<a;o++)track(n,"get",o+"");const s=n[e](...i);return s===-1||s===!1?n[e](...i.map(toRaw)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{r[e]=function(...i){pauseTracking();const n=toRaw(this)[e].apply(this,i);return resetTracking(),n}}),r}function createGetter(r=!1,e=!1){return function(n,s,o){if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return e;if(s==="__v_raw"&&o===(r?e?shallowReadonlyMap:readonlyMap:e?shallowReactiveMap:reactiveMap).get(n))return n;const a=isArray$1(n);if(!r&&a&&hasOwn(arrayInstrumentations,s))return Reflect.get(arrayInstrumentations,s,o);const c=Reflect.get(n,s,o);return(isSymbol(s)?builtInSymbols.has(s):isNonTrackableKeys(s))||(r||track(n,"get",s),e)?c:isRef(c)?a&&isIntegerKey(s)?c:c.value:isObject$2(c)?r?readonly(c):reactive(c):c}}const set=createSetter(),shallowSet=createSetter(!0);function createSetter(r=!1){return function(i,n,s,o){let a=i[n];if(isReadonly(a)&&isRef(a)&&!isRef(s))return!1;if(!r&&!isReadonly(s)&&(isShallow(s)||(s=toRaw(s),a=toRaw(a)),!isArray$1(i)&&isRef(a)&&!isRef(s)))return a.value=s,!0;const c=isArray$1(i)&&isIntegerKey(n)?Number(n)<i.length:hasOwn(i,n),u=Reflect.set(i,n,s,o);return i===toRaw(o)&&(c?hasChanged(s,a)&&trigger(i,"set",n,s):trigger(i,"add",n,s)),u}}function deleteProperty(r,e){const i=hasOwn(r,e);r[e];const n=Reflect.deleteProperty(r,e);return n&&i&&trigger(r,"delete",e,void 0),n}function has(r,e){const i=Reflect.has(r,e);return(!isSymbol(e)||!builtInSymbols.has(e))&&track(r,"has",e),i}function ownKeys(r){return track(r,"iterate",isArray$1(r)?"length":ITERATE_KEY),Reflect.ownKeys(r)}const mutableHandlers={get,set,deleteProperty,has,ownKeys},readonlyHandlers={get:readonlyGet,set(r,e){return!0},deleteProperty(r,e){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=r=>r,getProto=r=>Reflect.getPrototypeOf(r);function get$1(r,e,i=!1,n=!1){r=r.__v_raw;const s=toRaw(r),o=toRaw(e);i||(e!==o&&track(s,"get",e),track(s,"get",o));const{has:a}=getProto(s),c=n?toShallow:i?toReadonly:toReactive;if(a.call(s,e))return c(r.get(e));if(a.call(s,o))return c(r.get(o));r!==s&&r.get(e)}function has$1(r,e=!1){const i=this.__v_raw,n=toRaw(i),s=toRaw(r);return e||(r!==s&&track(n,"has",r),track(n,"has",s)),r===s?i.has(r):i.has(r)||i.has(s)}function size(r,e=!1){return r=r.__v_raw,!e&&track(toRaw(r),"iterate",ITERATE_KEY),Reflect.get(r,"size",r)}function add(r){r=toRaw(r);const e=toRaw(this);return getProto(e).has.call(e,r)||(e.add(r),trigger(e,"add",r,r)),this}function set$1(r,e){e=toRaw(e);const i=toRaw(this),{has:n,get:s}=getProto(i);let o=n.call(i,r);o||(r=toRaw(r),o=n.call(i,r));const a=s.call(i,r);return i.set(r,e),o?hasChanged(e,a)&&trigger(i,"set",r,e):trigger(i,"add",r,e),this}function deleteEntry(r){const e=toRaw(this),{has:i,get:n}=getProto(e);let s=i.call(e,r);s||(r=toRaw(r),s=i.call(e,r)),n&&n.call(e,r);const o=e.delete(r);return s&&trigger(e,"delete",r,void 0),o}function clear(){const r=toRaw(this),e=r.size!==0,i=r.clear();return e&&trigger(r,"clear",void 0,void 0),i}function createForEach(r,e){return function(n,s){const o=this,a=o.__v_raw,c=toRaw(a),u=e?toShallow:r?toReadonly:toReactive;return!r&&track(c,"iterate",ITERATE_KEY),a.forEach((f,d)=>n.call(s,u(f),u(d),o))}}function createIterableMethod(r,e,i){return function(...n){const s=this.__v_raw,o=toRaw(s),a=isMap(o),c=r==="entries"||r===Symbol.iterator&&a,u=r==="keys"&&a,f=s[r](...n),d=i?toShallow:e?toReadonly:toReactive;return!e&&track(o,"iterate",u?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:m,done:_}=f.next();return _?{value:m,done:_}:{value:c?[d(m[0]),d(m[1])]:d(m),done:_}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(r){return function(...e){return r==="delete"?!1:this}}function createInstrumentations(){const r={get(o){return get$1(this,o)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},e={get(o){return get$1(this,o,!1,!0)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},i={get(o){return get$1(this,o,!0)},get size(){return size(this,!0)},has(o){return has$1.call(this,o,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},n={get(o){return get$1(this,o,!0,!0)},get size(){return size(this,!0)},has(o){return has$1.call(this,o,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{r[o]=createIterableMethod(o,!1,!1),i[o]=createIterableMethod(o,!0,!1),e[o]=createIterableMethod(o,!1,!0),n[o]=createIterableMethod(o,!0,!0)}),[r,i,e,n]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(r,e){const i=e?r?shallowReadonlyInstrumentations:shallowInstrumentations:r?readonlyInstrumentations:mutableInstrumentations;return(n,s,o)=>s==="__v_isReactive"?!r:s==="__v_isReadonly"?r:s==="__v_raw"?n:Reflect.get(hasOwn(i,s)&&s in n?i:n,s,o)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(r){return r.__v_skip||!Object.isExtensible(r)?0:targetTypeMap(toRawType(r))}function reactive(r){return isReadonly(r)?r:createReactiveObject(r,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(r){return createReactiveObject(r,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(r){return createReactiveObject(r,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(r,e,i,n,s){if(!isObject$2(r)||r.__v_raw&&!(e&&r.__v_isReactive))return r;const o=s.get(r);if(o)return o;const a=getTargetType(r);if(a===0)return r;const c=new Proxy(r,a===2?n:i);return s.set(r,c),c}function isReactive(r){return isReadonly(r)?isReactive(r.__v_raw):!!(r&&r.__v_isReactive)}function isReadonly(r){return!!(r&&r.__v_isReadonly)}function isShallow(r){return!!(r&&r.__v_isShallow)}function isProxy(r){return isReactive(r)||isReadonly(r)}function toRaw(r){const e=r&&r.__v_raw;return e?toRaw(e):r}function markRaw(r){return def(r,"__v_skip",!0),r}const toReactive=r=>isObject$2(r)?reactive(r):r,toReadonly=r=>isObject$2(r)?readonly(r):r;function trackRefValue(r){shouldTrack&&activeEffect&&(r=toRaw(r),trackEffects(r.dep||(r.dep=createDep())))}function triggerRefValue(r,e){r=toRaw(r),r.dep&&triggerEffects(r.dep)}function isRef(r){return!!(r&&r.__v_isRef===!0)}function ref(r){return createRef(r,!1)}function shallowRef(r){return createRef(r,!0)}function createRef(r,e){return isRef(r)?r:new RefImpl(r,e)}class RefImpl{constructor(e,i){this.__v_isShallow=i,this.dep=void 0,this.__v_isRef=!0,this._rawValue=i?e:toRaw(e),this._value=i?e:toReactive(e)}get value(){return trackRefValue(this),this._value}set value(e){e=this.__v_isShallow?e:toRaw(e),hasChanged(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:toReactive(e),triggerRefValue(this))}}function unref(r){return isRef(r)?r.value:r}const shallowUnwrapHandlers={get:(r,e,i)=>unref(Reflect.get(r,e,i)),set:(r,e,i,n)=>{const s=r[e];return isRef(s)&&!isRef(i)?(s.value=i,!0):Reflect.set(r,e,i,n)}};function proxyRefs(r){return isReactive(r)?r:new Proxy(r,shallowUnwrapHandlers)}class ComputedRefImpl{constructor(e,i,n,s){this._setter=i,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new ReactiveEffect(e,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=n}get value(){const e=toRaw(this);return trackRefValue(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function computed$1(r,e,i=!1){let n,s;const o=isFunction(r);return o?(n=r,s=NOOP):(n=r.get,s=r.set),new ComputedRefImpl(n,s,o||!s,i)}function callWithErrorHandling(r,e,i,n){let s;try{s=n?r(...n):r()}catch(o){handleError(o,e,i)}return s}function callWithAsyncErrorHandling(r,e,i,n){if(isFunction(r)){const o=callWithErrorHandling(r,e,i,n);return o&&isPromise$1(o)&&o.catch(a=>{handleError(a,e,i)}),o}const s=[];for(let o=0;o<r.length;o++)s.push(callWithAsyncErrorHandling(r[o],e,i,n));return s}function handleError(r,e,i,n=!0){const s=e?e.vnode:null;if(e){let o=e.parent;const a=e.proxy,c=i;for(;o;){const f=o.ec;if(f){for(let d=0;d<f.length;d++)if(f[d](r,a,c)===!1)return}o=o.parent}const u=e.appContext.config.errorHandler;if(u){callWithErrorHandling(u,null,10,[r,a,c]);return}}logError(r,i,s,n)}function logError(r,e,i,n=!0){console.error(r)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPreFlushCbs=[];let activePreFlushCbs=null,preFlushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null,currentPreFlushParentJob=null;function nextTick(r){const e=currentFlushPromise||resolvedPromise;return r?e.then(this?r.bind(this):r):e}function findInsertionIndex(r){let e=flushIndex+1,i=queue.length;for(;e<i;){const n=e+i>>>1;getId(queue[n])<r?e=n+1:i=n}return e}function queueJob(r){(!queue.length||!queue.includes(r,isFlushing&&r.allowRecurse?flushIndex+1:flushIndex))&&r!==currentPreFlushParentJob&&(r.id==null?queue.push(r):queue.splice(findInsertionIndex(r.id),0,r),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(r){const e=queue.indexOf(r);e>flushIndex&&queue.splice(e,1)}function queueCb(r,e,i,n){isArray$1(r)?i.push(...r):(!e||!e.includes(r,r.allowRecurse?n+1:n))&&i.push(r),queueFlush()}function queuePreFlushCb(r){queueCb(r,activePreFlushCbs,pendingPreFlushCbs,preFlushIndex)}function queuePostFlushCb(r){queueCb(r,activePostFlushCbs,pendingPostFlushCbs,postFlushIndex)}function flushPreFlushCbs(r,e=null){if(pendingPreFlushCbs.length){for(currentPreFlushParentJob=e,activePreFlushCbs=[...new Set(pendingPreFlushCbs)],pendingPreFlushCbs.length=0,preFlushIndex=0;preFlushIndex<activePreFlushCbs.length;preFlushIndex++)activePreFlushCbs[preFlushIndex]();activePreFlushCbs=null,preFlushIndex=0,currentPreFlushParentJob=null,flushPreFlushCbs(r,e)}}function flushPostFlushCbs(r){if(flushPreFlushCbs(),pendingPostFlushCbs.length){const e=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...e);return}for(activePostFlushCbs=e,activePostFlushCbs.sort((i,n)=>getId(i)-getId(n)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=r=>r.id==null?1/0:r.id;function flushJobs(r){isFlushPending=!1,isFlushing=!0,flushPreFlushCbs(r),queue.sort((i,n)=>getId(i)-getId(n));const e=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const i=queue[flushIndex];i&&i.active!==!1&&callWithErrorHandling(i,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPreFlushCbs.length||pendingPostFlushCbs.length)&&flushJobs(r)}}function emit$1(r,e,...i){if(r.isUnmounted)return;const n=r.vnode.props||EMPTY_OBJ;let s=i;const o=e.startsWith("update:"),a=o&&e.slice(7);if(a&&a in n){const d=`${a==="modelValue"?"model":a}Modifiers`,{number:m,trim:_}=n[d]||EMPTY_OBJ;_&&(s=i.map(ye=>ye.trim())),m&&(s=i.map(toNumber))}let c,u=n[c=toHandlerKey(e)]||n[c=toHandlerKey(camelize(e))];!u&&o&&(u=n[c=toHandlerKey(hyphenate(e))]),u&&callWithAsyncErrorHandling(u,r,6,s);const f=n[c+"Once"];if(f){if(!r.emitted)r.emitted={};else if(r.emitted[c])return;r.emitted[c]=!0,callWithAsyncErrorHandling(f,r,6,s)}}function normalizeEmitsOptions(r,e,i=!1){const n=e.emitsCache,s=n.get(r);if(s!==void 0)return s;const o=r.emits;let a={},c=!1;if(!isFunction(r)){const u=f=>{const d=normalizeEmitsOptions(f,e,!0);d&&(c=!0,extend(a,d))};!i&&e.mixins.length&&e.mixins.forEach(u),r.extends&&u(r.extends),r.mixins&&r.mixins.forEach(u)}return!o&&!c?(n.set(r,null),null):(isArray$1(o)?o.forEach(u=>a[u]=null):extend(a,o),n.set(r,a),a)}function isEmitListener(r,e){return!r||!isOn(e)?!1:(e=e.slice(2).replace(/Once$/,""),hasOwn(r,e[0].toLowerCase()+e.slice(1))||hasOwn(r,hyphenate(e))||hasOwn(r,e))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(r){const e=currentRenderingInstance;return currentRenderingInstance=r,currentScopeId=r&&r.type.__scopeId||null,e}function withCtx(r,e=currentRenderingInstance,i){if(!e||r._n)return r;const n=(...s)=>{n._d&&setBlockTracking(-1);const o=setCurrentRenderingInstance(e),a=r(...s);return setCurrentRenderingInstance(o),n._d&&setBlockTracking(1),a};return n._n=!0,n._c=!0,n._d=!0,n}function markAttrsAccessed(){}function renderComponentRoot(r){const{type:e,vnode:i,proxy:n,withProxy:s,props:o,propsOptions:[a],slots:c,attrs:u,emit:f,render:d,renderCache:m,data:_,setupState:ye,ctx:Se,inheritAttrs:Ce}=r;let Le,he;const g=setCurrentRenderingInstance(r);try{if(i.shapeFlag&4){const ve=s||n;Le=normalizeVNode(d.call(ve,ve,m,o,ye,_,Se)),he=u}else{const ve=e;Le=normalizeVNode(ve.length>1?ve(o,{attrs:u,slots:c,emit:f}):ve(o,null)),he=e.props?u:getFunctionalFallthrough(u)}}catch(ve){blockStack.length=0,handleError(ve,r,1),Le=createVNode(Comment)}let b=Le;if(he&&Ce!==!1){const ve=Object.keys(he),{shapeFlag:Pe}=b;ve.length&&Pe&7&&(a&&ve.some(isModelListener)&&(he=filterModelListeners(he,a)),b=cloneVNode(b,he))}return i.dirs&&(b=cloneVNode(b),b.dirs=b.dirs?b.dirs.concat(i.dirs):i.dirs),i.transition&&(b.transition=i.transition),Le=b,setCurrentRenderingInstance(g),Le}const getFunctionalFallthrough=r=>{let e;for(const i in r)(i==="class"||i==="style"||isOn(i))&&((e||(e={}))[i]=r[i]);return e},filterModelListeners=(r,e)=>{const i={};for(const n in r)(!isModelListener(n)||!(n.slice(9)in e))&&(i[n]=r[n]);return i};function shouldUpdateComponent(r,e,i){const{props:n,children:s,component:o}=r,{props:a,children:c,patchFlag:u}=e,f=o.emitsOptions;if(e.dirs||e.transition)return!0;if(i&&u>=0){if(u&1024)return!0;if(u&16)return n?hasPropsChanged(n,a,f):!!a;if(u&8){const d=e.dynamicProps;for(let m=0;m<d.length;m++){const _=d[m];if(a[_]!==n[_]&&!isEmitListener(f,_))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:n===a?!1:n?a?hasPropsChanged(n,a,f):!0:!!a;return!1}function hasPropsChanged(r,e,i){const n=Object.keys(e);if(n.length!==Object.keys(r).length)return!0;for(let s=0;s<n.length;s++){const o=n[s];if(e[o]!==r[o]&&!isEmitListener(i,o))return!0}return!1}function updateHOCHostEl({vnode:r,parent:e},i){for(;e&&e.subTree===r;)(r=e.vnode).el=i,e=e.parent}const isSuspense=r=>r.__isSuspense;function queueEffectWithSuspense(r,e){e&&e.pendingBranch?isArray$1(r)?e.effects.push(...r):e.effects.push(r):queuePostFlushCb(r)}function provide(r,e){if(currentInstance){let i=currentInstance.provides;const n=currentInstance.parent&&currentInstance.parent.provides;n===i&&(i=currentInstance.provides=Object.create(n)),i[r]=e}}function inject(r,e,i=!1){const n=currentInstance||currentRenderingInstance;if(n){const s=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(s&&r in s)return s[r];if(arguments.length>1)return i&&isFunction(e)?e.call(n.proxy):e}}const INITIAL_WATCHER_VALUE={};function watch(r,e,i){return doWatch(r,e,i)}function doWatch(r,e,{immediate:i,deep:n,flush:s,onTrack:o,onTrigger:a}=EMPTY_OBJ){const c=currentInstance;let u,f=!1,d=!1;if(isRef(r)?(u=()=>r.value,f=isShallow(r)):isReactive(r)?(u=()=>r,n=!0):isArray$1(r)?(d=!0,f=r.some(he=>isReactive(he)||isShallow(he)),u=()=>r.map(he=>{if(isRef(he))return he.value;if(isReactive(he))return traverse(he);if(isFunction(he))return callWithErrorHandling(he,c,2)})):isFunction(r)?e?u=()=>callWithErrorHandling(r,c,2):u=()=>{if(!(c&&c.isUnmounted))return m&&m(),callWithAsyncErrorHandling(r,c,3,[_])}:u=NOOP,e&&n){const he=u;u=()=>traverse(he())}let m,_=he=>{m=Le.onStop=()=>{callWithErrorHandling(he,c,4)}};if(isInSSRComponentSetup)return _=NOOP,e?i&&callWithAsyncErrorHandling(e,c,3,[u(),d?[]:void 0,_]):u(),NOOP;let ye=d?[]:INITIAL_WATCHER_VALUE;const Se=()=>{if(!!Le.active)if(e){const he=Le.run();(n||f||(d?he.some((g,b)=>hasChanged(g,ye[b])):hasChanged(he,ye)))&&(m&&m(),callWithAsyncErrorHandling(e,c,3,[he,ye===INITIAL_WATCHER_VALUE?void 0:ye,_]),ye=he)}else Le.run()};Se.allowRecurse=!!e;let Ce;s==="sync"?Ce=Se:s==="post"?Ce=()=>queuePostRenderEffect(Se,c&&c.suspense):Ce=()=>queuePreFlushCb(Se);const Le=new ReactiveEffect(u,Ce);return e?i?Se():ye=Le.run():s==="post"?queuePostRenderEffect(Le.run.bind(Le),c&&c.suspense):Le.run(),()=>{Le.stop(),c&&c.scope&&remove(c.scope.effects,Le)}}function instanceWatch(r,e,i){const n=this.proxy,s=isString(r)?r.includes(".")?createPathGetter(n,r):()=>n[r]:r.bind(n,n);let o;isFunction(e)?o=e:(o=e.handler,i=e);const a=currentInstance;setCurrentInstance(this);const c=doWatch(s,o.bind(n),i);return a?setCurrentInstance(a):unsetCurrentInstance(),c}function createPathGetter(r,e){const i=e.split(".");return()=>{let n=r;for(let s=0;s<i.length&&n;s++)n=n[i[s]];return n}}function traverse(r,e){if(!isObject$2(r)||r.__v_skip||(e=e||new Set,e.has(r)))return r;if(e.add(r),isRef(r))traverse(r.value,e);else if(isArray$1(r))for(let i=0;i<r.length;i++)traverse(r[i],e);else if(isSet(r)||isMap(r))r.forEach(i=>{traverse(i,e)});else if(isPlainObject(r))for(const i in r)traverse(r[i],e);return r}function useTransitionState(){const r={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{r.isMounted=!0}),onBeforeUnmount(()=>{r.isUnmounting=!0}),r}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(r,{slots:e}){const i=getCurrentInstance(),n=useTransitionState();let s;return()=>{const o=e.default&&getTransitionRawChildren(e.default(),!0);if(!o||!o.length)return;let a=o[0];if(o.length>1){for(const Ce of o)if(Ce.type!==Comment){a=Ce;break}}const c=toRaw(r),{mode:u}=c;if(n.isLeaving)return emptyPlaceholder(a);const f=getKeepAliveChild(a);if(!f)return emptyPlaceholder(a);const d=resolveTransitionHooks(f,c,n,i);setTransitionHooks(f,d);const m=i.subTree,_=m&&getKeepAliveChild(m);let ye=!1;const{getTransitionKey:Se}=f.type;if(Se){const Ce=Se();s===void 0?s=Ce:Ce!==s&&(s=Ce,ye=!0)}if(_&&_.type!==Comment&&(!isSameVNodeType(f,_)||ye)){const Ce=resolveTransitionHooks(_,c,n,i);if(setTransitionHooks(_,Ce),u==="out-in")return n.isLeaving=!0,Ce.afterLeave=()=>{n.isLeaving=!1,i.update()},emptyPlaceholder(a);u==="in-out"&&f.type!==Comment&&(Ce.delayLeave=(Le,he,g)=>{const b=getLeavingNodesForType(n,_);b[String(_.key)]=_,Le._leaveCb=()=>{he(),Le._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=g})}return a}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(r,e){const{leavingVNodes:i}=r;let n=i.get(e.type);return n||(n=Object.create(null),i.set(e.type,n)),n}function resolveTransitionHooks(r,e,i,n){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:f,onEnterCancelled:d,onBeforeLeave:m,onLeave:_,onAfterLeave:ye,onLeaveCancelled:Se,onBeforeAppear:Ce,onAppear:Le,onAfterAppear:he,onAppearCancelled:g}=e,b=String(r.key),ve=getLeavingNodesForType(i,r),Pe=(et,yt)=>{et&&callWithAsyncErrorHandling(et,n,9,yt)},Be=(et,yt)=>{const kt=yt[1];Pe(et,yt),isArray$1(et)?et.every(Ot=>Ot.length<=1)&&kt():et.length<=1&&kt()},Ve={mode:o,persisted:a,beforeEnter(et){let yt=c;if(!i.isMounted)if(s)yt=Ce||c;else return;et._leaveCb&&et._leaveCb(!0);const kt=ve[b];kt&&isSameVNodeType(r,kt)&&kt.el._leaveCb&&kt.el._leaveCb(),Pe(yt,[et])},enter(et){let yt=u,kt=f,Ot=d;if(!i.isMounted)if(s)yt=Le||u,kt=he||f,Ot=g||d;else return;let Ft=!1;const wt=et._enterCb=Dt=>{Ft||(Ft=!0,Dt?Pe(Ot,[et]):Pe(kt,[et]),Ve.delayedLeave&&Ve.delayedLeave(),et._enterCb=void 0)};yt?Be(yt,[et,wt]):wt()},leave(et,yt){const kt=String(r.key);if(et._enterCb&&et._enterCb(!0),i.isUnmounting)return yt();Pe(m,[et]);let Ot=!1;const Ft=et._leaveCb=wt=>{Ot||(Ot=!0,yt(),wt?Pe(Se,[et]):Pe(ye,[et]),et._leaveCb=void 0,ve[kt]===r&&delete ve[kt])};ve[kt]=r,_?Be(_,[et,Ft]):Ft()},clone(et){return resolveTransitionHooks(et,e,i,n)}};return Ve}function emptyPlaceholder(r){if(isKeepAlive(r))return r=cloneVNode(r),r.children=null,r}function getKeepAliveChild(r){return isKeepAlive(r)?r.children?r.children[0]:void 0:r}function setTransitionHooks(r,e){r.shapeFlag&6&&r.component?setTransitionHooks(r.component.subTree,e):r.shapeFlag&128?(r.ssContent.transition=e.clone(r.ssContent),r.ssFallback.transition=e.clone(r.ssFallback)):r.transition=e}function getTransitionRawChildren(r,e=!1,i){let n=[],s=0;for(let o=0;o<r.length;o++){let a=r[o];const c=i==null?a.key:String(i)+String(a.key!=null?a.key:o);a.type===Fragment?(a.patchFlag&128&&s++,n=n.concat(getTransitionRawChildren(a.children,e,c))):(e||a.type!==Comment)&&n.push(c!=null?cloneVNode(a,{key:c}):a)}if(s>1)for(let o=0;o<n.length;o++)n[o].patchFlag=-2;return n}function defineComponent(r){return isFunction(r)?{setup:r,name:r.name}:r}const isAsyncWrapper=r=>!!r.type.__asyncLoader,isKeepAlive=r=>r.type.__isKeepAlive;function onActivated(r,e){registerKeepAliveHook(r,"a",e)}function onDeactivated(r,e){registerKeepAliveHook(r,"da",e)}function registerKeepAliveHook(r,e,i=currentInstance){const n=r.__wdc||(r.__wdc=()=>{let s=i;for(;s;){if(s.isDeactivated)return;s=s.parent}return r()});if(injectHook(e,n,i),i){let s=i.parent;for(;s&&s.parent;)isKeepAlive(s.parent.vnode)&&injectToKeepAliveRoot(n,e,i,s),s=s.parent}}function injectToKeepAliveRoot(r,e,i,n){const s=injectHook(e,r,n,!0);onUnmounted(()=>{remove(n[e],s)},i)}function injectHook(r,e,i=currentInstance,n=!1){if(i){const s=i[r]||(i[r]=[]),o=e.__weh||(e.__weh=(...a)=>{if(i.isUnmounted)return;pauseTracking(),setCurrentInstance(i);const c=callWithAsyncErrorHandling(e,i,r,a);return unsetCurrentInstance(),resetTracking(),c});return n?s.unshift(o):s.push(o),o}}const createHook=r=>(e,i=currentInstance)=>(!isInSSRComponentSetup||r==="sp")&&injectHook(r,e,i),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(r,e=currentInstance){injectHook("ec",r,e)}function withDirectives(r,e){const i=currentRenderingInstance;if(i===null)return r;const n=getExposeProxy(i)||i.proxy,s=r.dirs||(r.dirs=[]);for(let o=0;o<e.length;o++){let[a,c,u,f=EMPTY_OBJ]=e[o];isFunction(a)&&(a={mounted:a,updated:a}),a.deep&&traverse(c),s.push({dir:a,instance:n,value:c,oldValue:void 0,arg:u,modifiers:f})}return r}function invokeDirectiveHook(r,e,i,n){const s=r.dirs,o=e&&e.dirs;for(let a=0;a<s.length;a++){const c=s[a];o&&(c.oldValue=o[a].value);let u=c.dir[n];u&&(pauseTracking(),callWithAsyncErrorHandling(u,i,8,[r.el,c,r,e]),resetTracking())}}const COMPONENTS="components";function resolveComponent(r,e){return resolveAsset(COMPONENTS,r,!0,e)||r}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveAsset(r,e,i=!0,n=!1){const s=currentRenderingInstance||currentInstance;if(s){const o=s.type;if(r===COMPONENTS){const c=getComponentName(o,!1);if(c&&(c===e||c===camelize(e)||c===capitalize(camelize(e))))return o}const a=resolve(s[r]||o[r],e)||resolve(s.appContext[r],e);return!a&&n?o:a}}function resolve(r,e){return r&&(r[e]||r[camelize(e)]||r[capitalize(camelize(e))])}function renderList(r,e,i,n){let s;const o=i&&i[n];if(isArray$1(r)||isString(r)){s=new Array(r.length);for(let a=0,c=r.length;a<c;a++)s[a]=e(r[a],a,void 0,o&&o[a])}else if(typeof r=="number"){s=new Array(r);for(let a=0;a<r;a++)s[a]=e(a+1,a,void 0,o&&o[a])}else if(isObject$2(r))if(r[Symbol.iterator])s=Array.from(r,(a,c)=>e(a,c,void 0,o&&o[c]));else{const a=Object.keys(r);s=new Array(a.length);for(let c=0,u=a.length;c<u;c++){const f=a[c];s[c]=e(r[f],f,c,o&&o[c])}}else s=[];return i&&(i[n]=s),s}function renderSlot(r,e,i={},n,s){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return createVNode("slot",e==="default"?null:{name:e},n&&n());let o=r[e];o&&o._c&&(o._d=!1),openBlock();const a=o&&ensureValidVNode(o(i)),c=createBlock(Fragment,{key:i.key||`_${e}`},a||(n?n():[]),a&&r._===1?64:-2);return!s&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),o&&o._c&&(o._d=!0),c}function ensureValidVNode(r){return r.some(e=>isVNode(e)?!(e.type===Comment||e.type===Fragment&&!ensureValidVNode(e.children)):!0)?r:null}const getPublicInstance=r=>r?isStatefulComponent(r)?getExposeProxy(r)||r.proxy:getPublicInstance(r.parent):null,publicPropertiesMap=extend(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>getPublicInstance(r.parent),$root:r=>getPublicInstance(r.root),$emit:r=>r.emit,$options:r=>resolveMergedOptions(r),$forceUpdate:r=>r.f||(r.f=()=>queueJob(r.update)),$nextTick:r=>r.n||(r.n=nextTick.bind(r.proxy)),$watch:r=>instanceWatch.bind(r)}),PublicInstanceProxyHandlers={get({_:r},e){const{ctx:i,setupState:n,data:s,props:o,accessCache:a,type:c,appContext:u}=r;let f;if(e[0]!=="$"){const ye=a[e];if(ye!==void 0)switch(ye){case 1:return n[e];case 2:return s[e];case 4:return i[e];case 3:return o[e]}else{if(n!==EMPTY_OBJ&&hasOwn(n,e))return a[e]=1,n[e];if(s!==EMPTY_OBJ&&hasOwn(s,e))return a[e]=2,s[e];if((f=r.propsOptions[0])&&hasOwn(f,e))return a[e]=3,o[e];if(i!==EMPTY_OBJ&&hasOwn(i,e))return a[e]=4,i[e];shouldCacheAccess&&(a[e]=0)}}const d=publicPropertiesMap[e];let m,_;if(d)return e==="$attrs"&&track(r,"get",e),d(r);if((m=c.__cssModules)&&(m=m[e]))return m;if(i!==EMPTY_OBJ&&hasOwn(i,e))return a[e]=4,i[e];if(_=u.config.globalProperties,hasOwn(_,e))return _[e]},set({_:r},e,i){const{data:n,setupState:s,ctx:o}=r;return s!==EMPTY_OBJ&&hasOwn(s,e)?(s[e]=i,!0):n!==EMPTY_OBJ&&hasOwn(n,e)?(n[e]=i,!0):hasOwn(r.props,e)||e[0]==="$"&&e.slice(1)in r?!1:(o[e]=i,!0)},has({_:{data:r,setupState:e,accessCache:i,ctx:n,appContext:s,propsOptions:o}},a){let c;return!!i[a]||r!==EMPTY_OBJ&&hasOwn(r,a)||e!==EMPTY_OBJ&&hasOwn(e,a)||(c=o[0])&&hasOwn(c,a)||hasOwn(n,a)||hasOwn(publicPropertiesMap,a)||hasOwn(s.config.globalProperties,a)},defineProperty(r,e,i){return i.get!=null?r._.accessCache[e]=0:hasOwn(i,"value")&&this.set(r,e,i.value,null),Reflect.defineProperty(r,e,i)}};let shouldCacheAccess=!0;function applyOptions(r){const e=resolveMergedOptions(r),i=r.proxy,n=r.ctx;shouldCacheAccess=!1,e.beforeCreate&&callHook(e.beforeCreate,r,"bc");const{data:s,computed:o,methods:a,watch:c,provide:u,inject:f,created:d,beforeMount:m,mounted:_,beforeUpdate:ye,updated:Se,activated:Ce,deactivated:Le,beforeDestroy:he,beforeUnmount:g,destroyed:b,unmounted:ve,render:Pe,renderTracked:Be,renderTriggered:Ve,errorCaptured:et,serverPrefetch:yt,expose:kt,inheritAttrs:Ot,components:Ft,directives:wt,filters:Dt}=e;if(f&&resolveInjections(f,n,null,r.appContext.config.unwrapInjectedRef),a)for(const Ue in a){const mt=a[Ue];isFunction(mt)&&(n[Ue]=mt.bind(i))}if(s){const Ue=s.call(i,i);isObject$2(Ue)&&(r.data=reactive(Ue))}if(shouldCacheAccess=!0,o)for(const Ue in o){const mt=o[Ue],_t=isFunction(mt)?mt.bind(i,i):isFunction(mt.get)?mt.get.bind(i,i):NOOP,Vt=!isFunction(mt)&&isFunction(mt.set)?mt.set.bind(i):NOOP,xt=computed({get:_t,set:Vt});Object.defineProperty(n,Ue,{enumerable:!0,configurable:!0,get:()=>xt.value,set:cr=>xt.value=cr})}if(c)for(const Ue in c)createWatcher(c[Ue],n,i,Ue);if(u){const Ue=isFunction(u)?u.call(i):u;Reflect.ownKeys(Ue).forEach(mt=>{provide(mt,Ue[mt])})}d&&callHook(d,r,"c");function gt(Ue,mt){isArray$1(mt)?mt.forEach(_t=>Ue(_t.bind(i))):mt&&Ue(mt.bind(i))}if(gt(onBeforeMount,m),gt(onMounted,_),gt(onBeforeUpdate,ye),gt(onUpdated,Se),gt(onActivated,Ce),gt(onDeactivated,Le),gt(onErrorCaptured,et),gt(onRenderTracked,Be),gt(onRenderTriggered,Ve),gt(onBeforeUnmount,g),gt(onUnmounted,ve),gt(onServerPrefetch,yt),isArray$1(kt))if(kt.length){const Ue=r.exposed||(r.exposed={});kt.forEach(mt=>{Object.defineProperty(Ue,mt,{get:()=>i[mt],set:_t=>i[mt]=_t})})}else r.exposed||(r.exposed={});Pe&&r.render===NOOP&&(r.render=Pe),Ot!=null&&(r.inheritAttrs=Ot),Ft&&(r.components=Ft),wt&&(r.directives=wt)}function resolveInjections(r,e,i=NOOP,n=!1){isArray$1(r)&&(r=normalizeInject(r));for(const s in r){const o=r[s];let a;isObject$2(o)?"default"in o?a=inject(o.from||s,o.default,!0):a=inject(o.from||s):a=inject(o),isRef(a)&&n?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>a.value,set:c=>a.value=c}):e[s]=a}}function callHook(r,e,i){callWithAsyncErrorHandling(isArray$1(r)?r.map(n=>n.bind(e.proxy)):r.bind(e.proxy),e,i)}function createWatcher(r,e,i,n){const s=n.includes(".")?createPathGetter(i,n):()=>i[n];if(isString(r)){const o=e[r];isFunction(o)&&watch(s,o)}else if(isFunction(r))watch(s,r.bind(i));else if(isObject$2(r))if(isArray$1(r))r.forEach(o=>createWatcher(o,e,i,n));else{const o=isFunction(r.handler)?r.handler.bind(i):e[r.handler];isFunction(o)&&watch(s,o,r)}}function resolveMergedOptions(r){const e=r.type,{mixins:i,extends:n}=e,{mixins:s,optionsCache:o,config:{optionMergeStrategies:a}}=r.appContext,c=o.get(e);let u;return c?u=c:!s.length&&!i&&!n?u=e:(u={},s.length&&s.forEach(f=>mergeOptions$1(u,f,a,!0)),mergeOptions$1(u,e,a)),o.set(e,u),u}function mergeOptions$1(r,e,i,n=!1){const{mixins:s,extends:o}=e;o&&mergeOptions$1(r,o,i,!0),s&&s.forEach(a=>mergeOptions$1(r,a,i,!0));for(const a in e)if(!(n&&a==="expose")){const c=internalOptionMergeStrats[a]||i&&i[a];r[a]=c?c(r[a],e[a]):e[a]}return r}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(r,e){return e?r?function(){return extend(isFunction(r)?r.call(this,this):r,isFunction(e)?e.call(this,this):e)}:e:r}function mergeInject(r,e){return mergeObjectOptions(normalizeInject(r),normalizeInject(e))}function normalizeInject(r){if(isArray$1(r)){const e={};for(let i=0;i<r.length;i++)e[r[i]]=r[i];return e}return r}function mergeAsArray(r,e){return r?[...new Set([].concat(r,e))]:e}function mergeObjectOptions(r,e){return r?extend(extend(Object.create(null),r),e):e}function mergeWatchOptions(r,e){if(!r)return e;if(!e)return r;const i=extend(Object.create(null),r);for(const n in e)i[n]=mergeAsArray(r[n],e[n]);return i}function initProps(r,e,i,n=!1){const s={},o={};def(o,InternalObjectKey,1),r.propsDefaults=Object.create(null),setFullProps(r,e,s,o);for(const a in r.propsOptions[0])a in s||(s[a]=void 0);i?r.props=n?s:shallowReactive(s):r.type.props?r.props=s:r.props=o,r.attrs=o}function updateProps(r,e,i,n){const{props:s,attrs:o,vnode:{patchFlag:a}}=r,c=toRaw(s),[u]=r.propsOptions;let f=!1;if((n||a>0)&&!(a&16)){if(a&8){const d=r.vnode.dynamicProps;for(let m=0;m<d.length;m++){let _=d[m];if(isEmitListener(r.emitsOptions,_))continue;const ye=e[_];if(u)if(hasOwn(o,_))ye!==o[_]&&(o[_]=ye,f=!0);else{const Se=camelize(_);s[Se]=resolvePropValue(u,c,Se,ye,r,!1)}else ye!==o[_]&&(o[_]=ye,f=!0)}}}else{setFullProps(r,e,s,o)&&(f=!0);let d;for(const m in c)(!e||!hasOwn(e,m)&&((d=hyphenate(m))===m||!hasOwn(e,d)))&&(u?i&&(i[m]!==void 0||i[d]!==void 0)&&(s[m]=resolvePropValue(u,c,m,void 0,r,!0)):delete s[m]);if(o!==c)for(const m in o)(!e||!hasOwn(e,m)&&!0)&&(delete o[m],f=!0)}f&&trigger(r,"set","$attrs")}function setFullProps(r,e,i,n){const[s,o]=r.propsOptions;let a=!1,c;if(e)for(let u in e){if(isReservedProp(u))continue;const f=e[u];let d;s&&hasOwn(s,d=camelize(u))?!o||!o.includes(d)?i[d]=f:(c||(c={}))[d]=f:isEmitListener(r.emitsOptions,u)||(!(u in n)||f!==n[u])&&(n[u]=f,a=!0)}if(o){const u=toRaw(i),f=c||EMPTY_OBJ;for(let d=0;d<o.length;d++){const m=o[d];i[m]=resolvePropValue(s,u,m,f[m],r,!hasOwn(f,m))}}return a}function resolvePropValue(r,e,i,n,s,o){const a=r[i];if(a!=null){const c=hasOwn(a,"default");if(c&&n===void 0){const u=a.default;if(a.type!==Function&&isFunction(u)){const{propsDefaults:f}=s;i in f?n=f[i]:(setCurrentInstance(s),n=f[i]=u.call(null,e),unsetCurrentInstance())}else n=u}a[0]&&(o&&!c?n=!1:a[1]&&(n===""||n===hyphenate(i))&&(n=!0))}return n}function normalizePropsOptions(r,e,i=!1){const n=e.propsCache,s=n.get(r);if(s)return s;const o=r.props,a={},c=[];let u=!1;if(!isFunction(r)){const d=m=>{u=!0;const[_,ye]=normalizePropsOptions(m,e,!0);extend(a,_),ye&&c.push(...ye)};!i&&e.mixins.length&&e.mixins.forEach(d),r.extends&&d(r.extends),r.mixins&&r.mixins.forEach(d)}if(!o&&!u)return n.set(r,EMPTY_ARR),EMPTY_ARR;if(isArray$1(o))for(let d=0;d<o.length;d++){const m=camelize(o[d]);validatePropName(m)&&(a[m]=EMPTY_OBJ)}else if(o)for(const d in o){const m=camelize(d);if(validatePropName(m)){const _=o[d],ye=a[m]=isArray$1(_)||isFunction(_)?{type:_}:_;if(ye){const Se=getTypeIndex(Boolean,ye.type),Ce=getTypeIndex(String,ye.type);ye[0]=Se>-1,ye[1]=Ce<0||Se<Ce,(Se>-1||hasOwn(ye,"default"))&&c.push(m)}}}const f=[a,c];return n.set(r,f),f}function validatePropName(r){return r[0]!=="$"}function getType(r){const e=r&&r.toString().match(/^\s*function (\w+)/);return e?e[1]:r===null?"null":""}function isSameType(r,e){return getType(r)===getType(e)}function getTypeIndex(r,e){return isArray$1(e)?e.findIndex(i=>isSameType(i,r)):isFunction(e)&&isSameType(e,r)?0:-1}const isInternalKey=r=>r[0]==="_"||r==="$stable",normalizeSlotValue=r=>isArray$1(r)?r.map(normalizeVNode):[normalizeVNode(r)],normalizeSlot$1=(r,e,i)=>{if(e._n)return e;const n=withCtx((...s)=>normalizeSlotValue(e(...s)),i);return n._c=!1,n},normalizeObjectSlots=(r,e,i)=>{const n=r._ctx;for(const s in r){if(isInternalKey(s))continue;const o=r[s];if(isFunction(o))e[s]=normalizeSlot$1(s,o,n);else if(o!=null){const a=normalizeSlotValue(o);e[s]=()=>a}}},normalizeVNodeSlots=(r,e)=>{const i=normalizeSlotValue(e);r.slots.default=()=>i},initSlots=(r,e)=>{if(r.vnode.shapeFlag&32){const i=e._;i?(r.slots=toRaw(e),def(e,"_",i)):normalizeObjectSlots(e,r.slots={})}else r.slots={},e&&normalizeVNodeSlots(r,e);def(r.slots,InternalObjectKey,1)},updateSlots=(r,e,i)=>{const{vnode:n,slots:s}=r;let o=!0,a=EMPTY_OBJ;if(n.shapeFlag&32){const c=e._;c?i&&c===1?o=!1:(extend(s,e),!i&&c===1&&delete s._):(o=!e.$stable,normalizeObjectSlots(e,s)),a=e}else e&&(normalizeVNodeSlots(r,e),a={default:1});if(o)for(const c in s)!isInternalKey(c)&&!(c in a)&&delete s[c]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid=0;function createAppAPI(r,e){return function(n,s=null){isFunction(n)||(n=Object.assign({},n)),s!=null&&!isObject$2(s)&&(s=null);const o=createAppContext(),a=new Set;let c=!1;const u=o.app={_uid:uid++,_component:n,_props:s,_container:null,_context:o,_instance:null,version:version$4,get config(){return o.config},set config(f){},use(f,...d){return a.has(f)||(f&&isFunction(f.install)?(a.add(f),f.install(u,...d)):isFunction(f)&&(a.add(f),f(u,...d))),u},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),u},component(f,d){return d?(o.components[f]=d,u):o.components[f]},directive(f,d){return d?(o.directives[f]=d,u):o.directives[f]},mount(f,d,m){if(!c){const _=createVNode(n,s);return _.appContext=o,d&&e?e(_,f):r(_,f,m),c=!0,u._container=f,f.__vue_app__=u,getExposeProxy(_.component)||_.component.proxy}},unmount(){c&&(r(null,u._container),delete u._container.__vue_app__)},provide(f,d){return o.provides[f]=d,u}};return u}}function setRef(r,e,i,n,s=!1){if(isArray$1(r)){r.forEach((_,ye)=>setRef(_,e&&(isArray$1(e)?e[ye]:e),i,n,s));return}if(isAsyncWrapper(n)&&!s)return;const o=n.shapeFlag&4?getExposeProxy(n.component)||n.component.proxy:n.el,a=s?null:o,{i:c,r:u}=r,f=e&&e.r,d=c.refs===EMPTY_OBJ?c.refs={}:c.refs,m=c.setupState;if(f!=null&&f!==u&&(isString(f)?(d[f]=null,hasOwn(m,f)&&(m[f]=null)):isRef(f)&&(f.value=null)),isFunction(u))callWithErrorHandling(u,c,12,[a,d]);else{const _=isString(u),ye=isRef(u);if(_||ye){const Se=()=>{if(r.f){const Ce=_?d[u]:u.value;s?isArray$1(Ce)&&remove(Ce,o):isArray$1(Ce)?Ce.includes(o)||Ce.push(o):_?(d[u]=[o],hasOwn(m,u)&&(m[u]=d[u])):(u.value=[o],r.k&&(d[r.k]=u.value))}else _?(d[u]=a,hasOwn(m,u)&&(m[u]=a)):ye&&(u.value=a,r.k&&(d[r.k]=a))};a?(Se.id=-1,queuePostRenderEffect(Se,i)):Se()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(r){return baseCreateRenderer(r)}function baseCreateRenderer(r,e){const i=getGlobalThis();i.__VUE__=!0;const{insert:n,remove:s,patchProp:o,createElement:a,createText:c,createComment:u,setText:f,setElementText:d,parentNode:m,nextSibling:_,setScopeId:ye=NOOP,cloneNode:Se,insertStaticContent:Ce}=r,Le=(ot,vt,St,Wt=null,Ht=null,ir=null,sr=!1,tr=null,nr=!!vt.dynamicChildren)=>{if(ot===vt)return;ot&&!isSameVNodeType(ot,vt)&&(Wt=lr(ot),yr(ot,Ht,ir,!0),ot=null),vt.patchFlag===-2&&(nr=!1,vt.dynamicChildren=null);const{type:er,ref:hr,shapeFlag:ar}=vt;switch(er){case Text:he(ot,vt,St,Wt);break;case Comment:g(ot,vt,St,Wt);break;case Static:ot==null&&b(vt,St,Wt,sr);break;case Fragment:wt(ot,vt,St,Wt,Ht,ir,sr,tr,nr);break;default:ar&1?Be(ot,vt,St,Wt,Ht,ir,sr,tr,nr):ar&6?Dt(ot,vt,St,Wt,Ht,ir,sr,tr,nr):(ar&64||ar&128)&&er.process(ot,vt,St,Wt,Ht,ir,sr,tr,nr,Er)}hr!=null&&Ht&&setRef(hr,ot&&ot.ref,ir,vt||ot,!vt)},he=(ot,vt,St,Wt)=>{if(ot==null)n(vt.el=c(vt.children),St,Wt);else{const Ht=vt.el=ot.el;vt.children!==ot.children&&f(Ht,vt.children)}},g=(ot,vt,St,Wt)=>{ot==null?n(vt.el=u(vt.children||""),St,Wt):vt.el=ot.el},b=(ot,vt,St,Wt)=>{[ot.el,ot.anchor]=Ce(ot.children,vt,St,Wt,ot.el,ot.anchor)},ve=({el:ot,anchor:vt},St,Wt)=>{let Ht;for(;ot&&ot!==vt;)Ht=_(ot),n(ot,St,Wt),ot=Ht;n(vt,St,Wt)},Pe=({el:ot,anchor:vt})=>{let St;for(;ot&&ot!==vt;)St=_(ot),s(ot),ot=St;s(vt)},Be=(ot,vt,St,Wt,Ht,ir,sr,tr,nr)=>{sr=sr||vt.type==="svg",ot==null?Ve(vt,St,Wt,Ht,ir,sr,tr,nr):kt(ot,vt,Ht,ir,sr,tr,nr)},Ve=(ot,vt,St,Wt,Ht,ir,sr,tr)=>{let nr,er;const{type:hr,props:ar,shapeFlag:ur,transition:vr,patchFlag:wr,dirs:Sr}=ot;if(ot.el&&Se!==void 0&&wr===-1)nr=ot.el=Se(ot.el);else{if(nr=ot.el=a(ot.type,ir,ar&&ar.is,ar),ur&8?d(nr,ot.children):ur&16&&yt(ot.children,nr,null,Wt,Ht,ir&&hr!=="foreignObject",sr,tr),Sr&&invokeDirectiveHook(ot,null,Wt,"created"),ar){for(const Ar in ar)Ar!=="value"&&!isReservedProp(Ar)&&o(nr,Ar,null,ar[Ar],ir,ot.children,Wt,Ht,rr);"value"in ar&&o(nr,"value",null,ar.value),(er=ar.onVnodeBeforeMount)&&invokeVNodeHook(er,Wt,ot)}et(nr,ot,ot.scopeId,sr,Wt)}Sr&&invokeDirectiveHook(ot,null,Wt,"beforeMount");const Tr=(!Ht||Ht&&!Ht.pendingBranch)&&vr&&!vr.persisted;Tr&&vr.beforeEnter(nr),n(nr,vt,St),((er=ar&&ar.onVnodeMounted)||Tr||Sr)&&queuePostRenderEffect(()=>{er&&invokeVNodeHook(er,Wt,ot),Tr&&vr.enter(nr),Sr&&invokeDirectiveHook(ot,null,Wt,"mounted")},Ht)},et=(ot,vt,St,Wt,Ht)=>{if(St&&ye(ot,St),Wt)for(let ir=0;ir<Wt.length;ir++)ye(ot,Wt[ir]);if(Ht){let ir=Ht.subTree;if(vt===ir){const sr=Ht.vnode;et(ot,sr,sr.scopeId,sr.slotScopeIds,Ht.parent)}}},yt=(ot,vt,St,Wt,Ht,ir,sr,tr,nr=0)=>{for(let er=nr;er<ot.length;er++){const hr=ot[er]=tr?cloneIfMounted(ot[er]):normalizeVNode(ot[er]);Le(null,hr,vt,St,Wt,Ht,ir,sr,tr)}},kt=(ot,vt,St,Wt,Ht,ir,sr)=>{const tr=vt.el=ot.el;let{patchFlag:nr,dynamicChildren:er,dirs:hr}=vt;nr|=ot.patchFlag&16;const ar=ot.props||EMPTY_OBJ,ur=vt.props||EMPTY_OBJ;let vr;St&&toggleRecurse(St,!1),(vr=ur.onVnodeBeforeUpdate)&&invokeVNodeHook(vr,St,vt,ot),hr&&invokeDirectiveHook(vt,ot,St,"beforeUpdate"),St&&toggleRecurse(St,!0);const wr=Ht&&vt.type!=="foreignObject";if(er?Ot(ot.dynamicChildren,er,tr,St,Wt,wr,ir):sr||_t(ot,vt,tr,null,St,Wt,wr,ir,!1),nr>0){if(nr&16)Ft(tr,vt,ar,ur,St,Wt,Ht);else if(nr&2&&ar.class!==ur.class&&o(tr,"class",null,ur.class,Ht),nr&4&&o(tr,"style",ar.style,ur.style,Ht),nr&8){const Sr=vt.dynamicProps;for(let Tr=0;Tr<Sr.length;Tr++){const Ar=Sr[Tr],Pr=ar[Ar],xr=ur[Ar];(xr!==Pr||Ar==="value")&&o(tr,Ar,Pr,xr,Ht,ot.children,St,Wt,rr)}}nr&1&&ot.children!==vt.children&&d(tr,vt.children)}else!sr&&er==null&&Ft(tr,vt,ar,ur,St,Wt,Ht);((vr=ur.onVnodeUpdated)||hr)&&queuePostRenderEffect(()=>{vr&&invokeVNodeHook(vr,St,vt,ot),hr&&invokeDirectiveHook(vt,ot,St,"updated")},Wt)},Ot=(ot,vt,St,Wt,Ht,ir,sr)=>{for(let tr=0;tr<vt.length;tr++){const nr=ot[tr],er=vt[tr],hr=nr.el&&(nr.type===Fragment||!isSameVNodeType(nr,er)||nr.shapeFlag&70)?m(nr.el):St;Le(nr,er,hr,null,Wt,Ht,ir,sr,!0)}},Ft=(ot,vt,St,Wt,Ht,ir,sr)=>{if(St!==Wt){for(const tr in Wt){if(isReservedProp(tr))continue;const nr=Wt[tr],er=St[tr];nr!==er&&tr!=="value"&&o(ot,tr,er,nr,sr,vt.children,Ht,ir,rr)}if(St!==EMPTY_OBJ)for(const tr in St)!isReservedProp(tr)&&!(tr in Wt)&&o(ot,tr,St[tr],null,sr,vt.children,Ht,ir,rr);"value"in Wt&&o(ot,"value",St.value,Wt.value)}},wt=(ot,vt,St,Wt,Ht,ir,sr,tr,nr)=>{const er=vt.el=ot?ot.el:c(""),hr=vt.anchor=ot?ot.anchor:c("");let{patchFlag:ar,dynamicChildren:ur,slotScopeIds:vr}=vt;vr&&(tr=tr?tr.concat(vr):vr),ot==null?(n(er,St,Wt),n(hr,St,Wt),yt(vt.children,St,hr,Ht,ir,sr,tr,nr)):ar>0&&ar&64&&ur&&ot.dynamicChildren?(Ot(ot.dynamicChildren,ur,St,Ht,ir,sr,tr),(vt.key!=null||Ht&&vt===Ht.subTree)&&traverseStaticChildren(ot,vt,!0)):_t(ot,vt,St,hr,Ht,ir,sr,tr,nr)},Dt=(ot,vt,St,Wt,Ht,ir,sr,tr,nr)=>{vt.slotScopeIds=tr,ot==null?vt.shapeFlag&512?Ht.ctx.activate(vt,St,Wt,sr,nr):Mt(vt,St,Wt,Ht,ir,sr,nr):gt(ot,vt,nr)},Mt=(ot,vt,St,Wt,Ht,ir,sr)=>{const tr=ot.component=createComponentInstance(ot,Wt,Ht);if(isKeepAlive(ot)&&(tr.ctx.renderer=Er),setupComponent(tr),tr.asyncDep){if(Ht&&Ht.registerDep(tr,Ue),!ot.el){const nr=tr.subTree=createVNode(Comment);g(null,nr,vt,St)}return}Ue(tr,ot,vt,St,Ht,ir,sr)},gt=(ot,vt,St)=>{const Wt=vt.component=ot.component;if(shouldUpdateComponent(ot,vt,St))if(Wt.asyncDep&&!Wt.asyncResolved){mt(Wt,vt,St);return}else Wt.next=vt,invalidateJob(Wt.update),Wt.update();else vt.el=ot.el,Wt.vnode=vt},Ue=(ot,vt,St,Wt,Ht,ir,sr)=>{const tr=()=>{if(ot.isMounted){let{next:hr,bu:ar,u:ur,parent:vr,vnode:wr}=ot,Sr=hr,Tr;toggleRecurse(ot,!1),hr?(hr.el=wr.el,mt(ot,hr,sr)):hr=wr,ar&&invokeArrayFns(ar),(Tr=hr.props&&hr.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Tr,vr,hr,wr),toggleRecurse(ot,!0);const Ar=renderComponentRoot(ot),Pr=ot.subTree;ot.subTree=Ar,Le(Pr,Ar,m(Pr.el),lr(Pr),ot,Ht,ir),hr.el=Ar.el,Sr===null&&updateHOCHostEl(ot,Ar.el),ur&&queuePostRenderEffect(ur,Ht),(Tr=hr.props&&hr.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Tr,vr,hr,wr),Ht)}else{let hr;const{el:ar,props:ur}=vt,{bm:vr,m:wr,parent:Sr}=ot,Tr=isAsyncWrapper(vt);if(toggleRecurse(ot,!1),vr&&invokeArrayFns(vr),!Tr&&(hr=ur&&ur.onVnodeBeforeMount)&&invokeVNodeHook(hr,Sr,vt),toggleRecurse(ot,!0),ar&&pr){const Ar=()=>{ot.subTree=renderComponentRoot(ot),pr(ar,ot.subTree,ot,Ht,null)};Tr?vt.type.__asyncLoader().then(()=>!ot.isUnmounted&&Ar()):Ar()}else{const Ar=ot.subTree=renderComponentRoot(ot);Le(null,Ar,St,Wt,ot,Ht,ir),vt.el=Ar.el}if(wr&&queuePostRenderEffect(wr,Ht),!Tr&&(hr=ur&&ur.onVnodeMounted)){const Ar=vt;queuePostRenderEffect(()=>invokeVNodeHook(hr,Sr,Ar),Ht)}(vt.shapeFlag&256||Sr&&isAsyncWrapper(Sr.vnode)&&Sr.vnode.shapeFlag&256)&&ot.a&&queuePostRenderEffect(ot.a,Ht),ot.isMounted=!0,vt=St=Wt=null}},nr=ot.effect=new ReactiveEffect(tr,()=>queueJob(er),ot.scope),er=ot.update=()=>nr.run();er.id=ot.uid,toggleRecurse(ot,!0),er()},mt=(ot,vt,St)=>{vt.component=ot;const Wt=ot.vnode.props;ot.vnode=vt,ot.next=null,updateProps(ot,vt.props,Wt,St),updateSlots(ot,vt.children,St),pauseTracking(),flushPreFlushCbs(void 0,ot.update),resetTracking()},_t=(ot,vt,St,Wt,Ht,ir,sr,tr,nr=!1)=>{const er=ot&&ot.children,hr=ot?ot.shapeFlag:0,ar=vt.children,{patchFlag:ur,shapeFlag:vr}=vt;if(ur>0){if(ur&128){xt(er,ar,St,Wt,Ht,ir,sr,tr,nr);return}else if(ur&256){Vt(er,ar,St,Wt,Ht,ir,sr,tr,nr);return}}vr&8?(hr&16&&rr(er,Ht,ir),ar!==er&&d(St,ar)):hr&16?vr&16?xt(er,ar,St,Wt,Ht,ir,sr,tr,nr):rr(er,Ht,ir,!0):(hr&8&&d(St,""),vr&16&&yt(ar,St,Wt,Ht,ir,sr,tr,nr))},Vt=(ot,vt,St,Wt,Ht,ir,sr,tr,nr)=>{ot=ot||EMPTY_ARR,vt=vt||EMPTY_ARR;const er=ot.length,hr=vt.length,ar=Math.min(er,hr);let ur;for(ur=0;ur<ar;ur++){const vr=vt[ur]=nr?cloneIfMounted(vt[ur]):normalizeVNode(vt[ur]);Le(ot[ur],vr,St,null,Ht,ir,sr,tr,nr)}er>hr?rr(ot,Ht,ir,!0,!1,ar):yt(vt,St,Wt,Ht,ir,sr,tr,nr,ar)},xt=(ot,vt,St,Wt,Ht,ir,sr,tr,nr)=>{let er=0;const hr=vt.length;let ar=ot.length-1,ur=hr-1;for(;er<=ar&&er<=ur;){const vr=ot[er],wr=vt[er]=nr?cloneIfMounted(vt[er]):normalizeVNode(vt[er]);if(isSameVNodeType(vr,wr))Le(vr,wr,St,null,Ht,ir,sr,tr,nr);else break;er++}for(;er<=ar&&er<=ur;){const vr=ot[ar],wr=vt[ur]=nr?cloneIfMounted(vt[ur]):normalizeVNode(vt[ur]);if(isSameVNodeType(vr,wr))Le(vr,wr,St,null,Ht,ir,sr,tr,nr);else break;ar--,ur--}if(er>ar){if(er<=ur){const vr=ur+1,wr=vr<hr?vt[vr].el:Wt;for(;er<=ur;)Le(null,vt[er]=nr?cloneIfMounted(vt[er]):normalizeVNode(vt[er]),St,wr,Ht,ir,sr,tr,nr),er++}}else if(er>ur)for(;er<=ar;)yr(ot[er],Ht,ir,!0),er++;else{const vr=er,wr=er,Sr=new Map;for(er=wr;er<=ur;er++){const Cr=vt[er]=nr?cloneIfMounted(vt[er]):normalizeVNode(vt[er]);Cr.key!=null&&Sr.set(Cr.key,er)}let Tr,Ar=0;const Pr=ur-wr+1;let xr=!1,Mr=0;const Rr=new Array(Pr);for(er=0;er<Pr;er++)Rr[er]=0;for(er=vr;er<=ar;er++){const Cr=ot[er];if(Ar>=Pr){yr(Cr,Ht,ir,!0);continue}let Ir;if(Cr.key!=null)Ir=Sr.get(Cr.key);else for(Tr=wr;Tr<=ur;Tr++)if(Rr[Tr-wr]===0&&isSameVNodeType(Cr,vt[Tr])){Ir=Tr;break}Ir===void 0?yr(Cr,Ht,ir,!0):(Rr[Ir-wr]=er+1,Ir>=Mr?Mr=Ir:xr=!0,Le(Cr,vt[Ir],St,null,Ht,ir,sr,tr,nr),Ar++)}const Fr=xr?getSequence(Rr):EMPTY_ARR;for(Tr=Fr.length-1,er=Pr-1;er>=0;er--){const Cr=wr+er,Ir=vt[Cr],Dr=Cr+1<hr?vt[Cr+1].el:Wt;Rr[er]===0?Le(null,Ir,St,Dr,Ht,ir,sr,tr,nr):xr&&(Tr<0||er!==Fr[Tr]?cr(Ir,St,Dr,2):Tr--)}}},cr=(ot,vt,St,Wt,Ht=null)=>{const{el:ir,type:sr,transition:tr,children:nr,shapeFlag:er}=ot;if(er&6){cr(ot.component.subTree,vt,St,Wt);return}if(er&128){ot.suspense.move(vt,St,Wt);return}if(er&64){sr.move(ot,vt,St,Er);return}if(sr===Fragment){n(ir,vt,St);for(let ar=0;ar<nr.length;ar++)cr(nr[ar],vt,St,Wt);n(ot.anchor,vt,St);return}if(sr===Static){ve(ot,vt,St);return}if(Wt!==2&&er&1&&tr)if(Wt===0)tr.beforeEnter(ir),n(ir,vt,St),queuePostRenderEffect(()=>tr.enter(ir),Ht);else{const{leave:ar,delayLeave:ur,afterLeave:vr}=tr,wr=()=>n(ir,vt,St),Sr=()=>{ar(ir,()=>{wr(),vr&&vr()})};ur?ur(ir,wr,Sr):Sr()}else n(ir,vt,St)},yr=(ot,vt,St,Wt=!1,Ht=!1)=>{const{type:ir,props:sr,ref:tr,children:nr,dynamicChildren:er,shapeFlag:hr,patchFlag:ar,dirs:ur}=ot;if(tr!=null&&setRef(tr,null,St,ot,!0),hr&256){vt.ctx.deactivate(ot);return}const vr=hr&1&&ur,wr=!isAsyncWrapper(ot);let Sr;if(wr&&(Sr=sr&&sr.onVnodeBeforeUnmount)&&invokeVNodeHook(Sr,vt,ot),hr&6)or(ot.component,St,Wt);else{if(hr&128){ot.suspense.unmount(St,Wt);return}vr&&invokeDirectiveHook(ot,null,vt,"beforeUnmount"),hr&64?ot.type.remove(ot,vt,St,Ht,Er,Wt):er&&(ir!==Fragment||ar>0&&ar&64)?rr(er,vt,St,!1,!0):(ir===Fragment&&ar&384||!Ht&&hr&16)&&rr(nr,vt,St),Wt&&_r(ot)}(wr&&(Sr=sr&&sr.onVnodeUnmounted)||vr)&&queuePostRenderEffect(()=>{Sr&&invokeVNodeHook(Sr,vt,ot),vr&&invokeDirectiveHook(ot,null,vt,"unmounted")},St)},_r=ot=>{const{type:vt,el:St,anchor:Wt,transition:Ht}=ot;if(vt===Fragment){Nt(St,Wt);return}if(vt===Static){Pe(ot);return}const ir=()=>{s(St),Ht&&!Ht.persisted&&Ht.afterLeave&&Ht.afterLeave()};if(ot.shapeFlag&1&&Ht&&!Ht.persisted){const{leave:sr,delayLeave:tr}=Ht,nr=()=>sr(St,ir);tr?tr(ot.el,ir,nr):nr()}else ir()},Nt=(ot,vt)=>{let St;for(;ot!==vt;)St=_(ot),s(ot),ot=St;s(vt)},or=(ot,vt,St)=>{const{bum:Wt,scope:Ht,update:ir,subTree:sr,um:tr}=ot;Wt&&invokeArrayFns(Wt),Ht.stop(),ir&&(ir.active=!1,yr(sr,ot,vt,St)),tr&&queuePostRenderEffect(tr,vt),queuePostRenderEffect(()=>{ot.isUnmounted=!0},vt),vt&&vt.pendingBranch&&!vt.isUnmounted&&ot.asyncDep&&!ot.asyncResolved&&ot.suspenseId===vt.pendingId&&(vt.deps--,vt.deps===0&&vt.resolve())},rr=(ot,vt,St,Wt=!1,Ht=!1,ir=0)=>{for(let sr=ir;sr<ot.length;sr++)yr(ot[sr],vt,St,Wt,Ht)},lr=ot=>ot.shapeFlag&6?lr(ot.component.subTree):ot.shapeFlag&128?ot.suspense.next():_(ot.anchor||ot.el),br=(ot,vt,St)=>{ot==null?vt._vnode&&yr(vt._vnode,null,null,!0):Le(vt._vnode||null,ot,vt,null,null,null,St),flushPostFlushCbs(),vt._vnode=ot},Er={p:Le,um:yr,m:cr,r:_r,mt:Mt,mc:yt,pc:_t,pbc:Ot,n:lr,o:r};let dr,pr;return e&&([dr,pr]=e(Er)),{render:br,hydrate:dr,createApp:createAppAPI(br,dr)}}function toggleRecurse({effect:r,update:e},i){r.allowRecurse=e.allowRecurse=i}function traverseStaticChildren(r,e,i=!1){const n=r.children,s=e.children;if(isArray$1(n)&&isArray$1(s))for(let o=0;o<n.length;o++){const a=n[o];let c=s[o];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[o]=cloneIfMounted(s[o]),c.el=a.el),i||traverseStaticChildren(a,c))}}function getSequence(r){const e=r.slice(),i=[0];let n,s,o,a,c;const u=r.length;for(n=0;n<u;n++){const f=r[n];if(f!==0){if(s=i[i.length-1],r[s]<f){e[n]=s,i.push(n);continue}for(o=0,a=i.length-1;o<a;)c=o+a>>1,r[i[c]]<f?o=c+1:a=c;f<r[i[o]]&&(o>0&&(e[n]=i[o-1]),i[o]=n)}}for(o=i.length,a=i[o-1];o-- >0;)i[o]=a,a=e[a];return i}const isTeleport=r=>r.__isTeleport,Fragment=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(r=!1){blockStack.push(currentBlock=r?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(r){isBlockTreeEnabled+=r}function setupBlock(r){return r.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(r),r}function createElementBlock(r,e,i,n,s,o){return setupBlock(createBaseVNode(r,e,i,n,s,o,!0))}function createBlock(r,e,i,n,s){return setupBlock(createVNode(r,e,i,n,s,!0))}function isVNode(r){return r?r.__v_isVNode===!0:!1}function isSameVNodeType(r,e){return r.type===e.type&&r.key===e.key}const InternalObjectKey="__vInternal",normalizeKey=({key:r})=>r!=null?r:null,normalizeRef=({ref:r,ref_key:e,ref_for:i})=>r!=null?isString(r)||isRef(r)||isFunction(r)?{i:currentRenderingInstance,r,k:e,f:!!i}:r:null;function createBaseVNode(r,e=null,i=null,n=0,s=null,o=r===Fragment?0:1,a=!1,c=!1){const u={__v_isVNode:!0,__v_skip:!0,type:r,props:e,key:e&&normalizeKey(e),ref:e&&normalizeRef(e),scopeId:currentScopeId,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null};return c?(normalizeChildren(u,i),o&128&&r.normalize(u)):i&&(u.shapeFlag|=isString(i)?8:16),isBlockTreeEnabled>0&&!a&&currentBlock&&(u.patchFlag>0||o&6)&&u.patchFlag!==32&&currentBlock.push(u),u}const createVNode=_createVNode;function _createVNode(r,e=null,i=null,n=0,s=null,o=!1){if((!r||r===NULL_DYNAMIC_COMPONENT)&&(r=Comment),isVNode(r)){const c=cloneVNode(r,e,!0);return i&&normalizeChildren(c,i),isBlockTreeEnabled>0&&!o&&currentBlock&&(c.shapeFlag&6?currentBlock[currentBlock.indexOf(r)]=c:currentBlock.push(c)),c.patchFlag|=-2,c}if(isClassComponent(r)&&(r=r.__vccOpts),e){e=guardReactiveProps(e);let{class:c,style:u}=e;c&&!isString(c)&&(e.class=normalizeClass(c)),isObject$2(u)&&(isProxy(u)&&!isArray$1(u)&&(u=extend({},u)),e.style=normalizeStyle(u))}const a=isString(r)?1:isSuspense(r)?128:isTeleport(r)?64:isObject$2(r)?4:isFunction(r)?2:0;return createBaseVNode(r,e,i,n,s,a,o,!0)}function guardReactiveProps(r){return r?isProxy(r)||InternalObjectKey in r?extend({},r):r:null}function cloneVNode(r,e,i=!1){const{props:n,ref:s,patchFlag:o,children:a}=r,c=e?mergeProps(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:r.type,props:c,key:c&&normalizeKey(c),ref:e&&e.ref?i&&s?isArray$1(s)?s.concat(normalizeRef(e)):[s,normalizeRef(e)]:normalizeRef(e):s,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:a,target:r.target,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:e&&r.type!==Fragment?o===-1?16:o|16:o,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:r.transition,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&cloneVNode(r.ssContent),ssFallback:r.ssFallback&&cloneVNode(r.ssFallback),el:r.el,anchor:r.anchor}}function createTextVNode(r=" ",e=0){return createVNode(Text,null,r,e)}function normalizeVNode(r){return r==null||typeof r=="boolean"?createVNode(Comment):isArray$1(r)?createVNode(Fragment,null,r.slice()):typeof r=="object"?cloneIfMounted(r):createVNode(Text,null,String(r))}function cloneIfMounted(r){return r.el===null||r.memo?r:cloneVNode(r)}function normalizeChildren(r,e){let i=0;const{shapeFlag:n}=r;if(e==null)e=null;else if(isArray$1(e))i=16;else if(typeof e=="object")if(n&65){const s=e.default;s&&(s._c&&(s._d=!1),normalizeChildren(r,s()),s._c&&(s._d=!0));return}else{i=32;const s=e._;!s&&!(InternalObjectKey in e)?e._ctx=currentRenderingInstance:s===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?e._=1:(e._=2,r.patchFlag|=1024))}else isFunction(e)?(e={default:e,_ctx:currentRenderingInstance},i=32):(e=String(e),n&64?(i=16,e=[createTextVNode(e)]):i=8);r.children=e,r.shapeFlag|=i}function mergeProps(...r){const e={};for(let i=0;i<r.length;i++){const n=r[i];for(const s in n)if(s==="class")e.class!==n.class&&(e.class=normalizeClass([e.class,n.class]));else if(s==="style")e.style=normalizeStyle([e.style,n.style]);else if(isOn(s)){const o=e[s],a=n[s];a&&o!==a&&!(isArray$1(o)&&o.includes(a))&&(e[s]=o?[].concat(o,a):a)}else s!==""&&(e[s]=n[s])}return e}function invokeVNodeHook(r,e,i,n=null){callWithAsyncErrorHandling(r,e,7,[i,n])}const emptyAppContext=createAppContext();let uid$1=0;function createComponentInstance(r,e,i){const n=r.type,s=(e?e.appContext:r.appContext)||emptyAppContext,o={uid:uid$1++,vnode:r,type:n,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(n,s),emitsOptions:normalizeEmitsOptions(n,s),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:n.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=emit$1.bind(null,o),r.ce&&r.ce(o),o}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=r=>{currentInstance=r,r.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(r){return r.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(r,e=!1){isInSSRComponentSetup=e;const{props:i,children:n}=r.vnode,s=isStatefulComponent(r);initProps(r,i,s,e),initSlots(r,n);const o=s?setupStatefulComponent(r,e):void 0;return isInSSRComponentSetup=!1,o}function setupStatefulComponent(r,e){const i=r.type;r.accessCache=Object.create(null),r.proxy=markRaw(new Proxy(r.ctx,PublicInstanceProxyHandlers));const{setup:n}=i;if(n){const s=r.setupContext=n.length>1?createSetupContext(r):null;setCurrentInstance(r),pauseTracking();const o=callWithErrorHandling(n,r,0,[r.props,s]);if(resetTracking(),unsetCurrentInstance(),isPromise$1(o)){if(o.then(unsetCurrentInstance,unsetCurrentInstance),e)return o.then(a=>{handleSetupResult(r,a,e)}).catch(a=>{handleError(a,r,0)});r.asyncDep=o}else handleSetupResult(r,o,e)}else finishComponentSetup(r,e)}function handleSetupResult(r,e,i){isFunction(e)?r.type.__ssrInlineRender?r.ssrRender=e:r.render=e:isObject$2(e)&&(r.setupState=proxyRefs(e)),finishComponentSetup(r,i)}let compile;function finishComponentSetup(r,e,i){const n=r.type;if(!r.render){if(!e&&compile&&!n.render){const s=n.template;if(s){const{isCustomElement:o,compilerOptions:a}=r.appContext.config,{delimiters:c,compilerOptions:u}=n,f=extend(extend({isCustomElement:o,delimiters:c},a),u);n.render=compile(s,f)}}r.render=n.render||NOOP}setCurrentInstance(r),pauseTracking(),applyOptions(r),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(r){return new Proxy(r.attrs,{get(e,i){return track(r,"get","$attrs"),e[i]}})}function createSetupContext(r){const e=n=>{r.exposed=n||{}};let i;return{get attrs(){return i||(i=createAttrsProxy(r))},slots:r.slots,emit:r.emit,expose:e}}function getExposeProxy(r){if(r.exposed)return r.exposeProxy||(r.exposeProxy=new Proxy(proxyRefs(markRaw(r.exposed)),{get(e,i){if(i in e)return e[i];if(i in publicPropertiesMap)return publicPropertiesMap[i](r)}}))}function getComponentName(r,e=!0){return isFunction(r)?r.displayName||r.name:r.name||e&&r.__name}function isClassComponent(r){return isFunction(r)&&"__vccOpts"in r}const computed=(r,e)=>computed$1(r,e,isInSSRComponentSetup);function h$1(r,e,i){const n=arguments.length;return n===2?isObject$2(e)&&!isArray$1(e)?isVNode(e)?createVNode(r,null,[e]):createVNode(r,e):createVNode(r,null,e):(n>3?i=Array.prototype.slice.call(arguments,2):n===3&&isVNode(i)&&(i=[i]),createVNode(r,e,i))}const version$4="3.2.37",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(r,e,i)=>{e.insertBefore(r,i||null)},remove:r=>{const e=r.parentNode;e&&e.removeChild(r)},createElement:(r,e,i,n)=>{const s=e?doc.createElementNS(svgNS,r):doc.createElement(r,i?{is:i}:void 0);return r==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:r=>doc.createTextNode(r),createComment:r=>doc.createComment(r),setText:(r,e)=>{r.nodeValue=e},setElementText:(r,e)=>{r.textContent=e},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>doc.querySelector(r),setScopeId(r,e){r.setAttribute(e,"")},cloneNode(r){const e=r.cloneNode(!0);return"_value"in r&&(e._value=r._value),e},insertStaticContent(r,e,i,n,s,o){const a=i?i.previousSibling:e.lastChild;if(s&&(s===o||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),i),!(s===o||!(s=s.nextSibling)););else{templateContainer.innerHTML=n?`<svg>${r}</svg>`:r;const c=templateContainer.content;if(n){const u=c.firstChild;for(;u.firstChild;)c.appendChild(u.firstChild);c.removeChild(u)}e.insertBefore(c,i)}return[a?a.nextSibling:e.firstChild,i?i.previousSibling:e.lastChild]}};function patchClass(r,e,i){const n=r._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?r.removeAttribute("class"):i?r.setAttribute("class",e):r.className=e}function patchStyle(r,e,i){const n=r.style,s=isString(i);if(i&&!s){for(const o in i)setStyle(n,o,i[o]);if(e&&!isString(e))for(const o in e)i[o]==null&&setStyle(n,o,"")}else{const o=n.display;s?e!==i&&(n.cssText=i):e&&r.removeAttribute("style"),"_vod"in r&&(n.display=o)}}const importantRE=/\s*!important$/;function setStyle(r,e,i){if(isArray$1(i))i.forEach(n=>setStyle(r,e,n));else if(i==null&&(i=""),e.startsWith("--"))r.setProperty(e,i);else{const n=autoPrefix(r,e);importantRE.test(i)?r.setProperty(hyphenate(n),i.replace(importantRE,""),"important"):r[n]=i}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(r,e){const i=prefixCache[e];if(i)return i;let n=camelize(e);if(n!=="filter"&&n in r)return prefixCache[e]=n;n=capitalize(n);for(let s=0;s<prefixes.length;s++){const o=prefixes[s]+n;if(o in r)return prefixCache[e]=o}return e}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(r,e,i,n,s){if(n&&e.startsWith("xlink:"))i==null?r.removeAttributeNS(xlinkNS,e.slice(6,e.length)):r.setAttributeNS(xlinkNS,e,i);else{const o=isSpecialBooleanAttr(e);i==null||o&&!includeBooleanAttr(i)?r.removeAttribute(e):r.setAttribute(e,o?"":i)}}function patchDOMProp(r,e,i,n,s,o,a){if(e==="innerHTML"||e==="textContent"){n&&a(n,s,o),r[e]=i==null?"":i;return}if(e==="value"&&r.tagName!=="PROGRESS"&&!r.tagName.includes("-")){r._value=i;const u=i==null?"":i;(r.value!==u||r.tagName==="OPTION")&&(r.value=u),i==null&&r.removeAttribute(e);return}let c=!1;if(i===""||i==null){const u=typeof r[e];u==="boolean"?i=includeBooleanAttr(i):i==null&&u==="string"?(i="",c=!0):u==="number"&&(i=0,c=!0)}try{r[e]=i}catch{}c&&r.removeAttribute(e)}const[_getNow,skipTimestampCheck]=(()=>{let r=Date.now,e=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(r=performance.now.bind(performance));const i=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(i&&Number(i[1])<=53)}return[r,e]})();let cachedNow=0;const p$1=Promise.resolve(),reset=()=>{cachedNow=0},getNow=()=>cachedNow||(p$1.then(reset),cachedNow=_getNow());function addEventListener(r,e,i,n){r.addEventListener(e,i,n)}function removeEventListener(r,e,i,n){r.removeEventListener(e,i,n)}function patchEvent(r,e,i,n,s=null){const o=r._vei||(r._vei={}),a=o[e];if(n&&a)a.value=n;else{const[c,u]=parseName(e);if(n){const f=o[e]=createInvoker(n,s);addEventListener(r,c,f,u)}else a&&(removeEventListener(r,c,a,u),o[e]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(r){let e;if(optionsModifierRE.test(r)){e={};let i;for(;i=r.match(optionsModifierRE);)r=r.slice(0,r.length-i[0].length),e[i[0].toLowerCase()]=!0}return[hyphenate(r.slice(2)),e]}function createInvoker(r,e){const i=n=>{const s=n.timeStamp||_getNow();(skipTimestampCheck||s>=i.attached-1)&&callWithAsyncErrorHandling(patchStopImmediatePropagation(n,i.value),e,5,[n])};return i.value=r,i.attached=getNow(),i}function patchStopImmediatePropagation(r,e){if(isArray$1(e)){const i=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{i.call(r),r._stopped=!0},e.map(n=>s=>!s._stopped&&n&&n(s))}else return e}const nativeOnRE=/^on[a-z]/,patchProp=(r,e,i,n,s=!1,o,a,c,u)=>{e==="class"?patchClass(r,n,s):e==="style"?patchStyle(r,i,n):isOn(e)?isModelListener(e)||patchEvent(r,e,i,n,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):shouldSetAsProp(r,e,n,s))?patchDOMProp(r,e,n,o,a,c,u):(e==="true-value"?r._trueValue=n:e==="false-value"&&(r._falseValue=n),patchAttr(r,e,n,s))};function shouldSetAsProp(r,e,i,n){return n?!!(e==="innerHTML"||e==="textContent"||e in r&&nativeOnRE.test(e)&&isFunction(i)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&r.tagName==="INPUT"||e==="type"&&r.tagName==="TEXTAREA"||nativeOnRE.test(e)&&isString(i)?!1:e in r}const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};BaseTransition.props;const getModelAssigner=r=>{const e=r.props["onUpdate:modelValue"]||!1;return isArray$1(e)?i=>invokeArrayFns(e,i):e};function onCompositionStart(r){r.target.composing=!0}function onCompositionEnd(r){const e=r.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const vModelText={created(r,{modifiers:{lazy:e,trim:i,number:n}},s){r._assign=getModelAssigner(s);const o=n||s.props&&s.props.type==="number";addEventListener(r,e?"change":"input",a=>{if(a.target.composing)return;let c=r.value;i&&(c=c.trim()),o&&(c=toNumber(c)),r._assign(c)}),i&&addEventListener(r,"change",()=>{r.value=r.value.trim()}),e||(addEventListener(r,"compositionstart",onCompositionStart),addEventListener(r,"compositionend",onCompositionEnd),addEventListener(r,"change",onCompositionEnd))},mounted(r,{value:e}){r.value=e==null?"":e},beforeUpdate(r,{value:e,modifiers:{lazy:i,trim:n,number:s}},o){if(r._assign=getModelAssigner(o),r.composing||document.activeElement===r&&r.type!=="range"&&(i||n&&r.value.trim()===e||(s||r.type==="number")&&toNumber(r.value)===e))return;const a=e==null?"":e;r.value!==a&&(r.value=a)}},systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:r=>r.stopPropagation(),prevent:r=>r.preventDefault(),self:r=>r.target!==r.currentTarget,ctrl:r=>!r.ctrlKey,shift:r=>!r.shiftKey,alt:r=>!r.altKey,meta:r=>!r.metaKey,left:r=>"button"in r&&r.button!==0,middle:r=>"button"in r&&r.button!==1,right:r=>"button"in r&&r.button!==2,exact:(r,e)=>systemModifiers.some(i=>r[`${i}Key`]&&!e.includes(i))},withModifiers=(r,e)=>(i,...n)=>{for(let s=0;s<e.length;s++){const o=modifierGuards[e[s]];if(o&&o(i,e))return}return r(i,...n)},vShow={beforeMount(r,{value:e},{transition:i}){r._vod=r.style.display==="none"?"":r.style.display,i&&e?i.beforeEnter(r):setDisplay(r,e)},mounted(r,{value:e},{transition:i}){i&&e&&i.enter(r)},updated(r,{value:e,oldValue:i},{transition:n}){!e!=!i&&(n?e?(n.beforeEnter(r),setDisplay(r,!0),n.enter(r)):n.leave(r,()=>{setDisplay(r,!1)}):setDisplay(r,e))},beforeUnmount(r,{value:e}){setDisplay(r,e)}};function setDisplay(r,e){r.style.display=e?r._vod:"none"}const rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...r)=>{const e=ensureRenderer().createApp(...r),{mount:i}=e;return e.mount=n=>{const s=normalizeContainer(n);if(!s)return;const o=e._component;!isFunction(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.innerHTML="";const a=i(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},e};function normalizeContainer(r){return isString(r)?document.querySelector(r):r}function getDevtoolsGlobalHook(){return getTarget().__VUE_DEVTOOLS_GLOBAL_HOOK__}function getTarget(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const isProxyAvailable=typeof Proxy=="function",HOOK_SETUP="devtools-plugin:setup",HOOK_PLUGIN_SETTINGS_SET="plugin:settings:set";let supported,perf;function isPerformanceSupported(){var r;return supported!==void 0||(typeof window<"u"&&window.performance?(supported=!0,perf=window.performance):typeof global<"u"&&((r=global.perf_hooks)===null||r===void 0?void 0:r.performance)?(supported=!0,perf=global.perf_hooks.performance):supported=!1),supported}function now(){return isPerformanceSupported()?perf.now():Date.now()}class ApiProxy{constructor(e,i){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=i;const n={};if(e.settings)for(const a in e.settings){const c=e.settings[a];n[a]=c.defaultValue}const s=`__vue-devtools-plugin-settings__${e.id}`;let o=Object.assign({},n);try{const a=localStorage.getItem(s),c=JSON.parse(a);Object.assign(o,c)}catch{}this.fallbacks={getSettings(){return o},setSettings(a){try{localStorage.setItem(s,JSON.stringify(a))}catch{}o=a},now(){return now()}},i&&i.on(HOOK_PLUGIN_SETTINGS_SET,(a,c)=>{a===this.plugin.id&&this.fallbacks.setSettings(c)}),this.proxiedOn=new Proxy({},{get:(a,c)=>this.target?this.target.on[c]:(...u)=>{this.onQueue.push({method:c,args:u})}}),this.proxiedTarget=new Proxy({},{get:(a,c)=>this.target?this.target[c]:c==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(c)?(...u)=>(this.targetQueue.push({method:c,args:u,resolve:()=>{}}),this.fallbacks[c](...u)):(...u)=>new Promise(f=>{this.targetQueue.push({method:c,args:u,resolve:f})})})}async setRealTarget(e){this.target=e;for(const i of this.onQueue)this.target.on[i.method](...i.args);for(const i of this.targetQueue)i.resolve(await this.target[i.method](...i.args))}}function setupDevtoolsPlugin(r,e){const i=r,n=getTarget(),s=getDevtoolsGlobalHook(),o=isProxyAvailable&&i.enableEarlyProxy;if(s&&(n.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!o))s.emit(HOOK_SETUP,r,e);else{const a=o?new ApiProxy(i,s):null;(n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:i,setupFn:e,proxy:a}),a&&e(a.proxiedTarget)}}/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var storeKey="store";function useStore(r){return r===void 0&&(r=null),inject(r!==null?r:storeKey)}function forEachValue(r,e){Object.keys(r).forEach(function(i){return e(r[i],i)})}function isObject$1(r){return r!==null&&typeof r=="object"}function isPromise(r){return r&&typeof r.then=="function"}function partial(r,e){return function(){return r(e)}}function genericSubscribe(r,e,i){return e.indexOf(r)<0&&(i&&i.prepend?e.unshift(r):e.push(r)),function(){var n=e.indexOf(r);n>-1&&e.splice(n,1)}}function resetStore(r,e){r._actions=Object.create(null),r._mutations=Object.create(null),r._wrappedGetters=Object.create(null),r._modulesNamespaceMap=Object.create(null);var i=r.state;installModule(r,i,[],r._modules.root,!0),resetStoreState(r,i,e)}function resetStoreState(r,e,i){var n=r._state;r.getters={},r._makeLocalGettersCache=Object.create(null);var s=r._wrappedGetters,o={};forEachValue(s,function(a,c){o[c]=partial(a,r),Object.defineProperty(r.getters,c,{get:function(){return o[c]()},enumerable:!0})}),r._state=reactive({data:e}),r.strict&&enableStrictMode(r),n&&i&&r._withCommit(function(){n.data=null})}function installModule(r,e,i,n,s){var o=!i.length,a=r._modules.getNamespace(i);if(n.namespaced&&(r._modulesNamespaceMap[a],r._modulesNamespaceMap[a]=n),!o&&!s){var c=getNestedState(e,i.slice(0,-1)),u=i[i.length-1];r._withCommit(function(){c[u]=n.state})}var f=n.context=makeLocalContext(r,a,i);n.forEachMutation(function(d,m){var _=a+m;registerMutation(r,_,d,f)}),n.forEachAction(function(d,m){var _=d.root?m:a+m,ye=d.handler||d;registerAction(r,_,ye,f)}),n.forEachGetter(function(d,m){var _=a+m;registerGetter(r,_,d,f)}),n.forEachChild(function(d,m){installModule(r,e,i.concat(m),d,s)})}function makeLocalContext(r,e,i){var n=e==="",s={dispatch:n?r.dispatch:function(o,a,c){var u=unifyObjectStyle(o,a,c),f=u.payload,d=u.options,m=u.type;return(!d||!d.root)&&(m=e+m),r.dispatch(m,f)},commit:n?r.commit:function(o,a,c){var u=unifyObjectStyle(o,a,c),f=u.payload,d=u.options,m=u.type;(!d||!d.root)&&(m=e+m),r.commit(m,f,d)}};return Object.defineProperties(s,{getters:{get:n?function(){return r.getters}:function(){return makeLocalGetters(r,e)}},state:{get:function(){return getNestedState(r.state,i)}}}),s}function makeLocalGetters(r,e){if(!r._makeLocalGettersCache[e]){var i={},n=e.length;Object.keys(r.getters).forEach(function(s){if(s.slice(0,n)===e){var o=s.slice(n);Object.defineProperty(i,o,{get:function(){return r.getters[s]},enumerable:!0})}}),r._makeLocalGettersCache[e]=i}return r._makeLocalGettersCache[e]}function registerMutation(r,e,i,n){var s=r._mutations[e]||(r._mutations[e]=[]);s.push(function(a){i.call(r,n.state,a)})}function registerAction(r,e,i,n){var s=r._actions[e]||(r._actions[e]=[]);s.push(function(a){var c=i.call(r,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:r.getters,rootState:r.state},a);return isPromise(c)||(c=Promise.resolve(c)),r._devtoolHook?c.catch(function(u){throw r._devtoolHook.emit("vuex:error",u),u}):c})}function registerGetter(r,e,i,n){r._wrappedGetters[e]||(r._wrappedGetters[e]=function(o){return i(n.state,n.getters,o.state,o.getters)})}function enableStrictMode(r){watch(function(){return r._state.data},function(){},{deep:!0,flush:"sync"})}function getNestedState(r,e){return e.reduce(function(i,n){return i[n]},r)}function unifyObjectStyle(r,e,i){return isObject$1(r)&&r.type&&(i=e,e=r,r=r.type),{type:r,payload:e,options:i}}var LABEL_VUEX_BINDINGS="vuex bindings",MUTATIONS_LAYER_ID="vuex:mutations",ACTIONS_LAYER_ID="vuex:actions",INSPECTOR_ID="vuex",actionId=0;function addDevtools(r,e){setupDevtoolsPlugin({id:"org.vuejs.vuex",app:r,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[LABEL_VUEX_BINDINGS]},function(i){i.addTimelineLayer({id:MUTATIONS_LAYER_ID,label:"Vuex Mutations",color:COLOR_LIME_500}),i.addTimelineLayer({id:ACTIONS_LAYER_ID,label:"Vuex Actions",color:COLOR_LIME_500}),i.addInspector({id:INSPECTOR_ID,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),i.on.getInspectorTree(function(n){if(n.app===r&&n.inspectorId===INSPECTOR_ID)if(n.filter){var s=[];flattenStoreForInspectorTree(s,e._modules.root,n.filter,""),n.rootNodes=s}else n.rootNodes=[formatStoreForInspectorTree(e._modules.root,"")]}),i.on.getInspectorState(function(n){if(n.app===r&&n.inspectorId===INSPECTOR_ID){var s=n.nodeId;makeLocalGetters(e,s),n.state=formatStoreForInspectorState(getStoreModule(e._modules,s),s==="root"?e.getters:e._makeLocalGettersCache,s)}}),i.on.editInspectorState(function(n){if(n.app===r&&n.inspectorId===INSPECTOR_ID){var s=n.nodeId,o=n.path;s!=="root"&&(o=s.split("/").filter(Boolean).concat(o)),e._withCommit(function(){n.set(e._state.data,o,n.state.value)})}}),e.subscribe(function(n,s){var o={};n.payload&&(o.payload=n.payload),o.state=s,i.notifyComponentUpdate(),i.sendInspectorTree(INSPECTOR_ID),i.sendInspectorState(INSPECTOR_ID),i.addTimelineEvent({layerId:MUTATIONS_LAYER_ID,event:{time:Date.now(),title:n.type,data:o}})}),e.subscribeAction({before:function(n,s){var o={};n.payload&&(o.payload=n.payload),n._id=actionId++,n._time=Date.now(),o.state=s,i.addTimelineEvent({layerId:ACTIONS_LAYER_ID,event:{time:n._time,title:n.type,groupId:n._id,subtitle:"start",data:o}})},after:function(n,s){var o={},a=Date.now()-n._time;o.duration={_custom:{type:"duration",display:a+"ms",tooltip:"Action duration",value:a}},n.payload&&(o.payload=n.payload),o.state=s,i.addTimelineEvent({layerId:ACTIONS_LAYER_ID,event:{time:Date.now(),title:n.type,groupId:n._id,subtitle:"end",data:o}})}})})}var COLOR_LIME_500=8702998,COLOR_DARK=6710886,COLOR_WHITE=16777215,TAG_NAMESPACED={label:"namespaced",textColor:COLOR_WHITE,backgroundColor:COLOR_DARK};function extractNameFromPath(r){return r&&r!=="root"?r.split("/").slice(-2,-1)[0]:"Root"}function formatStoreForInspectorTree(r,e){return{id:e||"root",label:extractNameFromPath(e),tags:r.namespaced?[TAG_NAMESPACED]:[],children:Object.keys(r._children).map(function(i){return formatStoreForInspectorTree(r._children[i],e+i+"/")})}}function flattenStoreForInspectorTree(r,e,i,n){n.includes(i)&&r.push({id:n||"root",label:n.endsWith("/")?n.slice(0,n.length-1):n||"Root",tags:e.namespaced?[TAG_NAMESPACED]:[]}),Object.keys(e._children).forEach(function(s){flattenStoreForInspectorTree(r,e._children[s],i,n+s+"/")})}function formatStoreForInspectorState(r,e,i){e=i==="root"?e:e[i];var n=Object.keys(e),s={state:Object.keys(r.state).map(function(a){return{key:a,editable:!0,value:r.state[a]}})};if(n.length){var o=transformPathsToObjectTree(e);s.getters=Object.keys(o).map(function(a){return{key:a.endsWith("/")?extractNameFromPath(a):a,editable:!1,value:canThrow(function(){return o[a]})}})}return s}function transformPathsToObjectTree(r){var e={};return Object.keys(r).forEach(function(i){var n=i.split("/");if(n.length>1){var s=e,o=n.pop();n.forEach(function(a){s[a]||(s[a]={_custom:{value:{},display:a,tooltip:"Module",abstract:!0}}),s=s[a]._custom.value}),s[o]=canThrow(function(){return r[i]})}else e[i]=canThrow(function(){return r[i]})}),e}function getStoreModule(r,e){var i=e.split("/").filter(function(n){return n});return i.reduce(function(n,s,o){var a=n[s];if(!a)throw new Error('Missing module "'+s+'" for path "'+e+'".');return o===i.length-1?a:a._children},e==="root"?r:r.root._children)}function canThrow(r){try{return r()}catch(e){return e}}var Module=function(e,i){this.runtime=i,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=(typeof n=="function"?n():n)||{}},prototypeAccessors$1={namespaced:{configurable:!0}};prototypeAccessors$1.namespaced.get=function(){return!!this._rawModule.namespaced};Module.prototype.addChild=function(e,i){this._children[e]=i};Module.prototype.removeChild=function(e){delete this._children[e]};Module.prototype.getChild=function(e){return this._children[e]};Module.prototype.hasChild=function(e){return e in this._children};Module.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};Module.prototype.forEachChild=function(e){forEachValue(this._children,e)};Module.prototype.forEachGetter=function(e){this._rawModule.getters&&forEachValue(this._rawModule.getters,e)};Module.prototype.forEachAction=function(e){this._rawModule.actions&&forEachValue(this._rawModule.actions,e)};Module.prototype.forEachMutation=function(e){this._rawModule.mutations&&forEachValue(this._rawModule.mutations,e)};Object.defineProperties(Module.prototype,prototypeAccessors$1);var ModuleCollection=function(e){this.register([],e,!1)};ModuleCollection.prototype.get=function(e){return e.reduce(function(i,n){return i.getChild(n)},this.root)};ModuleCollection.prototype.getNamespace=function(e){var i=this.root;return e.reduce(function(n,s){return i=i.getChild(s),n+(i.namespaced?s+"/":"")},"")};ModuleCollection.prototype.update=function(e){update([],this.root,e)};ModuleCollection.prototype.register=function(e,i,n){var s=this;n===void 0&&(n=!0);var o=new Module(i,n);if(e.length===0)this.root=o;else{var a=this.get(e.slice(0,-1));a.addChild(e[e.length-1],o)}i.modules&&forEachValue(i.modules,function(c,u){s.register(e.concat(u),c,n)})};ModuleCollection.prototype.unregister=function(e){var i=this.get(e.slice(0,-1)),n=e[e.length-1],s=i.getChild(n);!s||!s.runtime||i.removeChild(n)};ModuleCollection.prototype.isRegistered=function(e){var i=this.get(e.slice(0,-1)),n=e[e.length-1];return i?i.hasChild(n):!1};function update(r,e,i){if(e.update(i),i.modules)for(var n in i.modules){if(!e.getChild(n))return;update(r.concat(n),e.getChild(n),i.modules[n])}}function createStore(r){return new Store(r)}var Store=function(e){var i=this;e===void 0&&(e={});var n=e.plugins;n===void 0&&(n=[]);var s=e.strict;s===void 0&&(s=!1);var o=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new ModuleCollection(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=o;var a=this,c=this,u=c.dispatch,f=c.commit;this.dispatch=function(_,ye){return u.call(a,_,ye)},this.commit=function(_,ye,Se){return f.call(a,_,ye,Se)},this.strict=s;var d=this._modules.root.state;installModule(this,d,[],this._modules.root),resetStoreState(this,d),n.forEach(function(m){return m(i)})},prototypeAccessors={state:{configurable:!0}};Store.prototype.install=function(e,i){e.provide(i||storeKey,this),e.config.globalProperties.$store=this;var n=this._devtools!==void 0?this._devtools:!1;n&&addDevtools(e,this)};prototypeAccessors.state.get=function(){return this._state.data};prototypeAccessors.state.set=function(r){};Store.prototype.commit=function(e,i,n){var s=this,o=unifyObjectStyle(e,i,n),a=o.type,c=o.payload,u={type:a,payload:c},f=this._mutations[a];!f||(this._withCommit(function(){f.forEach(function(m){m(c)})}),this._subscribers.slice().forEach(function(d){return d(u,s.state)}))};Store.prototype.dispatch=function(e,i){var n=this,s=unifyObjectStyle(e,i),o=s.type,a=s.payload,c={type:o,payload:a},u=this._actions[o];if(!!u){try{this._actionSubscribers.slice().filter(function(d){return d.before}).forEach(function(d){return d.before(c,n.state)})}catch{}var f=u.length>1?Promise.all(u.map(function(d){return d(a)})):u[0](a);return new Promise(function(d,m){f.then(function(_){try{n._actionSubscribers.filter(function(ye){return ye.after}).forEach(function(ye){return ye.after(c,n.state)})}catch{}d(_)},function(_){try{n._actionSubscribers.filter(function(ye){return ye.error}).forEach(function(ye){return ye.error(c,n.state,_)})}catch{}m(_)})})}};Store.prototype.subscribe=function(e,i){return genericSubscribe(e,this._subscribers,i)};Store.prototype.subscribeAction=function(e,i){var n=typeof e=="function"?{before:e}:e;return genericSubscribe(n,this._actionSubscribers,i)};Store.prototype.watch=function(e,i,n){var s=this;return watch(function(){return e(s.state,s.getters)},i,Object.assign({},n))};Store.prototype.replaceState=function(e){var i=this;this._withCommit(function(){i._state.data=e})};Store.prototype.registerModule=function(e,i,n){n===void 0&&(n={}),typeof e=="string"&&(e=[e]),this._modules.register(e,i),installModule(this,this.state,e,this._modules.get(e),n.preserveState),resetStoreState(this,this.state)};Store.prototype.unregisterModule=function(e){var i=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var n=getNestedState(i.state,e.slice(0,-1));delete n[e[e.length-1]]}),resetStore(this)};Store.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};Store.prototype.hotUpdate=function(e){this._modules.update(e),resetStore(this,!0)};Store.prototype._withCommit=function(e){var i=this._committing;this._committing=!0,e(),this._committing=i};Object.defineProperties(Store.prototype,prototypeAccessors);const _hoisted_1$6={id:"app"},_sfc_main$7=defineComponent({__name:"App",setup(r){const e=useStore();return onBeforeMount(()=>{e.dispatch("fetchUser")}),(i,n)=>{const s=resolveComponent("router-view");return openBlock(),createElementBlock("main",_hoisted_1$6,[createVNode(s)])}}});/*!
  * vue-router v4.1.2
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof window<"u";function isESModule(r){return r.__esModule||r[Symbol.toStringTag]==="Module"}const assign=Object.assign;function applyToParams(r,e){const i={};for(const n in e){const s=e[n];i[n]=isArray(s)?s.map(r):r(s)}return i}const noop$1=()=>{},isArray=Array.isArray,TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=r=>r.replace(TRAILING_SLASH_RE,"");function parseURL(r,e,i="/"){let n,s={},o="",a="";const c=e.indexOf("#");let u=e.indexOf("?");return c<u&&c>=0&&(u=-1),u>-1&&(n=e.slice(0,u),o=e.slice(u+1,c>-1?c:e.length),s=r(o)),c>-1&&(n=n||e.slice(0,c),a=e.slice(c,e.length)),n=resolveRelativePath(n!=null?n:e,i),{fullPath:n+(o&&"?")+o+a,path:n,query:s,hash:a}}function stringifyURL(r,e){const i=e.query?r(e.query):"";return e.path+(i&&"?")+i+(e.hash||"")}function stripBase(r,e){return!e||!r.toLowerCase().startsWith(e.toLowerCase())?r:r.slice(e.length)||"/"}function isSameRouteLocation(r,e,i){const n=e.matched.length-1,s=i.matched.length-1;return n>-1&&n===s&&isSameRouteRecord(e.matched[n],i.matched[s])&&isSameRouteLocationParams(e.params,i.params)&&r(e.query)===r(i.query)&&e.hash===i.hash}function isSameRouteRecord(r,e){return(r.aliasOf||r)===(e.aliasOf||e)}function isSameRouteLocationParams(r,e){if(Object.keys(r).length!==Object.keys(e).length)return!1;for(const i in r)if(!isSameRouteLocationParamsValue(r[i],e[i]))return!1;return!0}function isSameRouteLocationParamsValue(r,e){return isArray(r)?isEquivalentArray(r,e):isArray(e)?isEquivalentArray(e,r):r===e}function isEquivalentArray(r,e){return isArray(e)?r.length===e.length&&r.every((i,n)=>i===e[n]):r.length===1&&r[0]===e}function resolveRelativePath(r,e){if(r.startsWith("/"))return r;if(!r)return e;const i=e.split("/"),n=r.split("/");let s=i.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")s>1&&s--;else break;return i.slice(0,s).join("/")+"/"+n.slice(o-(o===n.length?1:0)).join("/")}var NavigationType;(function(r){r.pop="pop",r.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(r){r.back="back",r.forward="forward",r.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(r){if(!r)if(isBrowser){const e=document.querySelector("base");r=e&&e.getAttribute("href")||"/",r=r.replace(/^\w+:\/\/[^\/]+/,"")}else r="/";return r[0]!=="/"&&r[0]!=="#"&&(r="/"+r),removeTrailingSlash(r)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(r,e){return r.replace(BEFORE_HASH_RE,"#")+e}function getElementPosition(r,e){const i=document.documentElement.getBoundingClientRect(),n=r.getBoundingClientRect();return{behavior:e.behavior,left:n.left-i.left-(e.left||0),top:n.top-i.top-(e.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(r){let e;if("el"in r){const i=r.el,n=typeof i=="string"&&i.startsWith("#"),s=typeof i=="string"?n?document.getElementById(i.slice(1)):document.querySelector(i):i;if(!s)return;e=getElementPosition(s,r)}else e=r;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function getScrollKey(r,e){return(history.state?history.state.position-e:-1)+r}const scrollPositions=new Map;function saveScrollPosition(r,e){scrollPositions.set(r,e)}function getSavedScrollPosition(r){const e=scrollPositions.get(r);return scrollPositions.delete(r),e}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(r,e){const{pathname:i,search:n,hash:s}=e,o=r.indexOf("#");if(o>-1){let c=s.includes(r.slice(o))?r.slice(o).length:1,u=s.slice(c);return u[0]!=="/"&&(u="/"+u),stripBase(u,"")}return stripBase(i,r)+n+s}function useHistoryListeners(r,e,i,n){let s=[],o=[],a=null;const c=({state:_})=>{const ye=createCurrentLocation(r,location),Se=i.value,Ce=e.value;let Le=0;if(_){if(i.value=ye,e.value=_,a&&a===Se){a=null;return}Le=Ce?_.position-Ce.position:0}else n(ye);s.forEach(he=>{he(i.value,Se,{delta:Le,type:NavigationType.pop,direction:Le?Le>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function u(){a=i.value}function f(_){s.push(_);const ye=()=>{const Se=s.indexOf(_);Se>-1&&s.splice(Se,1)};return o.push(ye),ye}function d(){const{history:_}=window;!_.state||_.replaceState(assign({},_.state,{scroll:computeScrollPosition()}),"")}function m(){for(const _ of o)_();o=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",d),{pauseListeners:u,listen:f,destroy:m}}function buildState(r,e,i,n=!1,s=!1){return{back:r,current:e,forward:i,replaced:n,position:window.history.length,scroll:s?computeScrollPosition():null}}function useHistoryStateNavigation(r){const{history:e,location:i}=window,n={value:createCurrentLocation(r,i)},s={value:e.state};s.value||o(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(u,f,d){const m=r.indexOf("#"),_=m>-1?(i.host&&document.querySelector("base")?r:r.slice(m))+u:createBaseLocation()+r+u;try{e[d?"replaceState":"pushState"](f,"",_),s.value=f}catch(ye){console.error(ye),i[d?"replace":"assign"](_)}}function a(u,f){const d=assign({},e.state,buildState(s.value.back,u,s.value.forward,!0),f,{position:s.value.position});o(u,d,!0),n.value=u}function c(u,f){const d=assign({},s.value,e.state,{forward:u,scroll:computeScrollPosition()});o(d.current,d,!0);const m=assign({},buildState(n.value,u,null),{position:d.position+1},f);o(u,m,!1),n.value=u}return{location:n,state:s,push:c,replace:a}}function createWebHistory(r){r=normalizeBase(r);const e=useHistoryStateNavigation(r),i=useHistoryListeners(r,e.state,e.location,e.replace);function n(o,a=!0){a||i.pauseListeners(),history.go(o)}const s=assign({location:"",base:r,go:n,createHref:createHref.bind(null,r)},e,i);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function isRouteLocation(r){return typeof r=="string"||r&&typeof r=="object"}function isRouteName(r){return typeof r=="string"||typeof r=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(r){r[r.aborted=4]="aborted",r[r.cancelled=8]="cancelled",r[r.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(r,e){return assign(new Error,{type:r,[NavigationFailureSymbol]:!0},e)}function isNavigationFailure(r,e){return r instanceof Error&&NavigationFailureSymbol in r&&(e==null||!!(r.type&e))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(r,e){const i=assign({},BASE_PATH_PARSER_OPTIONS,e),n=[];let s=i.start?"^":"";const o=[];for(const f of r){const d=f.length?[]:[90];i.strict&&!f.length&&(s+="/");for(let m=0;m<f.length;m++){const _=f[m];let ye=40+(i.sensitive?.25:0);if(_.type===0)m||(s+="/"),s+=_.value.replace(REGEX_CHARS_RE,"\\$&"),ye+=40;else if(_.type===1){const{value:Se,repeatable:Ce,optional:Le,regexp:he}=_;o.push({name:Se,repeatable:Ce,optional:Le});const g=he||BASE_PARAM_PATTERN;if(g!==BASE_PARAM_PATTERN){ye+=10;try{new RegExp(`(${g})`)}catch(ve){throw new Error(`Invalid custom RegExp for param "${Se}" (${g}): `+ve.message)}}let b=Ce?`((?:${g})(?:/(?:${g}))*)`:`(${g})`;m||(b=Le&&f.length<2?`(?:/${b})`:"/"+b),Le&&(b+="?"),s+=b,ye+=20,Le&&(ye+=-8),Ce&&(ye+=-20),g===".*"&&(ye+=-50)}d.push(ye)}n.push(d)}if(i.strict&&i.end){const f=n.length-1;n[f][n[f].length-1]+=.7000000000000001}i.strict||(s+="/?"),i.end?s+="$":i.strict&&(s+="(?:/|$)");const a=new RegExp(s,i.sensitive?"":"i");function c(f){const d=f.match(a),m={};if(!d)return null;for(let _=1;_<d.length;_++){const ye=d[_]||"",Se=o[_-1];m[Se.name]=ye&&Se.repeatable?ye.split("/"):ye}return m}function u(f){let d="",m=!1;for(const _ of r){(!m||!d.endsWith("/"))&&(d+="/"),m=!1;for(const ye of _)if(ye.type===0)d+=ye.value;else if(ye.type===1){const{value:Se,repeatable:Ce,optional:Le}=ye,he=Se in f?f[Se]:"";if(isArray(he)&&!Ce)throw new Error(`Provided param "${Se}" is an array but it is not repeatable (* or + modifiers)`);const g=isArray(he)?he.join("/"):he;if(!g)if(Le)_.length<2&&r.length>1&&(d.endsWith("/")?d=d.slice(0,-1):m=!0);else throw new Error(`Missing required param "${Se}"`);d+=g}}return d}return{re:a,score:n,keys:o,parse:c,stringify:u}}function compareScoreArray(r,e){let i=0;for(;i<r.length&&i<e.length;){const n=e[i]-r[i];if(n)return n;i++}return r.length<e.length?r.length===1&&r[0]===40+40?-1:1:r.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function comparePathParserScore(r,e){let i=0;const n=r.score,s=e.score;for(;i<n.length&&i<s.length;){const o=compareScoreArray(n[i],s[i]);if(o)return o;i++}if(Math.abs(s.length-n.length)===1){if(isLastScoreNegative(n))return 1;if(isLastScoreNegative(s))return-1}return s.length-n.length}function isLastScoreNegative(r){const e=r[r.length-1];return r.length>0&&e[e.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(r){if(!r)return[[]];if(r==="/")return[[ROOT_TOKEN]];if(!r.startsWith("/"))throw new Error(`Invalid path "${r}"`);function e(ye){throw new Error(`ERR (${i})/"${f}": ${ye}`)}let i=0,n=i;const s=[];let o;function a(){o&&s.push(o),o=[]}let c=0,u,f="",d="";function m(){!f||(i===0?o.push({type:0,value:f}):i===1||i===2||i===3?(o.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:f,regexp:d,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),f="")}function _(){f+=u}for(;c<r.length;){if(u=r[c++],u==="\\"&&i!==2){n=i,i=4;continue}switch(i){case 0:u==="/"?(f&&m(),a()):u===":"?(m(),i=1):_();break;case 4:_(),i=n;break;case 1:u==="("?i=2:VALID_PARAM_RE.test(u)?_():(m(),i=0,u!=="*"&&u!=="?"&&u!=="+"&&c--);break;case 2:u===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+u:i=3:d+=u;break;case 3:m(),i=0,u!=="*"&&u!=="?"&&u!=="+"&&c--,d="";break;default:e("Unknown state");break}}return i===2&&e(`Unfinished custom RegExp for param "${f}"`),m(),a(),s}function createRouteRecordMatcher(r,e,i){const n=tokensToParser(tokenizePath(r.path),i),s=assign(n,{record:r,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function createRouterMatcher(r,e){const i=[],n=new Map;e=mergeOptions({strict:!1,end:!0,sensitive:!1},e);function s(d){return n.get(d)}function o(d,m,_){const ye=!_,Se=normalizeRouteRecord(d);Se.aliasOf=_&&_.record;const Ce=mergeOptions(e,d),Le=[Se];if("alias"in d){const b=typeof d.alias=="string"?[d.alias]:d.alias;for(const ve of b)Le.push(assign({},Se,{components:_?_.record.components:Se.components,path:ve,aliasOf:_?_.record:Se}))}let he,g;for(const b of Le){const{path:ve}=b;if(m&&ve[0]!=="/"){const Pe=m.record.path,Be=Pe[Pe.length-1]==="/"?"":"/";b.path=m.record.path+(ve&&Be+ve)}if(he=createRouteRecordMatcher(b,m,Ce),_?_.alias.push(he):(g=g||he,g!==he&&g.alias.push(he),ye&&d.name&&!isAliasRecord(he)&&a(d.name)),Se.children){const Pe=Se.children;for(let Be=0;Be<Pe.length;Be++)o(Pe[Be],he,_&&_.children[Be])}_=_||he,u(he)}return g?()=>{a(g)}:noop$1}function a(d){if(isRouteName(d)){const m=n.get(d);m&&(n.delete(d),i.splice(i.indexOf(m),1),m.children.forEach(a),m.alias.forEach(a))}else{const m=i.indexOf(d);m>-1&&(i.splice(m,1),d.record.name&&n.delete(d.record.name),d.children.forEach(a),d.alias.forEach(a))}}function c(){return i}function u(d){let m=0;for(;m<i.length&&comparePathParserScore(d,i[m])>=0&&(d.record.path!==i[m].record.path||!isRecordChildOf(d,i[m]));)m++;i.splice(m,0,d),d.record.name&&!isAliasRecord(d)&&n.set(d.record.name,d)}function f(d,m){let _,ye={},Se,Ce;if("name"in d&&d.name){if(_=n.get(d.name),!_)throw createRouterError(1,{location:d});Ce=_.record.name,ye=assign(paramsFromLocation(m.params,_.keys.filter(g=>!g.optional).map(g=>g.name)),d.params),Se=_.stringify(ye)}else if("path"in d)Se=d.path,_=i.find(g=>g.re.test(Se)),_&&(ye=_.parse(Se),Ce=_.record.name);else{if(_=m.name?n.get(m.name):i.find(g=>g.re.test(m.path)),!_)throw createRouterError(1,{location:d,currentLocation:m});Ce=_.record.name,ye=assign({},m.params,d.params),Se=_.stringify(ye)}const Le=[];let he=_;for(;he;)Le.unshift(he.record),he=he.parent;return{name:Ce,path:Se,params:ye,matched:Le,meta:mergeMetaFields(Le)}}return r.forEach(d=>o(d)),{addRoute:o,resolve:f,removeRoute:a,getRoutes:c,getRecordMatcher:s}}function paramsFromLocation(r,e){const i={};for(const n of e)n in r&&(i[n]=r[n]);return i}function normalizeRouteRecord(r){return{path:r.path,redirect:r.redirect,name:r.name,meta:r.meta||{},aliasOf:void 0,beforeEnter:r.beforeEnter,props:normalizeRecordProps(r),children:r.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in r?r.components||null:r.component&&{default:r.component}}}function normalizeRecordProps(r){const e={},i=r.props||!1;if("component"in r)e.default=i;else for(const n in r.components)e[n]=typeof i=="boolean"?i:i[n];return e}function isAliasRecord(r){for(;r;){if(r.record.aliasOf)return!0;r=r.parent}return!1}function mergeMetaFields(r){return r.reduce((e,i)=>assign(e,i.meta),{})}function mergeOptions(r,e){const i={};for(const n in r)i[n]=n in e?e[n]:r[n];return i}function isRecordChildOf(r,e){return e.children.some(i=>i===r||isRecordChildOf(r,i))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(r){return encodeURI(""+r).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(r){return commonEncode(r).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(r){return commonEncode(r).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(r){return encodeQueryValue(r).replace(EQUAL_RE,"%3D")}function encodePath(r){return commonEncode(r).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(r){return r==null?"":encodePath(r).replace(SLASH_RE,"%2F")}function decode(r){try{return decodeURIComponent(""+r)}catch{}return""+r}function parseQuery(r){const e={};if(r===""||r==="?")return e;const n=(r[0]==="?"?r.slice(1):r).split("&");for(let s=0;s<n.length;++s){const o=n[s].replace(PLUS_RE," "),a=o.indexOf("="),c=decode(a<0?o:o.slice(0,a)),u=a<0?null:decode(o.slice(a+1));if(c in e){let f=e[c];isArray(f)||(f=e[c]=[f]),f.push(u)}else e[c]=u}return e}function stringifyQuery(r){let e="";for(let i in r){const n=r[i];if(i=encodeQueryKey(i),n==null){n!==void 0&&(e+=(e.length?"&":"")+i);continue}(isArray(n)?n.map(o=>o&&encodeQueryValue(o)):[n&&encodeQueryValue(n)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+i,o!=null&&(e+="="+o))})}return e}function normalizeQuery(r){const e={};for(const i in r){const n=r[i];n!==void 0&&(e[i]=isArray(n)?n.map(s=>s==null?null:""+s):n==null?n:""+n)}return e}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let r=[];function e(n){return r.push(n),()=>{const s=r.indexOf(n);s>-1&&r.splice(s,1)}}function i(){r=[]}return{add:e,list:()=>r,reset:i}}function guardToPromiseFn(r,e,i,n,s){const o=n&&(n.enterCallbacks[s]=n.enterCallbacks[s]||[]);return()=>new Promise((a,c)=>{const u=m=>{m===!1?c(createRouterError(4,{from:i,to:e})):m instanceof Error?c(m):isRouteLocation(m)?c(createRouterError(2,{from:e,to:m})):(o&&n.enterCallbacks[s]===o&&typeof m=="function"&&o.push(m),a())},f=r.call(n&&n.instances[s],e,i,u);let d=Promise.resolve(f);r.length<3&&(d=d.then(u)),d.catch(m=>c(m))})}function extractComponentsGuards(r,e,i,n){const s=[];for(const o of r)for(const a in o.components){let c=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(isRouteComponent(c)){const f=(c.__vccOpts||c)[e];f&&s.push(guardToPromiseFn(f,i,n,o,a))}else{let u=c();s.push(()=>u.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const d=isESModule(f)?f.default:f;o.components[a]=d;const _=(d.__vccOpts||d)[e];return _&&guardToPromiseFn(_,i,n,o,a)()}))}}return s}function isRouteComponent(r){return typeof r=="object"||"displayName"in r||"props"in r||"__vccOpts"in r}function useLink(r){const e=inject(routerKey),i=inject(routeLocationKey),n=computed(()=>e.resolve(unref(r.to))),s=computed(()=>{const{matched:u}=n.value,{length:f}=u,d=u[f-1],m=i.matched;if(!d||!m.length)return-1;const _=m.findIndex(isSameRouteRecord.bind(null,d));if(_>-1)return _;const ye=getOriginalPath(u[f-2]);return f>1&&getOriginalPath(d)===ye&&m[m.length-1].path!==ye?m.findIndex(isSameRouteRecord.bind(null,u[f-2])):_}),o=computed(()=>s.value>-1&&includesParams(i.params,n.value.params)),a=computed(()=>s.value>-1&&s.value===i.matched.length-1&&isSameRouteLocationParams(i.params,n.value.params));function c(u={}){return guardEvent(u)?e[unref(r.replace)?"replace":"push"](unref(r.to)).catch(noop$1):Promise.resolve()}return{route:n,href:computed(()=>n.value.href),isActive:o,isExactActive:a,navigate:c}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(r,{slots:e}){const i=reactive(useLink(r)),{options:n}=inject(routerKey),s=computed(()=>({[getLinkClass(r.activeClass,n.linkActiveClass,"router-link-active")]:i.isActive,[getLinkClass(r.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive}));return()=>{const o=e.default&&e.default(i);return r.custom?o:h$1("a",{"aria-current":i.isExactActive?r.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:s.value},o)}}}),RouterLink=RouterLinkImpl;function guardEvent(r){if(!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)&&!r.defaultPrevented&&!(r.button!==void 0&&r.button!==0)){if(r.currentTarget&&r.currentTarget.getAttribute){const e=r.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return r.preventDefault&&r.preventDefault(),!0}}function includesParams(r,e){for(const i in e){const n=e[i],s=r[i];if(typeof n=="string"){if(n!==s)return!1}else if(!isArray(s)||s.length!==n.length||n.some((o,a)=>o!==s[a]))return!1}return!0}function getOriginalPath(r){return r?r.aliasOf?r.aliasOf.path:r.path:""}const getLinkClass=(r,e,i)=>r!=null?r:e!=null?e:i,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(r,{attrs:e,slots:i}){const n=inject(routerViewLocationKey),s=computed(()=>r.route||n.value),o=inject(viewDepthKey,0),a=computed(()=>{let f=unref(o);const{matched:d}=s.value;let m;for(;(m=d[f])&&!m.components;)f++;return f}),c=computed(()=>s.value.matched[a.value]);provide(viewDepthKey,computed(()=>a.value+1)),provide(matchedRouteKey,c),provide(routerViewLocationKey,s);const u=ref();return watch(()=>[u.value,c.value,r.name],([f,d,m],[_,ye,Se])=>{d&&(d.instances[m]=f,ye&&ye!==d&&f&&f===_&&(d.leaveGuards.size||(d.leaveGuards=ye.leaveGuards),d.updateGuards.size||(d.updateGuards=ye.updateGuards))),f&&d&&(!ye||!isSameRouteRecord(d,ye)||!_)&&(d.enterCallbacks[m]||[]).forEach(Ce=>Ce(f))},{flush:"post"}),()=>{const f=s.value,d=c.value,m=d&&d.components[r.name],_=r.name;if(!m)return normalizeSlot(i.default,{Component:m,route:f});const ye=d.props[r.name],Se=ye?ye===!0?f.params:typeof ye=="function"?ye(f):ye:null,Le=h$1(m,assign({},Se,e,{onVnodeUnmounted:he=>{he.component.isUnmounted&&(d.instances[_]=null)},ref:u}));return normalizeSlot(i.default,{Component:Le,route:f})||Le}}});function normalizeSlot(r,e){if(!r)return null;const i=r(e);return i.length===1?i[0]:i}const RouterView=RouterViewImpl;function createRouter(r){const e=createRouterMatcher(r.routes,r),i=r.parseQuery||parseQuery,n=r.stringifyQuery||stringifyQuery,s=r.history,o=useCallbacks(),a=useCallbacks(),c=useCallbacks(),u=shallowRef(START_LOCATION_NORMALIZED);let f=START_LOCATION_NORMALIZED;isBrowser&&r.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=applyToParams.bind(null,Nt=>""+Nt),m=applyToParams.bind(null,encodeParam),_=applyToParams.bind(null,decode);function ye(Nt,or){let rr,lr;return isRouteName(Nt)?(rr=e.getRecordMatcher(Nt),lr=or):lr=Nt,e.addRoute(lr,rr)}function Se(Nt){const or=e.getRecordMatcher(Nt);or&&e.removeRoute(or)}function Ce(){return e.getRoutes().map(Nt=>Nt.record)}function Le(Nt){return!!e.getRecordMatcher(Nt)}function he(Nt,or){if(or=assign({},or||u.value),typeof Nt=="string"){const pr=parseURL(i,Nt,or.path),ot=e.resolve({path:pr.path},or),vt=s.createHref(pr.fullPath);return assign(pr,ot,{params:_(ot.params),hash:decode(pr.hash),redirectedFrom:void 0,href:vt})}let rr;if("path"in Nt)rr=assign({},Nt,{path:parseURL(i,Nt.path,or.path).path});else{const pr=assign({},Nt.params);for(const ot in pr)pr[ot]==null&&delete pr[ot];rr=assign({},Nt,{params:m(Nt.params)}),or.params=m(or.params)}const lr=e.resolve(rr,or),br=Nt.hash||"";lr.params=d(_(lr.params));const Er=stringifyURL(n,assign({},Nt,{hash:encodeHash(br),path:lr.path})),dr=s.createHref(Er);return assign({fullPath:Er,hash:br,query:n===stringifyQuery?normalizeQuery(Nt.query):Nt.query||{}},lr,{redirectedFrom:void 0,href:dr})}function g(Nt){return typeof Nt=="string"?parseURL(i,Nt,u.value.path):assign({},Nt)}function b(Nt,or){if(f!==Nt)return createRouterError(8,{from:or,to:Nt})}function ve(Nt){return Ve(Nt)}function Pe(Nt){return ve(assign(g(Nt),{replace:!0}))}function Be(Nt){const or=Nt.matched[Nt.matched.length-1];if(or&&or.redirect){const{redirect:rr}=or;let lr=typeof rr=="function"?rr(Nt):rr;return typeof lr=="string"&&(lr=lr.includes("?")||lr.includes("#")?lr=g(lr):{path:lr},lr.params={}),assign({query:Nt.query,hash:Nt.hash,params:"path"in lr?{}:Nt.params},lr)}}function Ve(Nt,or){const rr=f=he(Nt),lr=u.value,br=Nt.state,Er=Nt.force,dr=Nt.replace===!0,pr=Be(rr);if(pr)return Ve(assign(g(pr),{state:br,force:Er,replace:dr}),or||rr);const ot=rr;ot.redirectedFrom=or;let vt;return!Er&&isSameRouteLocation(n,lr,rr)&&(vt=createRouterError(16,{to:ot,from:lr}),Vt(lr,lr,!0,!1)),(vt?Promise.resolve(vt):yt(ot,lr)).catch(St=>isNavigationFailure(St)?isNavigationFailure(St,2)?St:_t(St):Ue(St,ot,lr)).then(St=>{if(St){if(isNavigationFailure(St,2))return Ve(assign(g(St.to),{state:br,force:Er,replace:dr}),or||ot)}else St=Ot(ot,lr,!0,dr,br);return kt(ot,lr,St),St})}function et(Nt,or){const rr=b(Nt,or);return rr?Promise.reject(rr):Promise.resolve()}function yt(Nt,or){let rr;const[lr,br,Er]=extractChangingRecords(Nt,or);rr=extractComponentsGuards(lr.reverse(),"beforeRouteLeave",Nt,or);for(const pr of lr)pr.leaveGuards.forEach(ot=>{rr.push(guardToPromiseFn(ot,Nt,or))});const dr=et.bind(null,Nt,or);return rr.push(dr),runGuardQueue(rr).then(()=>{rr=[];for(const pr of o.list())rr.push(guardToPromiseFn(pr,Nt,or));return rr.push(dr),runGuardQueue(rr)}).then(()=>{rr=extractComponentsGuards(br,"beforeRouteUpdate",Nt,or);for(const pr of br)pr.updateGuards.forEach(ot=>{rr.push(guardToPromiseFn(ot,Nt,or))});return rr.push(dr),runGuardQueue(rr)}).then(()=>{rr=[];for(const pr of Nt.matched)if(pr.beforeEnter&&!or.matched.includes(pr))if(isArray(pr.beforeEnter))for(const ot of pr.beforeEnter)rr.push(guardToPromiseFn(ot,Nt,or));else rr.push(guardToPromiseFn(pr.beforeEnter,Nt,or));return rr.push(dr),runGuardQueue(rr)}).then(()=>(Nt.matched.forEach(pr=>pr.enterCallbacks={}),rr=extractComponentsGuards(Er,"beforeRouteEnter",Nt,or),rr.push(dr),runGuardQueue(rr))).then(()=>{rr=[];for(const pr of a.list())rr.push(guardToPromiseFn(pr,Nt,or));return rr.push(dr),runGuardQueue(rr)}).catch(pr=>isNavigationFailure(pr,8)?pr:Promise.reject(pr))}function kt(Nt,or,rr){for(const lr of c.list())lr(Nt,or,rr)}function Ot(Nt,or,rr,lr,br){const Er=b(Nt,or);if(Er)return Er;const dr=or===START_LOCATION_NORMALIZED,pr=isBrowser?history.state:{};rr&&(lr||dr?s.replace(Nt.fullPath,assign({scroll:dr&&pr&&pr.scroll},br)):s.push(Nt.fullPath,br)),u.value=Nt,Vt(Nt,or,rr,dr),_t()}let Ft;function wt(){Ft||(Ft=s.listen((Nt,or,rr)=>{if(!_r.listening)return;const lr=he(Nt),br=Be(lr);if(br){Ve(assign(br,{replace:!0}),lr).catch(noop$1);return}f=lr;const Er=u.value;isBrowser&&saveScrollPosition(getScrollKey(Er.fullPath,rr.delta),computeScrollPosition()),yt(lr,Er).catch(dr=>isNavigationFailure(dr,12)?dr:isNavigationFailure(dr,2)?(Ve(dr.to,lr).then(pr=>{isNavigationFailure(pr,20)&&!rr.delta&&rr.type===NavigationType.pop&&s.go(-1,!1)}).catch(noop$1),Promise.reject()):(rr.delta&&s.go(-rr.delta,!1),Ue(dr,lr,Er))).then(dr=>{dr=dr||Ot(lr,Er,!1),dr&&(rr.delta?s.go(-rr.delta,!1):rr.type===NavigationType.pop&&isNavigationFailure(dr,20)&&s.go(-1,!1)),kt(lr,Er,dr)}).catch(noop$1)}))}let Dt=useCallbacks(),Mt=useCallbacks(),gt;function Ue(Nt,or,rr){_t(Nt);const lr=Mt.list();return lr.length?lr.forEach(br=>br(Nt,or,rr)):console.error(Nt),Promise.reject(Nt)}function mt(){return gt&&u.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((Nt,or)=>{Dt.add([Nt,or])})}function _t(Nt){return gt||(gt=!Nt,wt(),Dt.list().forEach(([or,rr])=>Nt?rr(Nt):or()),Dt.reset()),Nt}function Vt(Nt,or,rr,lr){const{scrollBehavior:br}=r;if(!isBrowser||!br)return Promise.resolve();const Er=!rr&&getSavedScrollPosition(getScrollKey(Nt.fullPath,0))||(lr||!rr)&&history.state&&history.state.scroll||null;return nextTick().then(()=>br(Nt,or,Er)).then(dr=>dr&&scrollToPosition(dr)).catch(dr=>Ue(dr,Nt,or))}const xt=Nt=>s.go(Nt);let cr;const yr=new Set,_r={currentRoute:u,listening:!0,addRoute:ye,removeRoute:Se,hasRoute:Le,getRoutes:Ce,resolve:he,options:r,push:ve,replace:Pe,go:xt,back:()=>xt(-1),forward:()=>xt(1),beforeEach:o.add,beforeResolve:a.add,afterEach:c.add,onError:Mt.add,isReady:mt,install(Nt){const or=this;Nt.component("RouterLink",RouterLink),Nt.component("RouterView",RouterView),Nt.config.globalProperties.$router=or,Object.defineProperty(Nt.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(u)}),isBrowser&&!cr&&u.value===START_LOCATION_NORMALIZED&&(cr=!0,ve(s.location).catch(br=>{}));const rr={};for(const br in START_LOCATION_NORMALIZED)rr[br]=computed(()=>u.value[br]);Nt.provide(routerKey,or),Nt.provide(routeLocationKey,reactive(rr)),Nt.provide(routerViewLocationKey,u);const lr=Nt.unmount;yr.add(Nt),Nt.unmount=function(){yr.delete(Nt),yr.size<1&&(f=START_LOCATION_NORMALIZED,Ft&&Ft(),Ft=null,u.value=START_LOCATION_NORMALIZED,cr=!1,gt=!1),lr()}}};return _r}function runGuardQueue(r){return r.reduce((e,i)=>e.then(()=>i()),Promise.resolve())}function extractChangingRecords(r,e){const i=[],n=[],s=[],o=Math.max(e.matched.length,r.matched.length);for(let a=0;a<o;a++){const c=e.matched[a];c&&(r.matched.find(f=>isSameRouteRecord(f,c))?n.push(c):i.push(c));const u=r.matched[a];u&&(e.matched.find(f=>isSameRouteRecord(f,u))||s.push(u))}return[i,n,s]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(r){const e=[];let i=0;for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);s<128?e[i++]=s:s<2048?(e[i++]=s>>6|192,e[i++]=s&63|128):(s&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(r.charCodeAt(++n)&1023),e[i++]=s>>18|240,e[i++]=s>>12&63|128,e[i++]=s>>6&63|128,e[i++]=s&63|128):(e[i++]=s>>12|224,e[i++]=s>>6&63|128,e[i++]=s&63|128)}return e},byteArrayToString=function(r){const e=[];let i=0,n=0;for(;i<r.length;){const s=r[i++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const o=r[i++];e[n++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=r[i++],a=r[i++],c=r[i++],u=((s&7)<<18|(o&63)<<12|(a&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(u>>10)),e[n++]=String.fromCharCode(56320+(u&1023))}else{const o=r[i++],a=r[i++];e[n++]=String.fromCharCode((s&15)<<12|(o&63)<<6|a&63)}}return e.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<r.length;s+=3){const o=r[s],a=s+1<r.length,c=a?r[s+1]:0,u=s+2<r.length,f=u?r[s+2]:0,d=o>>2,m=(o&3)<<4|c>>4;let _=(c&15)<<2|f>>6,ye=f&63;u||(ye=64,a||(_=64)),n.push(i[d],i[m],i[_],i[ye])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(stringToByteArray$1(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):byteArrayToString(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<r.length;){const o=i[r.charAt(s++)],c=s<r.length?i[r.charAt(s)]:0;++s;const f=s<r.length?i[r.charAt(s)]:64;++s;const m=s<r.length?i[r.charAt(s)]:64;if(++s,o==null||c==null||f==null||m==null)throw Error();const _=o<<2|c>>4;if(n.push(_),f!==64){const ye=c<<4&240|f>>2;if(n.push(ye),m!==64){const Se=f<<6&192|m;n.push(Se)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}},base64Encode=function(r){const e=stringToByteArray$1(r);return base64.encodeByteArray(e,!0)},base64urlEncodeWithoutPadding=function(r){return base64Encode(r).replace(/\./g,"")},base64Decode=function(r){try{return base64.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,n)=>{i?this.reject(i):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,n))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isBrowserExtension(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isElectron(){return getUA().indexOf("Electron/")>=0}function isIE(){const r=getUA();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function isUWP(){return getUA().indexOf("MSAppHost/")>=0}function isIndexedDBAvailable(){return typeof indexedDB=="object"}function validateIndexedDBOpenable(){return new Promise((r,e)=>{try{let i=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),i||self.indexedDB.deleteDatabase(n),r(!0)},s.onupgradeneeded=()=>{i=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(e,i,n){super(i),this.code=e,this.customData=n,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(e,i,n){this.service=e,this.serviceName=i,this.errors=n}create(e,...i){const n=i[0]||{},s=`${this.service}/${e}`,o=this.errors[e],a=o?replaceTemplate(o,n):"Error",c=`${this.serviceName}: ${a} (${s}).`;return new FirebaseError(s,c,n)}}function replaceTemplate(r,e){return r.replace(PATTERN,(i,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const PATTERN=/\{\$([^}]+)}/g;function isEmpty(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function deepEqual(r,e){if(r===e)return!0;const i=Object.keys(r),n=Object.keys(e);for(const s of i){if(!n.includes(s))return!1;const o=r[s],a=e[s];if(isObject(o)&&isObject(a)){if(!deepEqual(o,a))return!1}else if(o!==a)return!1}for(const s of n)if(!i.includes(s))return!1;return!0}function isObject(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(r){const e=[];for(const[i,n]of Object.entries(r))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function querystringDecode(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,o]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function extractQuerystring(r){const e=r.indexOf("?");if(!e)return"";const i=r.indexOf("#",e);return r.substring(e,i>0?i:void 0)}function createSubscribe(r,e){const i=new ObserverProxy(r,e);return i.subscribe.bind(i)}class ObserverProxy{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,n){let s;if(e===void 0&&i===void 0&&n===void 0)throw new Error("Missing Observer.");implementsAnyMethods(e,["next","error","complete"])?s=e:s={next:e,error:i,complete:n},s.next===void 0&&(s.next=noop),s.error===void 0&&(s.error=noop),s.complete===void 0&&(s.complete=noop);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function noop(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(r){return r&&r._delegate?r._delegate:r}class Component{constructor(e,i,n){this.name=e,this.instanceFactory=i,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const n=new Deferred;if(this.instancesDeferred.set(i,n),this.isInitialized(i)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:i});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(isComponentEager(e))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[i,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(i);try{const o=this.getOrInitializeService({instanceIdentifier:s});n.resolve(o)}catch{}}}}clearInstance(e=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=DEFAULT_ENTRY_NAME$1){return this.instances.has(e)}getOptions(e=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:i});for(const[o,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);n===c&&a.resolve(s)}return s}onInit(e,i){var n;const s=this.normalizeInstanceIdentifier(i),o=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(s,o);const a=this.instances.get(s);return a&&e(a,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const n=this.onInitCallbacks.get(i);if(!!n)for(const s of n)try{s(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(e),options:i}),this.instances.set(e,n),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?e:DEFAULT_ENTRY_NAME$1:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(r){return r===DEFAULT_ENTRY_NAME$1?void 0:r}function isComponentEager(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new Provider(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(r,e,...i)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),s=ConsoleMethod[e];if(s)console[s](`[${n}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Logger{constructor(e){this.name=e,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in LogLevel))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?levelStringToEnum[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...e),this._logHandler(this,LogLevel.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...e),this._logHandler(this,LogLevel.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...e),this._logHandler(this,LogLevel.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...e),this._logHandler(this,LogLevel.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...e),this._logHandler(this,LogLevel.ERROR,...e)}}const instanceOfAny=(r,e)=>e.some(i=>r instanceof i);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(r){const e=new Promise((i,n)=>{const s=()=>{r.removeEventListener("success",o),r.removeEventListener("error",a)},o=()=>{i(wrap(r.result)),s()},a=()=>{n(r.error),s()};r.addEventListener("success",o),r.addEventListener("error",a)});return e.then(i=>{i instanceof IDBCursor&&cursorRequestMap.set(i,r)}).catch(()=>{}),reverseTransformCache.set(e,r),e}function cacheDonePromiseForTransaction(r){if(transactionDoneMap.has(r))return;const e=new Promise((i,n)=>{const s=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",a),r.removeEventListener("abort",a)},o=()=>{i(),s()},a=()=>{n(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",o),r.addEventListener("error",a),r.addEventListener("abort",a)});transactionDoneMap.set(r,e)}let idbProxyTraps={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return transactionDoneMap.get(r);if(e==="objectStoreNames")return r.objectStoreNames||transactionStoreNamesMap.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return wrap(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function replaceTraps(r){idbProxyTraps=r(idbProxyTraps)}function wrapFunction(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const n=r.call(unwrap(this),e,...i);return transactionStoreNamesMap.set(n,e.sort?e.sort():[e]),wrap(n)}:getCursorAdvanceMethods().includes(r)?function(...e){return r.apply(unwrap(this),e),wrap(cursorRequestMap.get(this))}:function(...e){return wrap(r.apply(unwrap(this),e))}}function transformCachableValue(r){return typeof r=="function"?wrapFunction(r):(r instanceof IDBTransaction&&cacheDonePromiseForTransaction(r),instanceOfAny(r,getIdbProxyableTypes())?new Proxy(r,idbProxyTraps):r)}function wrap(r){if(r instanceof IDBRequest)return promisifyRequest(r);if(transformCache.has(r))return transformCache.get(r);const e=transformCachableValue(r);return e!==r&&(transformCache.set(r,e),reverseTransformCache.set(e,r)),e}const unwrap=r=>reverseTransformCache.get(r);function openDB(r,e,{blocked:i,upgrade:n,blocking:s,terminated:o}={}){const a=indexedDB.open(r,e),c=wrap(a);return n&&a.addEventListener("upgradeneeded",u=>{n(wrap(a.result),u.oldVersion,u.newVersion,wrap(a.transaction))}),i&&a.addEventListener("blocked",()=>i()),c.then(u=>{o&&u.addEventListener("close",()=>o()),s&&u.addEventListener("versionchange",()=>s())}).catch(()=>{}),c}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(cachedMethods.get(e))return cachedMethods.get(e);const i=e.replace(/FromIndex$/,""),n=e!==i,s=writeMethods.includes(i);if(!(i in(n?IDBIndex:IDBObjectStore).prototype)||!(s||readMethods.includes(i)))return;const o=async function(a,...c){const u=this.transaction(a,s?"readwrite":"readonly");let f=u.store;return n&&(f=f.index(c.shift())),(await Promise.all([f[i](...c),s&&u.done]))[0]};return cachedMethods.set(e,o),o}replaceTraps(r=>({...r,get:(e,i,n)=>getMethod(e,i)||r.get(e,i,n),has:(e,i)=>!!getMethod(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(isVersionServiceProvider(i)){const n=i.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(i=>i).join(" ")}}function isVersionServiceProvider(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const name$o="@firebase/app",version$1$1="0.7.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/app"),name$n="@firebase/app-compat",name$m="@firebase/analytics-compat",name$l="@firebase/analytics",name$k="@firebase/app-check-compat",name$j="@firebase/app-check",name$i="@firebase/auth",name$h="@firebase/auth-compat",name$g="@firebase/database",name$f="@firebase/database-compat",name$e="@firebase/functions",name$d="@firebase/functions-compat",name$c="@firebase/installations",name$b="@firebase/installations-compat",name$a="@firebase/messaging",name$9="@firebase/messaging-compat",name$8="@firebase/performance",name$7="@firebase/performance-compat",name$6="@firebase/remote-config",name$5="@firebase/remote-config-compat",name$4="@firebase/storage",name$3="@firebase/storage-compat",name$2$1="@firebase/firestore",name$1$1="@firebase/firestore-compat",name$p="firebase",version$3="9.9.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$o]:"fire-core",[name$n]:"fire-core-compat",[name$l]:"fire-analytics",[name$m]:"fire-analytics-compat",[name$j]:"fire-app-check",[name$k]:"fire-app-check-compat",[name$i]:"fire-auth",[name$h]:"fire-auth-compat",[name$g]:"fire-rtdb",[name$f]:"fire-rtdb-compat",[name$e]:"fire-fn",[name$d]:"fire-fn-compat",[name$c]:"fire-iid",[name$b]:"fire-iid-compat",[name$a]:"fire-fcm",[name$9]:"fire-fcm-compat",[name$8]:"fire-perf",[name$7]:"fire-perf-compat",[name$6]:"fire-rc",[name$5]:"fire-rc-compat",[name$4]:"fire-gcs",[name$3]:"fire-gcs-compat",[name$2$1]:"fire-fst",[name$1$1]:"fire-fst-compat","fire-js":"fire-js",[name$p]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_components=new Map;function _addComponent(r,e){try{r.container.addComponent(e)}catch(i){logger.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function _registerComponent(r){const e=r.name;if(_components.has(e))return logger.debug(`There were multiple attempts to register component ${e}.`),!1;_components.set(e,r);for(const i of _apps.values())_addComponent(i,r);return!0}function _getProvider(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(e,i,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$3;function initializeApp(r,e={}){typeof e!="object"&&(e={name:e});const i=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},e),n=i.name;if(typeof n!="string"||!n)throw ERROR_FACTORY.create("bad-app-name",{appName:String(n)});const s=_apps.get(n);if(s){if(deepEqual(r,s.options)&&deepEqual(i,s.config))return s;throw ERROR_FACTORY.create("duplicate-app",{appName:n})}const o=new ComponentContainer(n);for(const c of _components.values())o.addComponent(c);const a=new FirebaseAppImpl(r,i,o);return _apps.set(n,a),a}function getApp(r=DEFAULT_ENTRY_NAME){const e=_apps.get(r);if(!e)throw ERROR_FACTORY.create("no-app",{appName:r});return e}function registerVersion(r,e,i){var n;let s=(n=PLATFORM_LOG_STRING[r])!==null&&n!==void 0?n:r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),logger.warn(c.join(" "));return}_registerComponent(new Component(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(STORE_NAME)}}}).catch(r=>{throw ERROR_FACTORY.create("storage-open",{originalErrorMessage:r.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(r){var e;try{return(await getDbPromise()).transaction(STORE_NAME).objectStore(STORE_NAME).get(computeKey(r))}catch(i){throw ERROR_FACTORY.create("storage-get",{originalErrorMessage:(e=i)===null||e===void 0?void 0:e.message})}}async function writeHeartbeatsToIndexedDB(r,e){var i;try{const s=(await getDbPromise()).transaction(STORE_NAME,"readwrite");return await s.objectStore(STORE_NAME).put(e,computeKey(r)),s.done}catch(n){throw ERROR_FACTORY.create("storage-set",{originalErrorMessage:(i=n)===null||i===void 0?void 0:i.message})}}function computeKey(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(i),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=getUTCDateString();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(s=>s.date===n)))return this._heartbeatsCache.heartbeats.push({date:n,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=getUTCDateString(),{heartbeatsToSend:i,unsentEntries:n}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),s=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(r,e=MAX_HEADER_BYTES){const i=[];let n=r.slice();for(const s of r){const o=i.find(a=>a.agent===s.agent);if(o){if(o.dates.push(s.date),countBytes(i)>e){o.dates.pop();break}}else if(i.push({agent:s.agent,dates:[s.date]}),countBytes(i)>e){i.pop();break}n=n.slice(1)}return{heartbeatsToSend:i,unsentEntries:n}}class HeartbeatStorageImpl{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await readHeartbeatsFromIndexedDB(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const s=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const s=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function countBytes(r){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(r){_registerComponent(new Component("platform-logger",e=>new PlatformLoggerServiceImpl(e),"PRIVATE")),_registerComponent(new Component("heartbeat",e=>new HeartbeatServiceImpl(e),"PRIVATE")),registerVersion(name$o,version$1$1,r),registerVersion(name$o,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");var name$2="firebase",version$2="9.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$2,version$2,"app");function __rest(r,e){var i={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(i[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(i[n[s]]=r[n[s]]);return i}function _prodErrorMap(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/auth");function _logError(r,...e){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (${SDK_VERSION}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(r,...e){throw createErrorInternal(r,...e)}function _createError(r,...e){return createErrorInternal(r,...e)}function _errorWithCustomMessage(r,e,i){const n=Object.assign(Object.assign({},prodErrorMap()),{[e]:i});return new ErrorFactory("auth","Firebase",n).create(e,{appName:r.name})}function createErrorInternal(r,...e){if(typeof r!="string"){const i=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(i,...n)}return _DEFAULT_AUTH_ERROR_FACTORY.create(r,...e)}function _assert(r,e,...i){if(!r)throw createErrorInternal(e,...i)}function debugFail(r){const e="INTERNAL ASSERTION FAILED: "+r;throw _logError(e),new Error(e)}function debugAssert(r,e){r||debugFail(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(r){debugAssert(r instanceof Function,"Expected a class definition");let e=instanceCache.get(r);return e?(debugAssert(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,instanceCache.set(r,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth(r,e){const i=_getProvider(r,"auth");if(i.isInitialized()){const s=i.getImmediate(),o=i.getOptions();if(deepEqual(o,e!=null?e:{}))return s;_fail(s,"already-initialized")}return i.initialize({options:e})}function _initializeAuthInstance(r,e){const i=(e==null?void 0:e.persistence)||[],n=(Array.isArray(i)?i:[i]).map(_getInstance);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(e,i){this.shortDelay=e,this.longDelay=i,debugAssert(i>e,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(r,e){debugAssert(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(e,i,n){this.fetchImpl=e,i&&(this.headersImpl=i),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function _performApiRequest(r,e,i,n,s={}){return _performFetchWithErrorHandling(r,s,async()=>{let o={},a={};n&&(e==="GET"?a=n:o={body:JSON.stringify(n)});const c=querystring(Object.assign({key:r.config.apiKey},a)).slice(1),u=await r._getAdditionalHeaders();return u["Content-Type"]="application/json",r.languageCode&&(u["X-Firebase-Locale"]=r.languageCode),FetchProvider.fetch()(_getFinalTarget(r,r.config.apiHost,i,c),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},o))})}async function _performFetchWithErrorHandling(r,e,i){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},SERVER_ERROR_MAP),e);try{const s=new NetworkTimeout(r),o=await Promise.race([i(),s.promise]);s.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw _makeTaggedError(r,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const c=o.ok?a.errorMessage:a.error.message,[u,f]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(r,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw _makeTaggedError(r,"email-already-in-use",a);if(u==="USER_DISABLED")throw _makeTaggedError(r,"user-disabled",a);const d=n[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw _errorWithCustomMessage(r,d,f);_fail(r,d)}}catch(s){if(s instanceof FirebaseError)throw s;_fail(r,"network-request-failed")}}async function _performSignInRequest(r,e,i,n,s={}){const o=await _performApiRequest(r,e,i,n,s);return"mfaPendingCredential"in o&&_fail(r,"multi-factor-auth-required",{_serverResponse:o}),o}function _getFinalTarget(r,e,i,n){const s=`${e}${i}?${n}`;return r.config.emulator?_emulatorUrl(r.config,s):`${r.config.apiScheme}://${s}`}class NetworkTimeout{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,n)=>{this.timer=setTimeout(()=>n(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _makeTaggedError(r,e,i){const n={appName:r.name};i.email&&(n.email=i.email),i.phoneNumber&&(n.phoneNumber=i.phoneNumber);const s=_createError(r,e,n);return s.customData._tokenResponse=i,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(r,e){return _performApiRequest(r,"POST","/v1/accounts:delete",e)}async function getAccountInfo(r,e){return _performApiRequest(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(r){if(!!r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function getIdTokenResult(r,e=!1){const i=getModularInstance(r),n=await i.getIdToken(e),s=_parseToken(n);_assert(s&&s.exp&&s.auth_time&&s.iat,i.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:s,token:n,authTime:utcTimestampToDateString(secondsStringToMilliseconds(s.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(s.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(s.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function secondsStringToMilliseconds(r){return Number(r)*1e3}function _parseToken(r){var e;const[i,n,s]=r.split(".");if(i===void 0||n===void 0||s===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const o=base64Decode(n);return o?JSON.parse(o):(_logError("Failed to decode base64 JWT payload"),null)}catch(o){return _logError("Caught error parsing JWT payload as JSON",(e=o)===null||e===void 0?void 0:e.toString()),null}}function _tokenExpiresIn(r){const e=_parseToken(r);return _assert(e,"internal-error"),_assert(typeof e.exp<"u","internal-error"),_assert(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(r,e,i=!1){if(i)return e;try{return await e}catch(n){throw n instanceof FirebaseError&&isUserInvalidated(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function isUserInvalidated({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(i){((e=i)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(r){var e;const i=r.auth,n=await r.getIdToken(),s=await _logoutIfInvalidated(r,getAccountInfo(i,{idToken:n}));_assert(s==null?void 0:s.users.length,i,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?extractProviderData(o.providerUserInfo):[],c=mergeProviderData(r.providerData,a),u=r.isAnonymous,f=!(r.email&&o.passwordHash)&&!(c!=null&&c.length),d=u?f:!1,m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new UserMetadata(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(r,m)}async function reload(r){const e=getModularInstance(r);await _reloadWithoutSaving(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mergeProviderData(r,e){return[...r.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function extractProviderData(r){return r.map(e=>{var{providerId:i}=e,n=__rest(e,["providerId"]);return{providerId:i,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(r,e){const i=await _performFetchWithErrorHandling(r,{},async()=>{const n=querystring({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=r.config,a=_getFinalTarget(r,s,"/v1/token",`key=${o}`),c=await r._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(a,{method:"POST",headers:c,body:n})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_assert(e.idToken,"internal-error"),_assert(typeof e.idToken<"u","internal-error"),_assert(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_tokenExpiresIn(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}async getToken(e,i=!1){return _assert(!this.accessToken||this.refreshToken,e,"user-token-expired"),!i&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:n,refreshToken:s,expiresIn:o}=await requestStsToken(e,i);this.updateTokensAndExpiration(n,s,Number(o))}updateTokensAndExpiration(e,i,n){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,i){const{refreshToken:n,accessToken:s,expirationTime:o}=i,a=new StsTokenManager;return n&&(_assert(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),s&&(_assert(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),o&&(_assert(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(r,e){_assert(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class UserImpl{constructor(e){var{uid:i,auth:n,stsTokenManager:s}=e,o=__rest(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new UserMetadata(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,e));return _assert(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return getIdTokenResult(this,e)}reload(){return reload(this)}_assign(e){this!==e&&(_assert(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new UserImpl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),i&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var n,s,o,a,c,u,f,d;const m=(n=i.displayName)!==null&&n!==void 0?n:void 0,_=(s=i.email)!==null&&s!==void 0?s:void 0,ye=(o=i.phoneNumber)!==null&&o!==void 0?o:void 0,Se=(a=i.photoURL)!==null&&a!==void 0?a:void 0,Ce=(c=i.tenantId)!==null&&c!==void 0?c:void 0,Le=(u=i._redirectEventId)!==null&&u!==void 0?u:void 0,he=(f=i.createdAt)!==null&&f!==void 0?f:void 0,g=(d=i.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:b,emailVerified:ve,isAnonymous:Pe,providerData:Be,stsTokenManager:Ve}=i;_assert(b&&Ve,e,"internal-error");const et=StsTokenManager.fromJSON(this.name,Ve);_assert(typeof b=="string",e,"internal-error"),assertStringOrUndefined(m,e.name),assertStringOrUndefined(_,e.name),_assert(typeof ve=="boolean",e,"internal-error"),_assert(typeof Pe=="boolean",e,"internal-error"),assertStringOrUndefined(ye,e.name),assertStringOrUndefined(Se,e.name),assertStringOrUndefined(Ce,e.name),assertStringOrUndefined(Le,e.name),assertStringOrUndefined(he,e.name),assertStringOrUndefined(g,e.name);const yt=new UserImpl({uid:b,auth:e,email:_,emailVerified:ve,displayName:m,isAnonymous:Pe,photoURL:Se,phoneNumber:ye,tenantId:Ce,stsTokenManager:et,createdAt:he,lastLoginAt:g});return Be&&Array.isArray(Be)&&(yt.providerData=Be.map(kt=>Object.assign({},kt))),Le&&(yt._redirectEventId=Le),yt}static async _fromIdTokenResponse(e,i,n=!1){const s=new StsTokenManager;s.updateFromServerResponse(i);const o=new UserImpl({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await _reloadWithoutSaving(o),o}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(r,e,i){return`firebase:${r}:${e}:${i}`}class PersistenceUserManager{constructor(e,i,n){this.persistence=e,this.auth=i,this.userKey=n;const{config:s,name:o}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,s.apiKey,o),this.fullPersistenceKey=_persistenceKeyName("persistence",s.apiKey,o),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?UserImpl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,n="authUser"){if(!i.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),e,n);const s=(await Promise.all(i.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=s[0]||_getInstance(inMemoryPersistence);const a=_persistenceKeyName(n,e.config.apiKey,e.name);let c=null;for(const f of i)try{const d=await f._get(a);if(d){const m=UserImpl._fromJSON(e,d);f!==o&&(c=m),o=f;break}}catch{}const u=s.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new PersistenceUserManager(o,e,n):(o=u[0],c&&await o._set(a,c.toJSON()),await Promise.all(i.map(async f=>{if(f!==o)try{await f._remove(a)}catch{}})),new PersistenceUserManager(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_isIEMobile(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_isFirefox(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_isBlackBerry(e))return"Blackberry";if(_isWebOS(e))return"Webos";if(_isSafari(e))return"Safari";if((e.includes("chrome/")||_isChromeIOS(e))&&!e.includes("edge/"))return"Chrome";if(_isAndroid(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(i);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function _isFirefox(r=getUA()){return/firefox\//i.test(r)}function _isSafari(r=getUA()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _isChromeIOS(r=getUA()){return/crios\//i.test(r)}function _isIEMobile(r=getUA()){return/iemobile/i.test(r)}function _isAndroid(r=getUA()){return/android/i.test(r)}function _isBlackBerry(r=getUA()){return/blackberry/i.test(r)}function _isWebOS(r=getUA()){return/webos/i.test(r)}function _isIOS(r=getUA()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function _isIOSStandalone(r=getUA()){var e;return _isIOS(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(r=getUA()){return _isIOS(r)||_isAndroid(r)||_isWebOS(r)||_isBlackBerry(r)||/windows phone/i.test(r)||_isIEMobile(r)}function _isIframe(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(r,e=[]){let i;switch(r){case"Browser":i=_getBrowserName(getUA());break;case"Worker":i=`${_getBrowserName(getUA())}-${r}`;break;default:i=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${SDK_VERSION}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const n=o=>new Promise((a,c)=>{try{const u=e(o);a(u)}catch(u){c(u)}});n.onAbort=i,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){var i;if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(i=s)===null||i===void 0?void 0:i.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(e,i,n){this.app=e,this.heartbeatServiceProvider=i,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=_getInstance(i)),this._initializationPromise=this.queue(async()=>{var n,s;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var i;const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,c=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===c)&&(u==null?void 0:u.user)&&(s=u.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){var i;try{await _reloadWithoutSaving(e)}catch(n){if(((i=n)===null||i===void 0?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const i=e?getModularInstance(e):null;return i&&_assert(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&_assert(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ErrorFactory("auth","Firebase",e())}onAuthStateChanged(e,i,n){return this.registerStateListener(this.authStateSubscription,e,i,n)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,n){return this.registerStateListener(this.idTokenSubscription,e,i,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const n=await this.getOrInitRedirectPersistenceManager(i);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&_getInstance(e)||this._popupRedirectResolver;_assert(i,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,n;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,n,s){if(this._deleted)return()=>{};const o=typeof i=="function"?i:i.next.bind(i),a=this._isInitialized?Promise.resolve():this._initializationPromise;return _assert(a,this,"internal-error"),a.then(()=>o(this.currentUser)),typeof i=="function"?e.addObserver(i,n,s):e.addObserver(i)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return n&&(i["X-Firebase-Client"]=n),i}}function _castAuth(r){return getModularInstance(r)}class Subscription{constructor(e){this.auth=e,this.observer=null,this.addObserver=createSubscribe(i=>this.observer=i)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(e){return debugFail("not implemented")}_linkToIdToken(e,i){return debugFail("not implemented")}_getReauthenticationResolver(e){return debugFail("not implemented")}}async function updateEmailPassword(r,e){return _performApiRequest(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithPassword(r,e){return _performSignInRequest(r,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithEmailLink$1(r,e){return _performSignInRequest(r,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(r,e))}async function signInWithEmailLinkForLinking(r,e){return _performSignInRequest(r,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthCredential extends AuthCredential{constructor(e,i,n,s=null){super("password",n),this._email=e,this._password=i,this._tenantId=s}static _fromEmailAndPassword(e,i){return new EmailAuthCredential(e,i,"password")}static _fromEmailAndCode(e,i,n=null){return new EmailAuthCredential(e,i,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if((i==null?void 0:i.email)&&(i==null?void 0:i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return signInWithPassword(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return signInWithEmailLink$1(e,{email:this._email,oobCode:this._password});default:_fail(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":return updateEmailPassword(e,{idToken:i,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return signInWithEmailLinkForLinking(e,{idToken:i,email:this._email,oobCode:this._password});default:_fail(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(r,e){return _performSignInRequest(r,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new OAuthCredential(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):_fail("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s}=i,o=__rest(i,["providerId","signInMethod"]);if(!n||!s)return null;const a=new OAuthCredential(n,s);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const i=this.buildRequest();return signInWithIdp(e,i)}_linkToIdToken(e,i){const n=this.buildRequest();return n.idToken=i,signInWithIdp(e,n)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,signInWithIdp(e,i)}buildRequest(){const e={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=querystring(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parseMode(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function parseDeepLink(r){const e=querystringDecode(extractQuerystring(r)).link,i=e?querystringDecode(extractQuerystring(e)).deep_link_id:null,n=querystringDecode(extractQuerystring(r)).deep_link_id;return(n?querystringDecode(extractQuerystring(n)).link:null)||n||i||e||r}class ActionCodeURL{constructor(e){var i,n,s,o,a,c;const u=querystringDecode(extractQuerystring(e)),f=(i=u.apiKey)!==null&&i!==void 0?i:null,d=(n=u.oobCode)!==null&&n!==void 0?n:null,m=parseMode((s=u.mode)!==null&&s!==void 0?s:null);_assert(f&&d&&m,"argument-error"),this.apiKey=f,this.operation=m,this.code=d,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=u.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const i=parseDeepLink(e);try{return new ActionCodeURL(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(e,i){return EmailAuthCredential._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const n=ActionCodeURL.parseLink(i);return _assert(n,"argument-error"),EmailAuthCredential._fromEmailAndCode(e,n.code,n.tenantId)}}EmailAuthProvider.PROVIDER_ID="password";EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password";EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(e){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return FacebookAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return FacebookAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return GoogleAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GoogleAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:n}=e;if(!i&&!n)return null;try{return GoogleAuthProvider.credential(i,n)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(e){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return GithubAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GithubAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return GithubAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(e,i){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return TwitterAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return TwitterAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:n}=e;if(!i||!n)return null;try{return TwitterAuthProvider.credential(i,n)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,n,s=!1){const o=await UserImpl._fromIdTokenResponse(e,n,s),a=providerIdForResponse(n);return new UserCredentialImpl({user:o,providerId:a,_tokenResponse:n,operationType:i})}static async _forOperation(e,i,n){await e._updateTokensIfNecessary(n,!0);const s=providerIdForResponse(n);return new UserCredentialImpl({user:e,providerId:s,_tokenResponse:n,operationType:i})}}function providerIdForResponse(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(e,i,n,s){var o;super(i.code,i.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:i.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,i,n,s){return new MultiFactorError(e,i,n,s)}}function _processCredentialSavingMfaContextIfNecessary(r,e,i,n){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(r,o,e,n):o})}async function _link$1(r,e,i=!1){const n=await _logoutIfInvalidated(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return UserCredentialImpl._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(r,e,i=!1){var n;const{auth:s}=r,o="reauthenticate";try{const a=await _logoutIfInvalidated(r,_processCredentialSavingMfaContextIfNecessary(s,o,e,r),i);_assert(a.idToken,s,"internal-error");const c=_parseToken(a.idToken);_assert(c,s,"internal-error");const{sub:u}=c;return _assert(r.uid===u,s,"user-mismatch"),UserCredentialImpl._forOperation(r,o,a)}catch(a){throw((n=a)===null||n===void 0?void 0:n.code)==="auth/user-not-found"&&_fail(s,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(r,e,i=!1){const n="signIn",s=await _processCredentialSavingMfaContextIfNecessary(r,n,e),o=await UserCredentialImpl._fromIdTokenResponse(r,n,s);return i||await r._updateCurrentUser(o.user),o}async function signInWithCredential(r,e){return _signInWithCredential(_castAuth(r),e)}function signInWithEmailAndPassword(r,e,i){return signInWithCredential(getModularInstance(r),EmailAuthProvider.credential(e,i))}function signOut(r){return getModularInstance(r).signOut()}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _iframeCannotSyncWebStorage(){const r=getUA();return _isSafari(r)||_isIOS(r)}const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=_iframeCannotSyncWebStorage()&&_isIframe(),this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const n=this.storage.getItem(i),s=this.localCache[i];n!==s&&e(i,s,n)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}const n=e.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(n);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!i)return}const s=()=>{const a=this.storage.getItem(n);!i&&this.localCache[n]===a||this.notifyListeners(n,a)},o=this.storage.getItem(n);_isIE10()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,IE10_LOCAL_STORAGE_SYNC_DELAY):s()}notifyListeners(e,i){this.localCache[e]=i;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:n}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(r){return Promise.all(r.map(async e=>{try{const i=await e;return{fulfilled:!0,value:i}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(s=>s.isListeningto(e));if(i)return i;const n=new Receiver(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:n,eventType:s,data:o}=i.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;i.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const c=Array.from(a).map(async f=>f(i.origin,o)),u=await _allSettled(c);i.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:u})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(r="",e=10){let i="";for(let n=0;n<e;n++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,u)=>{const f=_generateEventId("",20);s.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},n);a={messageChannel:s,onMessage(m){const _=m;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(_.data.response);break;default:clearTimeout(d),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:i},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(r){_window().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function getObjectStore(r,e){return r.transaction([DB_OBJECTSTORE_NAME],e?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const r=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(r).toPromise()}function _openDatabase(){const r=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(s){i(s)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?e(n):(n.close(),await _deleteDatabase(),e(await _openDatabase()))})})}async function _putObject(r,e,i){const n=getObjectStore(r,!0).put({[DB_DATA_KEYPATH]:e,value:i});return new DBPromise(n).toPromise()}async function getObject(r,e){const i=getObjectStore(r,!1).get(e),n=await new DBPromise(i).toPromise();return n===void 0?null:n.value}function _deleteObject(r,e){const i=getObjectStore(r,!0).delete(e);return new DBPromise(i).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(e){let i=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(i++>_TRANSACTION_RETRY_COUNT)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);!n||((e=n[0])===null||e===void 0?void 0:e.fulfilled)&&((i=n[0])===null||i===void 0?void 0:i.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _openDatabase();return await _putObject(e,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(e,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(n=>_putObject(n,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(n=>getObject(n,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>_deleteObject(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=getObjectStore(s,!1).getAll();return new DBPromise(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],n=new Set;for(const{fbase_key:s,value:o}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),i.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),i.push(s));return i}notifyListeners(e,i){this.localCache[e]=i;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getScriptParentElement(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}function _loadJS(r){return new Promise((e,i)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=s=>{const o=_createError("internal-error");o.customData=s,i(o)},n.type="text/javascript",n.charset="UTF-8",getScriptParentElement().appendChild(n)})}function _generateCallbackName(r){return`__${r}${Math.floor(Math.random()*1e6)}`}new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(r,e){return e?_getInstance(e):(_assert(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return signInWithIdp(e,this._buildIdpRequest())}_linkToIdToken(e,i){return signInWithIdp(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return signInWithIdp(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function _signIn(r){return _signInWithCredential(r.auth,new IdpCredential(r),r.bypassAuthState)}function _reauth(r){const{auth:e,user:i}=r;return _assert(i,e,"internal-error"),_reauthenticate(i,new IdpCredential(r),r.bypassAuthState)}async function _link(r){const{auth:e,user:i}=r;return _assert(i,e,"internal-error"),_link$1(i,new IdpCredential(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(e,i,n,s,o=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:n,postBody:s,tenantId:o,error:a,type:c}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:i,sessionId:n,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);class PopupOperation extends AbstractPopupRedirectOperation{constructor(e,i,n,s,o){super(e,i,s,o),this.provider=n,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _assert(e,this.auth,"internal-error"),e}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const e=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,n;if(!((n=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,_POLL_WINDOW_CLOSE_TIMEOUT.get())};e()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(e,i,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,n),this.eventId=null}async execute(){let e=redirectOutcomeMap.get(this.auth._key());if(!e){try{const n=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(i){e=()=>Promise.reject(i)}redirectOutcomeMap.set(this.auth._key(),e)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(r,e){const i=pendingRedirectKey(e),n=resolverPersistence(r);if(!await n._isAvailable())return!1;const s=await n._get(i)==="true";return await n._remove(i),s}function _overrideRedirectResult(r,e){redirectOutcomeMap.set(r._key(),e)}function resolverPersistence(r){return _getInstance(r._redirectPersistence)}function pendingRedirectKey(r){return _persistenceKeyName(PENDING_REDIRECT_KEY,r.config.apiKey,r.name)}async function _getRedirectResult(r,e,i=!1){const n=_castAuth(r),s=_withDefaultResolver(n,e),a=await new RedirectAction(n,s,i).execute();return a&&!i&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=10*60*1e3;class AuthEventManager{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(i=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!isRedirectEvent(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var n;if(e.error&&!isNullRedirectEvent(e)){const s=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";i.onError(_createError(this.auth,s))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const n=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(e))}saveEventToCache(e){this.cachedEventUids.add(eventUid(e)),this.lastProcessedEventTime=Date.now()}}function eventUid(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function isNullRedirectEvent({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function isRedirectEvent(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(r,e={}){return _performApiRequest(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(r){if(r.config.emulator)return;const{authorizedDomains:e}=await _getProjectConfig(r);for(const i of e)try{if(matchDomain(i))return}catch{}_fail(r,"unauthorized-domain")}function matchDomain(r){const e=_getCurrentUrl(),{protocol:i,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const a=new URL(r);return a.hostname===""&&n===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&a.hostname===n}if(!HTTP_REGEX.test(i))return!1;if(IP_ADDRESS_REGEX.test(r))return n===r;const s=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const r=_window().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function loadGapi(r){return new Promise((e,i)=>{var n,s,o;function a(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),i(_createError(r,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((s=(n=_window().gapi)===null||n===void 0?void 0:n.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=_window().gapi)===null||o===void 0)&&o.load)a();else{const c=_generateCallbackName("iframefcb");return _window()[c]=()=>{gapi.load?a():i(_createError(r,"network-request-failed"))},_loadJS(`https://apis.google.com/js/api.js?onload=${c}`).catch(u=>i(u))}}).catch(e=>{throw cachedGApiLoader=null,e})}let cachedGApiLoader=null;function _loadGapi(r){return cachedGApiLoader=cachedGApiLoader||loadGapi(r),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(r){const e=r.config;_assert(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?_emulatorUrl(e,EMULATED_IFRAME_PATH):`https://${r.config.authDomain}/${IFRAME_PATH}`,n={apiKey:e.apiKey,appName:r.name,v:SDK_VERSION},s=EID_FROM_APIHOST.get(r.config.apiHost);s&&(n.eid=s);const o=r._getFrameworks();return o.length&&(n.fw=o.join(",")),`${i}?${querystring(n).slice(1)}`}async function _openIframe(r){const e=await _loadGapi(r),i=_window().gapi;return _assert(i,r,"internal-error"),e.open({where:document.body,url:getIframeUrl(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},n=>new Promise(async(s,o)=>{await n.restyle({setHideOnLeave:!1});const a=_createError(r,"network-request-failed"),c=_window().setTimeout(()=>{o(a)},PING_TIMEOUT.get());function u(){_window().clearTimeout(c),s(n)}n.ping(u).then(u,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(r,e,i,n=DEFAULT_WIDTH,s=DEFAULT_HEIGHT){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const u=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:n.toString(),height:s.toString(),top:o,left:a}),f=getUA().toLowerCase();i&&(c=_isChromeIOS(f)?TARGET_BLANK:i),_isFirefox(f)&&(e=e||FIREFOX_EMPTY_URL,u.scrollbars="yes");const d=Object.entries(u).reduce((_,[ye,Se])=>`${_}${ye}=${Se},`,"");if(_isIOSStandalone(f)&&c!=="_self")return openAsNewWindowIOS(e||"",c),new AuthPopup(null);const m=window.open(e||"",c,d);_assert(m,r,"popup-blocked");try{m.focus()}catch{}return new AuthPopup(m)}function openAsNewWindowIOS(r,e){const i=document.createElement("a");i.href=r,i.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler";function _getRedirectUrl(r,e,i,n,s,o){_assert(r.config.authDomain,r,"auth-domain-config-required"),_assert(r.config.apiKey,r,"invalid-api-key");const a={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:n,v:SDK_VERSION,eventId:s};if(e instanceof FederatedAuthProvider){e.setDefaultLanguage(r.languageCode),a.providerId=e.providerId||"",isEmpty(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries(o||{}))a[u]=f}if(e instanceof BaseOAuthProvider){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(a.scopes=u.join(","))}r.tenantId&&(a.tid=r.tenantId);const c=a;for(const u of Object.keys(c))c[u]===void 0&&delete c[u];return`${getHandlerBase(r)}?${querystring(c).slice(1)}`}function getHandlerBase({config:r}){return r.emulator?_emulatorUrl(r,EMULATOR_WIDGET_PATH):`https://${r.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(e,i,n,s){var o;debugAssert((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=_getRedirectUrl(e,i,n,_getCurrentUrl(),s);return _open(e,a,_generateEventId())}async _openRedirect(e,i,n,s){return await this._originValidation(e),_setWindowLocation(_getRedirectUrl(e,i,n,_getCurrentUrl(),s)),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:s,promise:o}=this.eventManagers[i];return s?Promise.resolve(s):(debugAssert(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[i]={promise:n},n.catch(()=>{delete this.eventManagers[i]}),n}async initAndGetManager(e){const i=await _openIframe(e),n=new AuthEventManager(e);return i.register("authEvent",s=>(_assert(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=i,n}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},s=>{var o;const a=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[WEB_STORAGE_SUPPORT_KEY];a!==void 0&&i(!!a),_fail(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=_validateOrigin(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name$1="@firebase/auth",version$1="0.20.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(n=>{var s;e(((s=n)===null||s===void 0?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);!i||(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function registerAuth(r){_registerComponent(new Component("auth",(e,{options:i})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),{apiKey:o,authDomain:a}=n.options;return((c,u)=>{_assert(o&&!o.includes(":"),"invalid-api-key",{appName:c.name}),_assert(!(a!=null&&a.includes(":")),"argument-error",{appName:c.name});const f={apiKey:o,authDomain:a,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(r)},d=new AuthImpl(c,u,f);return _initializeAuthInstance(d,i),d})(n,s)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,n)=>{e.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",e=>{const i=_castAuth(e.getProvider("auth").getImmediate());return(n=>new AuthInterop(n))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name$1,version$1,getVersionForPlatform(r)),registerVersion(name$1,version$1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getAuth(r=getApp()){const e=_getProvider(r,"auth");return e.isInitialized()?e.getImmediate():initializeAuth(r,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]})}registerAuth("Browser");var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},k$1,goog=goog||{},l=commonjsGlobal||self;function aa(){}function ba$1(r){var e=typeof r;return e=e!="object"?e:r?Array.isArray(r)?"array":e:"null",e=="array"||e=="object"&&typeof r.length=="number"}function p(r){var e=typeof r;return e=="object"&&r!=null||e=="function"}function da(r){return Object.prototype.hasOwnProperty.call(r,ea)&&r[ea]||(r[ea]=++fa)}var ea="closure_uid_"+(1e9*Math.random()>>>0),fa=0;function ha(r,e,i){return r.call.apply(r.bind,arguments)}function ia(r,e,i){if(!r)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,n),r.apply(e,s)}}return function(){return r.apply(e,arguments)}}function q(r,e,i){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?q=ha:q=ia,q.apply(null,arguments)}function ja(r,e){var i=Array.prototype.slice.call(arguments,1);return function(){var n=i.slice();return n.push.apply(n,arguments),r.apply(this,n)}}function t(r,e){function i(){}i.prototype=e.prototype,r.Z=e.prototype,r.prototype=new i,r.prototype.constructor=r,r.Vb=function(n,s,o){for(var a=Array(arguments.length-2),c=2;c<arguments.length;c++)a[c-2]=arguments[c];return e.prototype[s].apply(n,a)}}function v$1(){this.s=this.s,this.o=this.o}var ka$1=0;v$1.prototype.s=!1;v$1.prototype.na=function(){!this.s&&(this.s=!0,this.M(),ka$1!=0)&&da(this)};v$1.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ma$1=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if(typeof r=="string")return typeof e!="string"||e.length!=1?-1:r.indexOf(e,0);for(let i=0;i<r.length;i++)if(i in r&&r[i]===e)return i;return-1},na=Array.prototype.forEach?function(r,e,i){Array.prototype.forEach.call(r,e,i)}:function(r,e,i){const n=r.length,s=typeof r=="string"?r.split(""):r;for(let o=0;o<n;o++)o in s&&e.call(i,s[o],o,r)};function oa(r){e:{var e=pa$1;const i=r.length,n=typeof r=="string"?r.split(""):r;for(let s=0;s<i;s++)if(s in n&&e.call(void 0,n[s],s,r)){e=s;break e}e=-1}return 0>e?null:typeof r=="string"?r.charAt(e):r[e]}function qa(r){return Array.prototype.concat.apply([],arguments)}function ra(r){const e=r.length;if(0<e){const i=Array(e);for(let n=0;n<e;n++)i[n]=r[n];return i}return[]}function sa$1(r){return/^[\s\xa0]*$/.test(r)}var ta=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function w$1(r,e){return r.indexOf(e)!=-1}function ua(r,e){return r<e?-1:r>e?1:0}var x$1;e:{var va$1=l.navigator;if(va$1){var wa$1=va$1.userAgent;if(wa$1){x$1=wa$1;break e}}x$1=""}function xa(r,e,i){for(const n in r)e.call(i,r[n],n,r)}function ya$1(r){const e={};for(const i in r)e[i]=r[i];return e}var za="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Aa$1(r,e){let i,n;for(let s=1;s<arguments.length;s++){n=arguments[s];for(i in n)r[i]=n[i];for(let o=0;o<za.length;o++)i=za[o],Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}}function Ca(r){return Ca[" "](r),r}Ca[" "]=aa;function Fa$1(r){var e=Ga;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=r(9)}var Ha=w$1(x$1,"Opera"),y=w$1(x$1,"Trident")||w$1(x$1,"MSIE"),Ia$1=w$1(x$1,"Edge"),Ja=Ia$1||y,Ka=w$1(x$1,"Gecko")&&!(w$1(x$1.toLowerCase(),"webkit")&&!w$1(x$1,"Edge"))&&!(w$1(x$1,"Trident")||w$1(x$1,"MSIE"))&&!w$1(x$1,"Edge"),La$1=w$1(x$1.toLowerCase(),"webkit")&&!w$1(x$1,"Edge");function Ma(){var r=l.document;return r?r.documentMode:void 0}var Na$1;e:{var Oa="",Pa$1=function(){var r=x$1;if(Ka)return/rv:([^\);]+)(\)|;)/.exec(r);if(Ia$1)return/Edge\/([\d\.]+)/.exec(r);if(y)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(La$1)return/WebKit\/(\S+)/.exec(r);if(Ha)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(Pa$1&&(Oa=Pa$1?Pa$1[1]:""),y){var Qa=Ma();if(Qa!=null&&Qa>parseFloat(Oa)){Na$1=String(Qa);break e}}Na$1=Oa}var Ga={};function Ra(){return Fa$1(function(){let r=0;const e=ta(String(Na$1)).split("."),i=ta("9").split("."),n=Math.max(e.length,i.length);for(let a=0;r==0&&a<n;a++){var s=e[a]||"",o=i[a]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s[0].length==0&&o[0].length==0)break;r=ua(s[1].length==0?0:parseInt(s[1],10),o[1].length==0?0:parseInt(o[1],10))||ua(s[2].length==0,o[2].length==0)||ua(s[2],o[2]),s=s[3],o=o[3]}while(r==0)}return 0<=r})}var Sa;if(l.document&&y){var Ta=Ma();Sa=Ta||parseInt(Na$1,10)||void 0}else Sa=void 0;var Ua$1=Sa,Va$1=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{l.addEventListener("test",aa,e),l.removeEventListener("test",aa,e)}catch{}return r}();function z$1(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}z$1.prototype.h=function(){this.defaultPrevented=!0};function A(r,e){if(z$1.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var i=this.type=r.type,n=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(Ka){e:{try{Ca(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else i=="mouseover"?e=r.fromElement:i=="mouseout"&&(e=r.toElement);this.relatedTarget=e,n?(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=typeof r.pointerType=="string"?r.pointerType:Wa[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&A.Z.h.call(this)}}t(A,z$1);var Wa={2:"touch",3:"pen",4:"mouse"};A.prototype.h=function(){A.Z.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var B$1="closure_listenable_"+(1e6*Math.random()|0),Xa=0;function Ya(r,e,i,n,s){this.listener=r,this.proxy=null,this.src=e,this.type=i,this.capture=!!n,this.ia=s,this.key=++Xa,this.ca=this.fa=!1}function Za$1(r){r.ca=!0,r.listener=null,r.proxy=null,r.src=null,r.ia=null}function $a(r){this.src=r,this.g={},this.h=0}$a.prototype.add=function(r,e,i,n,s){var o=r.toString();r=this.g[o],r||(r=this.g[o]=[],this.h++);var a=ab(r,e,n,s);return-1<a?(e=r[a],i||(e.fa=!1)):(e=new Ya(e,this.src,o,!!n,s),e.fa=i,r.push(e)),e};function bb(r,e){var i=e.type;if(i in r.g){var n=r.g[i],s=ma$1(n,e),o;(o=0<=s)&&Array.prototype.splice.call(n,s,1),o&&(Za$1(e),r.g[i].length==0&&(delete r.g[i],r.h--))}}function ab(r,e,i,n){for(var s=0;s<r.length;++s){var o=r[s];if(!o.ca&&o.listener==e&&o.capture==!!i&&o.ia==n)return s}return-1}var cb="closure_lm_"+(1e6*Math.random()|0),db={};function fb(r,e,i,n,s){if(n&&n.once)return gb(r,e,i,n,s);if(Array.isArray(e)){for(var o=0;o<e.length;o++)fb(r,e[o],i,n,s);return null}return i=hb(i),r&&r[B$1]?r.N(e,i,p(n)?!!n.capture:!!n,s):ib(r,e,i,!1,n,s)}function ib(r,e,i,n,s,o){if(!e)throw Error("Invalid event type");var a=p(s)?!!s.capture:!!s,c=jb(r);if(c||(r[cb]=c=new $a(r)),i=c.add(e,i,n,a,o),i.proxy)return i;if(n=kb(),i.proxy=n,n.src=r,n.listener=i,r.addEventListener)Va$1||(s=a),s===void 0&&(s=!1),r.addEventListener(e.toString(),n,s);else if(r.attachEvent)r.attachEvent(lb(e.toString()),n);else if(r.addListener&&r.removeListener)r.addListener(n);else throw Error("addEventListener and attachEvent are unavailable.");return i}function kb(){function r(i){return e.call(r.src,r.listener,i)}var e=mb;return r}function gb(r,e,i,n,s){if(Array.isArray(e)){for(var o=0;o<e.length;o++)gb(r,e[o],i,n,s);return null}return i=hb(i),r&&r[B$1]?r.O(e,i,p(n)?!!n.capture:!!n,s):ib(r,e,i,!0,n,s)}function nb(r,e,i,n,s){if(Array.isArray(e))for(var o=0;o<e.length;o++)nb(r,e[o],i,n,s);else n=p(n)?!!n.capture:!!n,i=hb(i),r&&r[B$1]?(r=r.i,e=String(e).toString(),e in r.g&&(o=r.g[e],i=ab(o,i,n,s),-1<i&&(Za$1(o[i]),Array.prototype.splice.call(o,i,1),o.length==0&&(delete r.g[e],r.h--)))):r&&(r=jb(r))&&(e=r.g[e.toString()],r=-1,e&&(r=ab(e,i,n,s)),(i=-1<r?e[r]:null)&&ob(i))}function ob(r){if(typeof r!="number"&&r&&!r.ca){var e=r.src;if(e&&e[B$1])bb(e.i,r);else{var i=r.type,n=r.proxy;e.removeEventListener?e.removeEventListener(i,n,r.capture):e.detachEvent?e.detachEvent(lb(i),n):e.addListener&&e.removeListener&&e.removeListener(n),(i=jb(e))?(bb(i,r),i.h==0&&(i.src=null,e[cb]=null)):Za$1(r)}}}function lb(r){return r in db?db[r]:db[r]="on"+r}function mb(r,e){if(r.ca)r=!0;else{e=new A(e,this);var i=r.listener,n=r.ia||r.src;r.fa&&ob(r),r=i.call(n,e)}return r}function jb(r){return r=r[cb],r instanceof $a?r:null}var pb="__closure_events_fn_"+(1e9*Math.random()>>>0);function hb(r){return typeof r=="function"?r:(r[pb]||(r[pb]=function(e){return r.handleEvent(e)}),r[pb])}function C$1(){v$1.call(this),this.i=new $a(this),this.P=this,this.I=null}t(C$1,v$1);C$1.prototype[B$1]=!0;C$1.prototype.removeEventListener=function(r,e,i,n){nb(this,r,e,i,n)};function D$1(r,e){var i,n=r.I;if(n)for(i=[];n;n=n.I)i.push(n);if(r=r.P,n=e.type||e,typeof e=="string")e=new z$1(e,r);else if(e instanceof z$1)e.target=e.target||r;else{var s=e;e=new z$1(n,r),Aa$1(e,s)}if(s=!0,i)for(var o=i.length-1;0<=o;o--){var a=e.g=i[o];s=qb(a,n,!0,e)&&s}if(a=e.g=r,s=qb(a,n,!0,e)&&s,s=qb(a,n,!1,e)&&s,i)for(o=0;o<i.length;o++)a=e.g=i[o],s=qb(a,n,!1,e)&&s}C$1.prototype.M=function(){if(C$1.Z.M.call(this),this.i){var r=this.i,e;for(e in r.g){for(var i=r.g[e],n=0;n<i.length;n++)Za$1(i[n]);delete r.g[e],r.h--}}this.I=null};C$1.prototype.N=function(r,e,i,n){return this.i.add(String(r),e,!1,i,n)};C$1.prototype.O=function(r,e,i,n){return this.i.add(String(r),e,!0,i,n)};function qb(r,e,i,n){if(e=r.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ca&&a.capture==i){var c=a.listener,u=a.ia||a.src;a.fa&&bb(r.i,a),s=c.call(u,n)!==!1&&s}}return s&&!n.defaultPrevented}var rb=l.JSON.stringify;function sb(){var r=tb;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}class ub{constructor(){this.h=this.g=null}add(e,i){const n=vb.get();n.set(e,i),this.h?this.h.next=n:this.g=n,this.h=n}}var vb=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new wb,r=>r.reset());class wb{constructor(){this.next=this.g=this.h=null}set(e,i){this.h=e,this.g=i,this.next=null}reset(){this.next=this.g=this.h=null}}function yb(r){l.setTimeout(()=>{throw r},0)}function zb(r,e){Ab||Bb(),Cb||(Ab(),Cb=!0),tb.add(r,e)}var Ab;function Bb(){var r=l.Promise.resolve(void 0);Ab=function(){r.then(Db)}}var Cb=!1,tb=new ub;function Db(){for(var r;r=sb();){try{r.h.call(r.g)}catch(i){yb(i)}var e=vb;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}Cb=!1}function Eb(r,e){C$1.call(this),this.h=r||1,this.g=e||l,this.j=q(this.kb,this),this.l=Date.now()}t(Eb,C$1);k$1=Eb.prototype;k$1.da=!1;k$1.S=null;k$1.kb=function(){if(this.da){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-r):(this.S&&(this.g.clearTimeout(this.S),this.S=null),D$1(this,"tick"),this.da&&(Fb(this),this.start()))}};k$1.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Fb(r){r.da=!1,r.S&&(r.g.clearTimeout(r.S),r.S=null)}k$1.M=function(){Eb.Z.M.call(this),Fb(this),delete this.g};function Gb(r,e,i){if(typeof r=="function")i&&(r=q(r,i));else if(r&&typeof r.handleEvent=="function")r=q(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:l.setTimeout(r,e||0)}function Hb(r){r.g=Gb(()=>{r.g=null,r.i&&(r.i=!1,Hb(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}class Ib extends v$1{constructor(e,i){super(),this.m=e,this.j=i,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Hb(this)}M(){super.M(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function E(r){v$1.call(this),this.h=r,this.g={}}t(E,v$1);var Jb=[];function Kb(r,e,i,n){Array.isArray(i)||(i&&(Jb[0]=i.toString()),i=Jb);for(var s=0;s<i.length;s++){var o=fb(e,i[s],n||r.handleEvent,!1,r.h||r);if(!o)break;r.g[o.key]=o}}function Lb(r){xa(r.g,function(e,i){this.g.hasOwnProperty(i)&&ob(e)},r),r.g={}}E.prototype.M=function(){E.Z.M.call(this),Lb(this)};E.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Mb(){this.g=!0}Mb.prototype.Aa=function(){this.g=!1};function Nb(r,e,i,n,s,o){r.info(function(){if(r.g)if(o)for(var a="",c=o.split("&"),u=0;u<c.length;u++){var f=c[u].split("=");if(1<f.length){var d=f[0];f=f[1];var m=d.split("_");a=2<=m.length&&m[1]=="type"?a+(d+"="+f+"&"):a+(d+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+n+") [attempt "+s+"]: "+e+`
`+i+`
`+a})}function Ob(r,e,i,n,s,o,a){r.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+s+"]: "+e+`
`+i+`
`+o+" "+a})}function F$1(r,e,i,n){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+Pb(r,i)+(n?" "+n:"")})}function Qb(r,e){r.info(function(){return"TIMEOUT: "+e})}Mb.prototype.info=function(){};function Pb(r,e){if(!r.g)return e;if(!e)return null;try{var i=JSON.parse(e);if(i){for(r=0;r<i.length;r++)if(Array.isArray(i[r])){var n=i[r];if(!(2>n.length)){var s=n[1];if(Array.isArray(s)&&!(1>s.length)){var o=s[0];if(o!="noop"&&o!="stop"&&o!="close")for(var a=1;a<s.length;a++)s[a]=""}}}}return rb(i)}catch{return e}}var H={},Rb=null;function Sb(){return Rb=Rb||new C$1}H.Ma="serverreachability";function Tb(r){z$1.call(this,H.Ma,r)}t(Tb,z$1);function I(r){const e=Sb();D$1(e,new Tb(e))}H.STAT_EVENT="statevent";function Ub(r,e){z$1.call(this,H.STAT_EVENT,r),this.stat=e}t(Ub,z$1);function J$1(r){const e=Sb();D$1(e,new Ub(e,r))}H.Na="timingevent";function Vb(r,e){z$1.call(this,H.Na,r),this.size=e}t(Vb,z$1);function K$1(r,e){if(typeof r!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){r()},e)}var Wb={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Xb={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Yb(){}Yb.prototype.h=null;function Zb(r){return r.h||(r.h=r.i())}function $b(){}var L$1={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ac$1(){z$1.call(this,"d")}t(ac$1,z$1);function bc$1(){z$1.call(this,"c")}t(bc$1,z$1);var cc$1;function dc$1(){}t(dc$1,Yb);dc$1.prototype.g=function(){return new XMLHttpRequest};dc$1.prototype.i=function(){return{}};cc$1=new dc$1;function M$1(r,e,i,n){this.l=r,this.j=e,this.m=i,this.X=n||1,this.V=new E(this),this.P=ec$1,r=Ja?125:void 0,this.W=new Eb(r),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new fc$1}function fc$1(){this.i=null,this.g="",this.h=!1}var ec$1=45e3,gc={},hc={};k$1=M$1.prototype;k$1.setTimeout=function(r){this.P=r};function ic$1(r,e,i){r.K=1,r.v=jc$1(N$1(e)),r.s=i,r.U=!0,kc(r,null)}function kc(r,e){r.F=Date.now(),lc$1(r),r.A=N$1(r.v);var i=r.A,n=r.X;Array.isArray(n)||(n=[String(n)]),mc(i.h,"t",n),r.C=0,i=r.l.H,r.h=new fc$1,r.g=nc$1(r.l,i?e:null,!r.s),0<r.O&&(r.L=new Ib(q(r.Ia,r,r.g),r.O)),Kb(r.V,r.g,"readystatechange",r.gb),e=r.H?ya$1(r.H):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ea(r.A,r.u,r.s,e)):(r.u="GET",r.g.ea(r.A,r.u,null,e)),I(),Nb(r.j,r.u,r.A,r.m,r.X,r.s)}k$1.gb=function(r){r=r.target;const e=this.L;e&&O(r)==3?e.l():this.Ia(r)};k$1.Ia=function(r){try{if(r==this.g)e:{const d=O(this.g);var e=this.g.Da();const m=this.g.ba();if(!(3>d)&&(d!=3||Ja||this.g&&(this.h.h||this.g.ga()||oc$1(this.g)))){this.I||d!=4||e==7||(e==8||0>=m?I(3):I(2)),pc$1(this);var i=this.g.ba();this.N=i;t:if(qc$1(this)){var n=oc$1(this.g);r="";var s=n.length,o=O(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){P(this),rc$1(this);var a="";break t}this.h.i=new l.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,r+=this.h.i.decode(n[e],{stream:o&&e==s-1});n.splice(0,s),this.h.g+=r,this.C=0,a=this.h.g}else a=this.g.ga();if(this.i=i==200,Ob(this.j,this.u,this.A,this.m,this.X,d,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,u=this.g;if((c=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sa$1(c)){var f=c;break t}}f=null}if(i=f)F$1(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,sc$1(this,i);else{this.i=!1,this.o=3,J$1(12),P(this),rc$1(this);break e}}this.U?(tc(this,d,a),Ja&&this.i&&d==3&&(Kb(this.V,this.W,"tick",this.fb),this.W.start())):(F$1(this.j,this.m,a,null),sc$1(this,a)),d==4&&P(this),this.i&&!this.I&&(d==4?uc$1(this.l,this):(this.i=!1,lc$1(this)))}else i==400&&0<a.indexOf("Unknown SID")?(this.o=3,J$1(12)):(this.o=0,J$1(13)),P(this),rc$1(this)}}}catch{}finally{}};function qc$1(r){return r.g?r.u=="GET"&&r.K!=2&&r.l.Ba:!1}function tc(r,e,i){let n=!0,s;for(;!r.I&&r.C<i.length;)if(s=vc(r,i),s==hc){e==4&&(r.o=4,J$1(14),n=!1),F$1(r.j,r.m,null,"[Incomplete Response]");break}else if(s==gc){r.o=4,J$1(15),F$1(r.j,r.m,i,"[Invalid Chunk]"),n=!1;break}else F$1(r.j,r.m,s,null),sc$1(r,s);qc$1(r)&&s!=hc&&s!=gc&&(r.h.g="",r.C=0),e!=4||i.length!=0||r.h.h||(r.o=1,J$1(16),n=!1),r.i=r.i&&n,n?0<i.length&&!r.aa&&(r.aa=!0,e=r.l,e.g==r&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+i.length),wc(e),e.L=!0,J$1(11))):(F$1(r.j,r.m,i,"[Invalid Chunked Response]"),P(r),rc$1(r))}k$1.fb=function(){if(this.g){var r=O(this.g),e=this.g.ga();this.C<e.length&&(pc$1(this),tc(this,r,e),this.i&&r!=4&&lc$1(this))}};function vc(r,e){var i=r.C,n=e.indexOf(`
`,i);return n==-1?hc:(i=Number(e.substring(i,n)),isNaN(i)?gc:(n+=1,n+i>e.length?hc:(e=e.substr(n,i),r.C=n+i,e)))}k$1.cancel=function(){this.I=!0,P(this)};function lc$1(r){r.Y=Date.now()+r.P,xc(r,r.P)}function xc(r,e){if(r.B!=null)throw Error("WatchDog timer not null");r.B=K$1(q(r.eb,r),e)}function pc$1(r){r.B&&(l.clearTimeout(r.B),r.B=null)}k$1.eb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(Qb(this.j,this.A),this.K!=2&&(I(),J$1(17)),P(this),this.o=2,rc$1(this)):xc(this,this.Y-r)};function rc$1(r){r.l.G==0||r.I||uc$1(r.l,r)}function P(r){pc$1(r);var e=r.L;e&&typeof e.na=="function"&&e.na(),r.L=null,Fb(r.W),Lb(r.V),r.g&&(e=r.g,r.g=null,e.abort(),e.na())}function sc$1(r,e){try{var i=r.l;if(i.G!=0&&(i.g==r||yc(i.i,r))){if(i.I=r.N,!r.J&&yc(i.i,r)&&i.G==3){try{var n=i.Ca.g.parse(e)}catch{n=null}if(Array.isArray(n)&&n.length==3){var s=n;if(s[0]==0){e:if(!i.u){if(i.g)if(i.g.F+3e3<r.F)zc$1(i),Ac$1(i);else break e;Bc$1(i),J$1(18)}}else i.ta=s[1],0<i.ta-i.U&&37500>s[2]&&i.N&&i.A==0&&!i.v&&(i.v=K$1(q(i.ab,i),6e3));if(1>=Cc(i.i)&&i.ka){try{i.ka()}catch{}i.ka=void 0}}else Q$1(i,11)}else if((r.J||i.g==r)&&zc$1(i),!sa$1(e))for(s=i.Ca.g.parse(e),e=0;e<s.length;e++){let f=s[e];if(i.U=f[0],f=f[1],i.G==2)if(f[0]=="c"){i.J=f[1],i.la=f[2];const d=f[3];d!=null&&(i.ma=d,i.h.info("VER="+i.ma));const m=f[4];m!=null&&(i.za=m,i.h.info("SVER="+i.za));const _=f[5];_!=null&&typeof _=="number"&&0<_&&(n=1.5*_,i.K=n,i.h.info("backChannelRequestTimeoutMs_="+n)),n=i;const ye=r.g;if(ye){const Se=ye.g?ye.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Se){var o=n.i;!o.g&&(w$1(Se,"spdy")||w$1(Se,"quic")||w$1(Se,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(Dc(o,o.h),o.h=null))}if(n.D){const Ce=ye.g?ye.g.getResponseHeader("X-HTTP-Session-Id"):null;Ce&&(n.sa=Ce,R(n.F,n.D,Ce))}}i.G=3,i.j&&i.j.xa(),i.$&&(i.O=Date.now()-r.F,i.h.info("Handshake RTT: "+i.O+"ms")),n=i;var a=r;if(n.oa=Ec$1(n,n.H?n.la:null,n.W),a.J){Fc(n.i,a);var c=a,u=n.K;u&&c.setTimeout(u),c.B&&(pc$1(c),lc$1(c)),n.g=a}else Gc$1(n);0<i.l.length&&Hc$1(i)}else f[0]!="stop"&&f[0]!="close"||Q$1(i,7);else i.G==3&&(f[0]=="stop"||f[0]=="close"?f[0]=="stop"?Q$1(i,7):Ic$1(i):f[0]!="noop"&&i.j&&i.j.wa(f),i.A=0)}}I(4)}catch{}}function Jc$1(r){if(r.R&&typeof r.R=="function")return r.R();if(typeof r=="string")return r.split("");if(ba$1(r)){for(var e=[],i=r.length,n=0;n<i;n++)e.push(r[n]);return e}e=[],i=0;for(n in r)e[i++]=r[n];return e}function Kc(r,e){if(r.forEach&&typeof r.forEach=="function")r.forEach(e,void 0);else if(ba$1(r)||typeof r=="string")na(r,e,void 0);else{if(r.T&&typeof r.T=="function")var i=r.T();else if(r.R&&typeof r.R=="function")i=void 0;else if(ba$1(r)||typeof r=="string"){i=[];for(var n=r.length,s=0;s<n;s++)i.push(s)}else for(s in i=[],n=0,r)i[n++]=s;n=Jc$1(r),s=n.length;for(var o=0;o<s;o++)e.call(void 0,n[o],i&&i[o],r)}}function S(r,e){this.h={},this.g=[],this.i=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var n=0;n<i;n+=2)this.set(arguments[n],arguments[n+1])}else if(r)if(r instanceof S)for(i=r.T(),n=0;n<i.length;n++)this.set(i[n],r.get(i[n]));else for(n in r)this.set(n,r[n])}k$1=S.prototype;k$1.R=function(){Lc(this);for(var r=[],e=0;e<this.g.length;e++)r.push(this.h[this.g[e]]);return r};k$1.T=function(){return Lc(this),this.g.concat()};function Lc(r){if(r.i!=r.g.length){for(var e=0,i=0;e<r.g.length;){var n=r.g[e];T(r.h,n)&&(r.g[i++]=n),e++}r.g.length=i}if(r.i!=r.g.length){var s={};for(i=e=0;e<r.g.length;)n=r.g[e],T(s,n)||(r.g[i++]=n,s[n]=1),e++;r.g.length=i}}k$1.get=function(r,e){return T(this.h,r)?this.h[r]:e};k$1.set=function(r,e){T(this.h,r)||(this.i++,this.g.push(r)),this.h[r]=e};k$1.forEach=function(r,e){for(var i=this.T(),n=0;n<i.length;n++){var s=i[n],o=this.get(s);r.call(e,o,s,this)}};function T(r,e){return Object.prototype.hasOwnProperty.call(r,e)}var Mc$1=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nc(r,e){if(r){r=r.split("&");for(var i=0;i<r.length;i++){var n=r[i].indexOf("="),s=null;if(0<=n){var o=r[i].substring(0,n);s=r[i].substring(n+1)}else o=r[i];e(o,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function U$1(r,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,r instanceof U$1){this.g=e!==void 0?e:r.g,Oc(this,r.j),this.s=r.s,Pc$1(this,r.i),Qc(this,r.m),this.l=r.l,e=r.h;var i=new Rc$1;i.i=e.i,e.g&&(i.g=new S(e.g),i.h=e.h),Sc(this,i),this.o=r.o}else r&&(i=String(r).match(Mc$1))?(this.g=!!e,Oc(this,i[1]||"",!0),this.s=Tc$1(i[2]||""),Pc$1(this,i[3]||"",!0),Qc(this,i[4]),this.l=Tc$1(i[5]||"",!0),Sc(this,i[6]||"",!0),this.o=Tc$1(i[7]||"")):(this.g=!!e,this.h=new Rc$1(null,this.g))}U$1.prototype.toString=function(){var r=[],e=this.j;e&&r.push(Uc(e,Vc,!0),":");var i=this.i;return(i||e=="file")&&(r.push("//"),(e=this.s)&&r.push(Uc(e,Vc,!0),"@"),r.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i=this.m,i!=null&&r.push(":",String(i))),(i=this.l)&&(this.i&&i.charAt(0)!="/"&&r.push("/"),r.push(Uc(i,i.charAt(0)=="/"?Wc$1:Xc$1,!0))),(i=this.h.toString())&&r.push("?",i),(i=this.o)&&r.push("#",Uc(i,Yc$1)),r.join("")};function N$1(r){return new U$1(r)}function Oc(r,e,i){r.j=i?Tc$1(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Pc$1(r,e,i){r.i=i?Tc$1(e,!0):e}function Qc(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function Sc(r,e,i){e instanceof Rc$1?(r.h=e,Zc(r.h,r.g)):(i||(e=Uc(e,$c)),r.h=new Rc$1(e,r.g))}function R(r,e,i){r.h.set(e,i)}function jc$1(r){return R(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function ad(r){return r instanceof U$1?N$1(r):new U$1(r,void 0)}function bd(r,e,i,n){var s=new U$1(null,void 0);return r&&Oc(s,r),e&&Pc$1(s,e),i&&Qc(s,i),n&&(s.l=n),s}function Tc$1(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Uc(r,e,i){return typeof r=="string"?(r=encodeURI(r).replace(e,cd),i&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function cd(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var Vc=/[#\/\?@]/g,Xc$1=/[#\?:]/g,Wc$1=/[#\?]/g,$c=/[#\?@]/g,Yc$1=/#/g;function Rc$1(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function V(r){r.g||(r.g=new S,r.h=0,r.i&&Nc(r.i,function(e,i){r.add(decodeURIComponent(e.replace(/\+/g," ")),i)}))}k$1=Rc$1.prototype;k$1.add=function(r,e){V(this),this.i=null,r=W$1(this,r);var i=this.g.get(r);return i||this.g.set(r,i=[]),i.push(e),this.h+=1,this};function dd(r,e){V(r),e=W$1(r,e),T(r.g.h,e)&&(r.i=null,r.h-=r.g.get(e).length,r=r.g,T(r.h,e)&&(delete r.h[e],r.i--,r.g.length>2*r.i&&Lc(r)))}function ed(r,e){return V(r),e=W$1(r,e),T(r.g.h,e)}k$1.forEach=function(r,e){V(this),this.g.forEach(function(i,n){na(i,function(s){r.call(e,s,n,this)},this)},this)};k$1.T=function(){V(this);for(var r=this.g.R(),e=this.g.T(),i=[],n=0;n<e.length;n++)for(var s=r[n],o=0;o<s.length;o++)i.push(e[n]);return i};k$1.R=function(r){V(this);var e=[];if(typeof r=="string")ed(this,r)&&(e=qa(e,this.g.get(W$1(this,r))));else{r=this.g.R();for(var i=0;i<r.length;i++)e=qa(e,r[i])}return e};k$1.set=function(r,e){return V(this),this.i=null,r=W$1(this,r),ed(this,r)&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this};k$1.get=function(r,e){return r?(r=this.R(r),0<r.length?String(r[0]):e):e};function mc(r,e,i){dd(r,e),0<i.length&&(r.i=null,r.g.set(W$1(r,e),ra(i)),r.h+=i.length)}k$1.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var r=[],e=this.g.T(),i=0;i<e.length;i++){var n=e[i],s=encodeURIComponent(String(n));n=this.R(n);for(var o=0;o<n.length;o++){var a=s;n[o]!==""&&(a+="="+encodeURIComponent(String(n[o]))),r.push(a)}}return this.i=r.join("&")};function W$1(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Zc(r,e){e&&!r.j&&(V(r),r.i=null,r.g.forEach(function(i,n){var s=n.toLowerCase();n!=s&&(dd(this,n),mc(this,s,i))},r)),r.j=e}var fd=class{constructor(r,e){this.h=r,this.g=e}};function gd(r){this.l=r||hd,l.PerformanceNavigationTiming?(r=l.performance.getEntriesByType("navigation"),r=0<r.length&&(r[0].nextHopProtocol=="hq"||r[0].nextHopProtocol=="h2")):r=!!(l.g&&l.g.Ea&&l.g.Ea()&&l.g.Ea().Zb),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var hd=10;function id(r){return r.h?!0:r.g?r.g.size>=r.j:!1}function Cc(r){return r.h?1:r.g?r.g.size:0}function yc(r,e){return r.h?r.h==e:r.g?r.g.has(e):!1}function Dc(r,e){r.g?r.g.add(e):r.h=e}function Fc(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}gd.prototype.cancel=function(){if(this.i=jd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const r of this.g.values())r.cancel();this.g.clear()}};function jd(r){if(r.h!=null)return r.i.concat(r.h.D);if(r.g!=null&&r.g.size!==0){let e=r.i;for(const i of r.g.values())e=e.concat(i.D);return e}return ra(r.i)}function kd(){}kd.prototype.stringify=function(r){return l.JSON.stringify(r,void 0)};kd.prototype.parse=function(r){return l.JSON.parse(r,void 0)};function ld(){this.g=new kd}function md(r,e,i){const n=i||"";try{Kc(r,function(s,o){let a=s;p(s)&&(a=rb(s)),e.push(n+o+"="+encodeURIComponent(a))})}catch(s){throw e.push(n+"type="+encodeURIComponent("_badmap")),s}}function nd(r,e){const i=new Mb;if(l.Image){const n=new Image;n.onload=ja(od,i,n,"TestLoadImage: loaded",!0,e),n.onerror=ja(od,i,n,"TestLoadImage: error",!1,e),n.onabort=ja(od,i,n,"TestLoadImage: abort",!1,e),n.ontimeout=ja(od,i,n,"TestLoadImage: timeout",!1,e),l.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=r}else e(!1)}function od(r,e,i,n,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(n)}catch{}}function pd(r){this.l=r.$b||null,this.j=r.ib||!1}t(pd,Yb);pd.prototype.g=function(){return new qd(this.l,this.j)};pd.prototype.i=function(r){return function(){return r}}({});function qd(r,e){C$1.call(this),this.D=r,this.u=e,this.m=void 0,this.readyState=rd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}t(qd,C$1);var rd=0;k$1=qd.prototype;k$1.open=function(r,e){if(this.readyState!=rd)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,sd(this)};k$1.send=function(r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.D||l).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};k$1.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,td(this)),this.readyState=rd};k$1.Va=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,sd(this)),this.g&&(this.readyState=3,sd(this),this.g)))if(this.responseType==="arraybuffer")r.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ud(this)}else r.text().then(this.Ua.bind(this),this.ha.bind(this))};function ud(r){r.j.read().then(r.Sa.bind(r)).catch(r.ha.bind(r))}k$1.Sa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?td(this):sd(this),this.readyState==3&&ud(this)}};k$1.Ua=function(r){this.g&&(this.response=this.responseText=r,td(this))};k$1.Ta=function(r){this.g&&(this.response=r,td(this))};k$1.ha=function(){this.g&&td(this)};function td(r){r.readyState=4,r.l=null,r.j=null,r.A=null,sd(r)}k$1.setRequestHeader=function(r,e){this.v.append(r,e)};k$1.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""};k$1.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var i=e.next();!i.done;)i=i.value,r.push(i[0]+": "+i[1]),i=e.next();return r.join(`\r
`)};function sd(r){r.onreadystatechange&&r.onreadystatechange.call(r)}Object.defineProperty(qd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(r){this.m=r?"include":"same-origin"}});var vd=l.JSON.parse;function X$1(r){C$1.call(this),this.headers=new S,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=wd,this.K=this.L=!1}t(X$1,C$1);var wd="",xd=/^https?$/i,yd=["POST","PUT"];k$1=X$1.prototype;k$1.ea=function(r,e,i,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);e=e?e.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():cc$1.g(),this.C=this.u?Zb(this.u):Zb(cc$1),this.g.onreadystatechange=q(this.Fa,this);try{this.F=!0,this.g.open(e,String(r),!0),this.F=!1}catch(o){zd(this,o);return}r=i||"";const s=new S(this.headers);n&&Kc(n,function(o,a){s.set(a,o)}),n=oa(s.T()),i=l.FormData&&r instanceof l.FormData,!(0<=ma$1(yd,e))||n||i||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(o,a){this.g.setRequestHeader(a,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ad(this),0<this.B&&((this.K=Bd(this.g))?(this.g.timeout=this.B,this.g.ontimeout=q(this.pa,this)):this.A=Gb(this.pa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(o){zd(this,o)}};function Bd(r){return y&&Ra()&&typeof r.timeout=="number"&&r.ontimeout!==void 0}function pa$1(r){return r.toLowerCase()=="content-type"}k$1.pa=function(){typeof goog<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,D$1(this,"timeout"),this.abort(8))};function zd(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,Cd(r),Dd(r)}function Cd(r){r.D||(r.D=!0,D$1(r,"complete"),D$1(r,"error"))}k$1.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,D$1(this,"complete"),D$1(this,"abort"),Dd(this))};k$1.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dd(this,!0)),X$1.Z.M.call(this)};k$1.Fa=function(){this.s||(this.F||this.v||this.l?Ed(this):this.cb())};k$1.cb=function(){Ed(this)};function Ed(r){if(r.h&&typeof goog<"u"&&(!r.C[1]||O(r)!=4||r.ba()!=2)){if(r.v&&O(r)==4)Gb(r.Fa,0,r);else if(D$1(r,"readystatechange"),O(r)==4){r.h=!1;try{const c=r.ba();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var i;if(!(i=e)){var n;if(n=c===0){var s=String(r.H).match(Mc$1)[1]||null;if(!s&&l.self&&l.self.location){var o=l.self.location.protocol;s=o.substr(0,o.length-1)}n=!xd.test(s?s.toLowerCase():"")}i=n}if(i)D$1(r,"complete"),D$1(r,"success");else{r.m=6;try{var a=2<O(r)?r.g.statusText:""}catch{a=""}r.j=a+" ["+r.ba()+"]",Cd(r)}}finally{Dd(r)}}}}function Dd(r,e){if(r.g){Ad(r);const i=r.g,n=r.C[0]?aa:null;r.g=null,r.C=null,e||D$1(r,"ready");try{i.onreadystatechange=n}catch{}}}function Ad(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(l.clearTimeout(r.A),r.A=null)}function O(r){return r.g?r.g.readyState:0}k$1.ba=function(){try{return 2<O(this)?this.g.status:-1}catch{return-1}};k$1.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};k$1.Qa=function(r){if(this.g){var e=this.g.responseText;return r&&e.indexOf(r)==0&&(e=e.substring(r.length)),vd(e)}};function oc$1(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case wd:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}k$1.Da=function(){return this.m};k$1.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function Fd(r){let e="";return xa(r,function(i,n){e+=n,e+=":",e+=i,e+=`\r
`}),e}function Gd(r,e,i){e:{for(n in i){var n=!1;break e}n=!0}n||(i=Fd(i),typeof r=="string"?i!=null&&encodeURIComponent(String(i)):R(r,e,i))}function Hd(r,e,i){return i&&i.internalChannelParams&&i.internalChannelParams[r]||e}function Id(r){this.za=0,this.l=[],this.h=new Mb,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Hd("failFast",!1,r),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Hd("baseRetryDelayMs",5e3,r),this.$a=Hd("retryDelaySeedMs",1e4,r),this.Ya=Hd("forwardChannelMaxRetries",2,r),this.ra=Hd("forwardChannelRequestTimeoutMs",2e4,r),this.qa=r&&r.xmlHttpFactory||void 0,this.Ba=r&&r.Yb||!1,this.K=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.J="",this.i=new gd(r&&r.concurrentRequestLimit),this.Ca=new ld,this.ja=r&&r.fastHandshake||!1,this.Ra=r&&r.Wb||!1,r&&r.Aa&&this.h.Aa(),r&&r.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&r&&r.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!r||r.Xb!==!1}k$1=Id.prototype;k$1.ma=8;k$1.G=1;function Ic$1(r){if(Jd(r),r.G==3){var e=r.V++,i=N$1(r.F);R(i,"SID",r.J),R(i,"RID",e),R(i,"TYPE","terminate"),Kd(r,i),e=new M$1(r,r.h,e,void 0),e.K=2,e.v=jc$1(N$1(i)),i=!1,l.navigator&&l.navigator.sendBeacon&&(i=l.navigator.sendBeacon(e.v.toString(),"")),!i&&l.Image&&(new Image().src=e.v,i=!0),i||(e.g=nc$1(e.l,null),e.g.ea(e.v)),e.F=Date.now(),lc$1(e)}Ld(r)}k$1.hb=function(r){try{this.h.info("Origin Trials invoked: "+r)}catch{}};function Ac$1(r){r.g&&(wc(r),r.g.cancel(),r.g=null)}function Jd(r){Ac$1(r),r.u&&(l.clearTimeout(r.u),r.u=null),zc$1(r),r.i.cancel(),r.m&&(typeof r.m=="number"&&l.clearTimeout(r.m),r.m=null)}function Md(r,e){r.l.push(new fd(r.Za++,e)),r.G==3&&Hc$1(r)}function Hc$1(r){id(r.i)||r.m||(r.m=!0,zb(r.Ha,r),r.C=0)}function Nd(r,e){return Cc(r.i)>=r.i.j-(r.m?1:0)?!1:r.m?(r.l=e.D.concat(r.l),!0):r.G==1||r.G==2||r.C>=(r.Xa?0:r.Ya)?!1:(r.m=K$1(q(r.Ha,r,e),Od(r,r.C)),r.C++,!0)}k$1.Ha=function(r){if(this.m)if(this.m=null,this.G==1){if(!r){this.V=Math.floor(1e5*Math.random()),r=this.V++;const s=new M$1(this,this.h,r,void 0);let o=this.s;if(this.P&&(o?(o=ya$1(o),Aa$1(o,this.P)):o=this.P),this.o===null&&(s.H=o),this.ja)e:{for(var e=0,i=0;i<this.l.length;i++){t:{var n=this.l[i];if("__data__"in n.g&&(n=n.g.__data__,typeof n=="string")){n=n.length;break t}n=void 0}if(n===void 0)break;if(e+=n,4096<e){e=i;break e}if(e===4096||i===this.l.length-1){e=i+1;break e}}e=1e3}else e=1e3;e=Pd(this,s,e),i=N$1(this.F),R(i,"RID",r),R(i,"CVER",22),this.D&&R(i,"X-HTTP-Session-Id",this.D),Kd(this,i),this.o&&o&&Gd(i,this.o,o),Dc(this.i,s),this.Ra&&R(i,"TYPE","init"),this.ja?(R(i,"$req",e),R(i,"SID","null"),s.$=!0,ic$1(s,i,null)):ic$1(s,i,e),this.G=2}}else this.G==3&&(r?Qd(this,r):this.l.length==0||id(this.i)||Qd(this))};function Qd(r,e){var i;e?i=e.m:i=r.V++;const n=N$1(r.F);R(n,"SID",r.J),R(n,"RID",i),R(n,"AID",r.U),Kd(r,n),r.o&&r.s&&Gd(n,r.o,r.s),i=new M$1(r,r.h,i,r.C+1),r.o===null&&(i.H=r.s),e&&(r.l=e.D.concat(r.l)),e=Pd(r,i,1e3),i.setTimeout(Math.round(.5*r.ra)+Math.round(.5*r.ra*Math.random())),Dc(r.i,i),ic$1(i,n,e)}function Kd(r,e){r.j&&Kc({},function(i,n){R(e,n,i)})}function Pd(r,e,i){i=Math.min(r.l.length,i);var n=r.j?q(r.j.Oa,r.j,r):null;e:{var s=r.l;let o=-1;for(;;){const a=["count="+i];o==-1?0<i?(o=s[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);let c=!0;for(let u=0;u<i;u++){let f=s[u].h;const d=s[u].g;if(f-=o,0>f)o=Math.max(0,s[u].h-100),c=!1;else try{md(d,a,"req"+f+"_")}catch{n&&n(d)}}if(c){n=a.join("&");break e}}}return r=r.l.splice(0,i),e.D=r,n}function Gc$1(r){r.g||r.u||(r.Y=1,zb(r.Ga,r),r.A=0)}function Bc$1(r){return r.g||r.u||3<=r.A?!1:(r.Y++,r.u=K$1(q(r.Ga,r),Od(r,r.A)),r.A++,!0)}k$1.Ga=function(){if(this.u=null,Rd(this),this.$&&!(this.L||this.g==null||0>=this.O)){var r=2*this.O;this.h.info("BP detection timer enabled: "+r),this.B=K$1(q(this.bb,this),r)}};k$1.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,J$1(10),Ac$1(this),Rd(this))};function wc(r){r.B!=null&&(l.clearTimeout(r.B),r.B=null)}function Rd(r){r.g=new M$1(r,r.h,"rpc",r.Y),r.o===null&&(r.g.H=r.s),r.g.O=0;var e=N$1(r.oa);R(e,"RID","rpc"),R(e,"SID",r.J),R(e,"CI",r.N?"0":"1"),R(e,"AID",r.U),Kd(r,e),R(e,"TYPE","xmlhttp"),r.o&&r.s&&Gd(e,r.o,r.s),r.K&&r.g.setTimeout(r.K);var i=r.g;r=r.la,i.K=1,i.v=jc$1(N$1(e)),i.s=null,i.U=!0,kc(i,r)}k$1.ab=function(){this.v!=null&&(this.v=null,Ac$1(this),Bc$1(this),J$1(19))};function zc$1(r){r.v!=null&&(l.clearTimeout(r.v),r.v=null)}function uc$1(r,e){var i=null;if(r.g==e){zc$1(r),wc(r),r.g=null;var n=2}else if(yc(r.i,e))i=e.D,Fc(r.i,e),n=1;else return;if(r.I=e.N,r.G!=0){if(e.i)if(n==1){i=e.s?e.s.length:0,e=Date.now()-e.F;var s=r.C;n=Sb(),D$1(n,new Vb(n,i)),Hc$1(r)}else Gc$1(r);else if(s=e.o,s==3||s==0&&0<r.I||!(n==1&&Nd(r,e)||n==2&&Bc$1(r)))switch(i&&0<i.length&&(e=r.i,e.i=e.i.concat(i)),s){case 1:Q$1(r,5);break;case 4:Q$1(r,10);break;case 3:Q$1(r,6);break;default:Q$1(r,2)}}}function Od(r,e){let i=r.Pa+Math.floor(Math.random()*r.$a);return r.j||(i*=2),i*e}function Q$1(r,e){if(r.h.info("Error code "+e),e==2){var i=null;r.j&&(i=null);var n=q(r.jb,r);i||(i=new U$1("//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Oc(i,"https"),jc$1(i)),nd(i.toString(),n)}else J$1(2);r.G=0,r.j&&r.j.va(e),Ld(r),Jd(r)}k$1.jb=function(r){r?(this.h.info("Successfully pinged google.com"),J$1(2)):(this.h.info("Failed to ping google.com"),J$1(1))};function Ld(r){r.G=0,r.I=-1,r.j&&((jd(r.i).length!=0||r.l.length!=0)&&(r.i.i.length=0,ra(r.l),r.l.length=0),r.j.ua())}function Ec$1(r,e,i){let n=ad(i);if(n.i!="")e&&Pc$1(n,e+"."+n.i),Qc(n,n.m);else{const s=l.location;n=bd(s.protocol,e?e+"."+s.hostname:s.hostname,+s.port,i)}return r.aa&&xa(r.aa,function(s,o){R(n,o,s)}),e=r.D,i=r.sa,e&&i&&R(n,e,i),R(n,"VER",r.ma),Kd(r,n),n}function nc$1(r,e,i){if(e&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=i&&r.Ba&&!r.qa?new X$1(new pd({ib:!0})):new X$1(r.qa),e.L=r.H,e}function Sd(){}k$1=Sd.prototype;k$1.xa=function(){};k$1.wa=function(){};k$1.va=function(){};k$1.ua=function(){};k$1.Oa=function(){};function Td(){if(y&&!(10<=Number(Ua$1)))throw Error("Environmental error: no available transport.")}Td.prototype.g=function(r,e){return new Y$1(r,e)};function Y$1(r,e){C$1.call(this),this.g=new Id(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(r?r["X-WebChannel-Client-Profile"]=e.ya:r={"X-WebChannel-Client-Profile":e.ya}),this.g.P=r,(r=e&&e.httpHeadersOverwriteParam)&&!sa$1(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!sa$1(e)&&(this.g.D=e,r=this.h,r!==null&&e in r&&(r=this.h,e in r&&delete r[e])),this.j=new Z$1(this)}t(Y$1,C$1);Y$1.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var r=this.g,e=this.l,i=this.h||void 0;r.Wa&&(r.h.info("Origin Trials enabled."),zb(q(r.hb,r,e))),J$1(0),r.W=e,r.aa=i||{},r.N=r.X,r.F=Ec$1(r,null,r.W),Hc$1(r)};Y$1.prototype.close=function(){Ic$1(this.g)};Y$1.prototype.u=function(r){if(typeof r=="string"){var e={};e.__data__=r,Md(this.g,e)}else this.v?(e={},e.__data__=rb(r),Md(this.g,e)):Md(this.g,r)};Y$1.prototype.M=function(){this.g.j=null,delete this.j,Ic$1(this.g),delete this.g,Y$1.Z.M.call(this)};function Ud(r){ac$1.call(this);var e=r.__sm__;if(e){e:{for(const i in e){r=i;break e}r=void 0}(this.i=r)&&(r=this.i,e=e!==null&&r in e?e[r]:void 0),this.data=e}else this.data=r}t(Ud,ac$1);function Vd(){bc$1.call(this),this.status=1}t(Vd,bc$1);function Z$1(r){this.g=r}t(Z$1,Sd);Z$1.prototype.xa=function(){D$1(this.g,"a")};Z$1.prototype.wa=function(r){D$1(this.g,new Ud(r))};Z$1.prototype.va=function(r){D$1(this.g,new Vd)};Z$1.prototype.ua=function(){D$1(this.g,"b")};Td.prototype.createWebChannel=Td.prototype.g;Y$1.prototype.send=Y$1.prototype.u;Y$1.prototype.open=Y$1.prototype.m;Y$1.prototype.close=Y$1.prototype.close;Wb.NO_ERROR=0;Wb.TIMEOUT=8;Wb.HTTP_ERROR=6;Xb.COMPLETE="complete";$b.EventType=L$1;L$1.OPEN="a";L$1.CLOSE="b";L$1.ERROR="c";L$1.MESSAGE="d";C$1.prototype.listen=C$1.prototype.N;X$1.prototype.listenOnce=X$1.prototype.O;X$1.prototype.getLastError=X$1.prototype.La;X$1.prototype.getLastErrorCode=X$1.prototype.Da;X$1.prototype.getStatus=X$1.prototype.ba;X$1.prototype.getResponseJson=X$1.prototype.Qa;X$1.prototype.getResponseText=X$1.prototype.ga;X$1.prototype.send=X$1.prototype.ea;var createWebChannelTransport=function(){return new Td},getStatEventTarget=function(){return Sb()},ErrorCode$1=Wb,EventType=Xb,Event$1=H,Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},FetchXmlHttpFactory=pd,WebChannel=$b,XhrIo=X$1;const D="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}C.UNAUTHENTICATED=new C(null),C.GOOGLE_CREDENTIALS=new C("google-credentials-uid"),C.FIRST_PARTY=new C("first-party-uid"),C.MOCK_USER=new C("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x="9.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N=new Logger("@firebase/firestore");function k(){return N.logLevel}function M(r,...e){if(N.logLevel<=LogLevel.DEBUG){const i=e.map(B);N.debug(`Firestore (${x}): ${r}`,...i)}}function F(r,...e){if(N.logLevel<=LogLevel.ERROR){const i=e.map(B);N.error(`Firestore (${x}): ${r}`,...i)}}function $(r,...e){if(N.logLevel<=LogLevel.WARN){const i=e.map(B);N.warn(`Firestore (${x}): ${r}`,...i)}}function B(r){if(typeof r=="string")return r;try{return e=r,JSON.stringify(e)}catch{return r}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L(r="Unexpected state"){const e=`FIRESTORE (${x}) INTERNAL ASSERTION FAILED: `+r;throw F(e),new Error(e)}function U(r,e){r||L()}function K(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends FirebaseError{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(C.UNAUTHENTICATED))}shutdown(){}}class J{constructor(e){this.t=e,this.currentUser=C.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){let n=this.i;const s=u=>this.i!==n?(n=this.i,i(u)):Promise.resolve();let o=new j;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new j,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},c=u=>{M("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(M("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new j)}},0),a()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(n=>this.i!==e?(M("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(U(typeof n.accessToken=="string"),new W(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return U(e===null||typeof e=="string"),new C(e)}}class Y{constructor(e,i,n){this.type="FirstParty",this.user=C.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",i);const s=e.auth.getAuthHeaderValueForFirstParty([]);s&&this.headers.set("Authorization",s),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class X{constructor(e,i,n){this.h=e,this.l=i,this.m=n}getToken(){return Promise.resolve(new Y(this.h,this.l,this.m))}start(e,i){e.enqueueRetryable(()=>i(C.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Z{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tt{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,i){const n=o=>{o.error!=null&&M("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.p;return this.p=o.token,M("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?i(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};const s=o=>{M("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?s(o):M("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(U(typeof i.token=="string"),this.p=i.token,new Z(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let n=0;n<r;n++)i[n]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const s=nt(40);for(let o=0;o<s.length;++o)n.length<20&&s[o]<i&&(n+=e.charAt(s[o]%e.length))}return n}}function it(r,e){return r<e?-1:r>e?1:0}function rt(r,e,i){return r.length===e.length&&r.every((n,s)=>i(n,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new Q(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Q(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new Q(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*i));return new ut(i,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ct(e)}static min(){return new ct(new ut(0,0))}static max(){return new ct(new ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,i,n){i===void 0?i=0:i>e.length&&L(),n===void 0?n=e.length-i:n>e.length-i&&L(),this.segments=e,this.offset=i,this.len=n}get length(){return this.len}isEqual(e){return at.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof at?e.forEach(n=>{i.push(n)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,n=this.limit();i<n;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const n=Math.min(e.length,i.length);for(let s=0;s<n;s++){const o=e.get(s),a=i.get(s);if(o<a)return-1;if(o>a)return 1}return e.length<i.length?-1:e.length>i.length?1:0}}class ht extends at{construct(e,i,n){return new ht(e,i,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const i=[];for(const n of e){if(n.indexOf("//")>=0)throw new Q(G.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);i.push(...n.split("/").filter(s=>s.length>0))}return new ht(i)}static emptyPath(){return new ht([])}}const lt=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends at{construct(e,i,n){return new ft(e,i,n)}static isValidIdentifier(e){return lt.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ft(["__name__"])}static fromServerFormat(e){const i=[];let n="",s=0;const o=()=>{if(n.length===0)throw new Q(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(n),n=""};let a=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new Q(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Q(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=u,s+=2}else c==="`"?(a=!a,s++):c!=="."||a?(n+=c,s++):(o(),s++)}if(o(),a)throw new Q(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(i)}static emptyPath(){return new ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.path=e}static fromPath(e){return new dt(ht.fromString(e))}static fromName(e){return new dt(ht.fromString(e).popFirst(5))}static empty(){return new dt(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ht.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new ht(e.slice()))}}function pt(r,e){const i=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,s=ct.fromTimestamp(n===1e9?new ut(i+1,0):new ut(i,n));return new Tt(s,dt.empty(),e)}function It(r){return new Tt(r.readTime,r.key,-1)}class Tt{constructor(e,i,n){this.readTime=e,this.documentKey=i,this.largestBatchId=n}static min(){return new Tt(ct.min(),dt.empty(),-1)}static max(){return new Tt(ct.max(),dt.empty(),-1)}}function Et(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=dt.comparator(r.documentKey,e.documentKey),i!==0?i:it(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const At="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Rt{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bt(r){if(r.code!==G.FAILED_PRECONDITION||r.message!==At)throw r;M("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&L(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Pt((n,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,s)},this.catchCallback=o=>{this.wrapFailure(i,o).next(n,s)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Pt?i:Pt.resolve(i)}catch(i){return Pt.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Pt.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Pt.reject(i)}static resolve(e){return new Pt((i,n)=>{i(e)})}static reject(e){return new Pt((i,n)=>{n(e)})}static waitFor(e){return new Pt((i,n)=>{let s=0,o=0,a=!1;e.forEach(c=>{++s,c.next(()=>{++o,a&&o===s&&i()},u=>n(u))}),a=!0,o===s&&i()})}static or(e){let i=Pt.resolve(!1);for(const n of e)i=i.next(s=>s?Pt.resolve(s):n());return i}static forEach(e,i){const n=[];return e.forEach((s,o)=>{n.push(i.call(this,s,o))}),this.waitFor(n)}static mapArray(e,i){return new Pt((n,s)=>{const o=e.length,a=new Array(o);let c=0;for(let u=0;u<o;u++){const f=u;i(e[f]).next(d=>{a[f]=d,++c,c===o&&n(a)},d=>s(d))}})}static doWhile(e,i){return new Pt((n,s)=>{const o=()=>{e()===!0?i().next(()=>{o()},s):n()};o()})}}function Ct(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=n=>this.it(n),this.rt=n=>i.writeSequenceNumber(n))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Lt(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function Ut(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$t.ot=-1;class qt{constructor(e,i){this.comparator=e,this.root=i||Gt.EMPTY}insert(e,i){return new qt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const n=this.comparator(e,i.key);if(n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}indexOf(e){let i=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return i+n.left.size;s<0?n=n.left:(i+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,n)=>(e(i,n),!1))}toString(){const e=[];return this.inorderTraversal((i,n)=>(e.push(`${i}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kt(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kt(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kt(this.root,e,this.comparator,!0)}}class Kt{constructor(e,i,n,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=i?n(e.key,i):1,i&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,i,n,s,o){this.key=e,this.value=i,this.color=n!=null?n:Gt.RED,this.left=s!=null?s:Gt.EMPTY,this.right=o!=null?o:Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,n,s,o){return new Gt(e!=null?e:this.key,i!=null?i:this.value,n!=null?n:this.color,s!=null?s:this.left,o!=null?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,n){let s=this;const o=n(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,i,n),null):o===0?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let n,s=this;if(i(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,i),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),i(e,s.key)===0){if(s.right.isEmpty())return Gt.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,i))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw L();const e=this.left.check();if(e!==this.right.check())throw L();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw L()}get value(){throw L()}get color(){throw L()}get left(){throw L()}get right(){throw L()}copy(r,e,i,n,s){return this}insert(r,e,i){return new Gt(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.comparator=e,this.data=new qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,n)=>(e(i),!1))}forEachInRange(e,i){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;i(s.key)}}forEachWhile(e,i){let n;for(n=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new jt(this.data.getIterator())}getIteratorFrom(e){return new jt(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(n=>{i=i.add(n)}),i}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const i=this.data.getIterator(),n=e.data.getIterator();for(;i.hasNext();){const s=i.getNext().key,o=n.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Qt(this.comparator);return i.data=e,i}}class jt{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new zt([])}unionWith(e){let i=new Qt(ft.comparator);for(const n of this.fields)i=i.add(n);for(const n of e)i=i.add(n);return new zt(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return rt(this.fields,e.fields,(i,n)=>i.isEqual(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=atob(e);return new Jt(i)}static fromUint8Array(e){const i=function(n){let s="";for(let o=0;o<n.length;++o)s+=String.fromCharCode(n[o]);return s}(e);return new Jt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const Yt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xt(r){if(U(!!r),typeof r=="string"){let e=0;const i=Yt.exec(r);if(U(!!i),i[1]){let s=i[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Zt(r.seconds),nanos:Zt(r.nanos)}}function Zt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function te(r){return typeof r=="string"?Jt.fromBase64String(r):Jt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function ne(r){const e=r.mapValue.fields.__previous_value__;return ee(e)?ne(e):e}function se(r){const e=Xt(r.mapValue.fields.__local_write_time__.timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,i,n,s,o,a,c,u){this.databaseId=e,this.appId=i,this.persistenceKey=n,this.host=s,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.useFetchStreams=u}}class re{constructor(e,i){this.projectId=e,this.database=i||"(default)"}static empty(){return new re("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof re&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(r){return r==null}function ue(r){return r===0&&1/r==-1/0}function ce(r){return typeof r=="number"&&Number.isInteger(r)&&!ue(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function le(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ee(r)?4:be(r)?9007199254740991:10:L()}function fe(r,e){if(r===e)return!0;const i=le(r);if(i!==le(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return se(r).isEqual(se(e));case 3:return function(n,s){if(typeof n.timestampValue=="string"&&typeof s.timestampValue=="string"&&n.timestampValue.length===s.timestampValue.length)return n.timestampValue===s.timestampValue;const o=Xt(n.timestampValue),a=Xt(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(n,s){return te(n.bytesValue).isEqual(te(s.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(n,s){return Zt(n.geoPointValue.latitude)===Zt(s.geoPointValue.latitude)&&Zt(n.geoPointValue.longitude)===Zt(s.geoPointValue.longitude)}(r,e);case 2:return function(n,s){if("integerValue"in n&&"integerValue"in s)return Zt(n.integerValue)===Zt(s.integerValue);if("doubleValue"in n&&"doubleValue"in s){const o=Zt(n.doubleValue),a=Zt(s.doubleValue);return o===a?ue(o)===ue(a):isNaN(o)&&isNaN(a)}return!1}(r,e);case 9:return rt(r.arrayValue.values||[],e.arrayValue.values||[],fe);case 10:return function(n,s){const o=n.mapValue.fields||{},a=s.mapValue.fields||{};if(Bt(o)!==Bt(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!fe(o[c],a[c])))return!1;return!0}(r,e);default:return L()}}function de(r,e){return(r.values||[]).find(i=>fe(i,e))!==void 0}function _e(r,e){if(r===e)return 0;const i=le(r),n=le(e);if(i!==n)return it(i,n);switch(i){case 0:case 9007199254740991:return 0;case 1:return it(r.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Zt(s.integerValue||s.doubleValue),c=Zt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(r,e);case 3:return we(r.timestampValue,e.timestampValue);case 4:return we(se(r),se(e));case 5:return it(r.stringValue,e.stringValue);case 6:return function(s,o){const a=te(s),c=te(o);return a.compareTo(c)}(r.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const f=it(a[u],c[u]);if(f!==0)return f}return it(a.length,c.length)}(r.referenceValue,e.referenceValue);case 8:return function(s,o){const a=it(Zt(s.latitude),Zt(o.latitude));return a!==0?a:it(Zt(s.longitude),Zt(o.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){const f=_e(a[u],c[u]);if(f)return f}return it(a.length,c.length)}(r.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===ae.mapValue&&o===ae.mapValue)return 0;if(s===ae.mapValue)return 1;if(o===ae.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),u=o.fields||{},f=Object.keys(u);c.sort(),f.sort();for(let d=0;d<c.length&&d<f.length;++d){const m=it(c[d],f[d]);if(m!==0)return m;const _=_e(a[c[d]],u[f[d]]);if(_!==0)return _}return it(c.length,f.length)}(r.mapValue,e.mapValue);default:throw L()}}function we(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return it(r,e);const i=Xt(r),n=Xt(e),s=it(i.seconds,n.seconds);return s!==0?s:it(i.nanos,n.nanos)}function me(r){return ge(r)}function ge(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Xt(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?te(r.bytesValue).toBase64():"referenceValue"in r?(i=r.referenceValue,dt.fromName(i).toString()):"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(n){let s="[",o=!0;for(const a of n.values||[])o?o=!1:s+=",",s+=ge(a);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const c of s)a?a=!1:o+=",",o+=`${c}:${ge(n.fields[c])}`;return o+"}"}(r.mapValue):L();var e,i}function pe(r){return!!r&&"integerValue"in r}function Ie(r){return!!r&&"arrayValue"in r}function Te(r){return!!r&&"nullValue"in r}function Ee(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ae(r){return!!r&&"mapValue"in r}function Re(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Lt(r.mapValue.fields,(i,n)=>e.mapValue.fields[i]=Re(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Re(r.arrayValue.values[i]);return e}return Object.assign({},r)}function be(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.value=e}static empty(){return new De({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let n=0;n<e.length-1;++n)if(i=(i.mapValue.fields||{})[e.get(n)],!Ae(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Re(i)}setAll(e){let i=ft.emptyPath(),n={},s=[];e.forEach((a,c)=>{if(!i.isImmediateParentOf(c)){const u=this.getFieldsMap(i);this.applyChanges(u,n,s),n={},s=[],i=c.popLast()}a?n[c.lastSegment()]=Re(a):s.push(c.lastSegment())});const o=this.getFieldsMap(i);this.applyChanges(o,n,s)}delete(e){const i=this.field(e.popLast());Ae(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return fe(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=i.mapValue.fields[e.get(n)];Ae(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},i.mapValue.fields[e.get(n)]=s),i=s}return i.mapValue.fields}applyChanges(e,i,n){Lt(i,(s,o)=>e[s]=o);for(const s of n)delete e[s]}clone(){return new De(Re(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e,i,n,s,o,a){this.key=e,this.documentType=i,this.version=n,this.readTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new xe(e,0,ct.min(),ct.min(),De.empty(),0)}static newFoundDocument(e,i,n){return new xe(e,1,i,ct.min(),n,0)}static newNoDocument(e,i){return new xe(e,2,i,ct.min(),De.empty(),0)}static newUnknownDocument(e,i){return new xe(e,3,i,ct.min(),De.empty(),2)}convertToFoundDocument(e,i){return this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=De.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=De.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xe(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e,i=null,n=[],s=[],o=null,a=null,c=null){this.path=e,this.collectionGroup=i,this.orderBy=n,this.filters=s,this.limit=o,this.startAt=a,this.endAt=c,this.ut=null}}function ke(r,e=null,i=[],n=[],s=null,o=null,a=null){return new Ne(r,e,i,n,s,o,a)}function Oe(r){const e=K(r);if(e.ut===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(n=>{return(s=n).field.canonicalString()+s.op.toString()+me(s.value);var s}).join(","),i+="|ob:",i+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),oe(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(n=>me(n)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(n=>me(n)).join(",")),e.ut=i}return e.ut}function Me(r){let e=r.path.canonicalString();return r.collectionGroup!==null&&(e+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(e+=`, filters: [${r.filters.map(i=>{return`${(n=i).field.canonicalString()} ${n.op} ${me(n.value)}`;var n}).join(", ")}]`),oe(r.limit)||(e+=", limit: "+r.limit),r.orderBy.length>0&&(e+=`, orderBy: [${r.orderBy.map(i=>function(n){return`${n.field.canonicalString()} (${n.dir})`}(i)).join(", ")}]`),r.startAt&&(e+=", startAt: ",e+=r.startAt.inclusive?"b:":"a:",e+=r.startAt.position.map(i=>me(i)).join(",")),r.endAt&&(e+=", endAt: ",e+=r.endAt.inclusive?"a:":"b:",e+=r.endAt.position.map(i=>me(i)).join(",")),`Target(${e})`}function Fe(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<r.orderBy.length;s++)if(!Ze(r.orderBy[s],e.orderBy[s]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let s=0;s<r.filters.length;s++)if(i=r.filters[s],n=e.filters[s],i.op!==n.op||!i.field.isEqual(n.field)||!fe(i.value,n.value))return!1;var i,n;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!en(r.startAt,e.startAt)&&en(r.endAt,e.endAt)}function $e(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class qe extends class{}{constructor(e,i,n){super(),this.field=e,this.op=i,this.value=n}static create(e,i,n){return e.isKeyField()?i==="in"||i==="not-in"?this.ct(e,i,n):new Ke(e,i,n):i==="array-contains"?new We(e,n):i==="in"?new ze(e,n):i==="not-in"?new He(e,n):i==="array-contains-any"?new Je(e,n):new qe(e,i,n)}static ct(e,i,n){return i==="in"?new Ge(e,n):new Qe(e,n)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.at(_e(i,this.value)):i!==null&&le(this.value)===le(i)&&this.at(_e(i,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return L()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Ke extends qe{constructor(e,i,n){super(e,i,n),this.key=dt.fromName(n.referenceValue)}matches(e){const i=dt.comparator(e.key,this.key);return this.at(i)}}class Ge extends qe{constructor(e,i){super(e,"in",i),this.keys=je("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class Qe extends qe{constructor(e,i){super(e,"not-in",i),this.keys=je("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function je(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(n=>dt.fromName(n.referenceValue))}class We extends qe{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Ie(i)&&de(i.arrayValue,this.value)}}class ze extends qe{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&de(this.value.arrayValue,i)}}class He extends qe{constructor(e,i){super(e,"not-in",i)}matches(e){if(de(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!de(this.value.arrayValue,i)}}class Je extends qe{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Ie(i)||!i.arrayValue.values)&&i.arrayValue.values.some(n=>de(this.value.arrayValue,n))}}class Ye{constructor(e,i){this.position=e,this.inclusive=i}}class Xe{constructor(e,i="asc"){this.field=e,this.dir=i}}function Ze(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}function tn(r,e,i){let n=0;for(let s=0;s<r.position.length;s++){const o=e[s],a=r.position[s];if(o.field.isKeyField()?n=dt.comparator(dt.fromName(a.referenceValue),i.key):n=_e(a,i.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function en(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!fe(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,i=null,n=[],s=[],o=null,a="F",c=null,u=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=n,this.filters=s,this.limit=o,this.limitType=a,this.startAt=c,this.endAt=u,this.lt=null,this.ft=null,this.startAt,this.endAt}}function sn(r,e,i,n,s,o,a,c){return new nn(r,e,i,n,s,o,a,c)}function rn(r){return new nn(r)}function on(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function un(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function cn(r){for(const e of r.filters)if(e.ht())return e.field;return null}function an(r){return r.collectionGroup!==null}function hn(r){const e=K(r);if(e.lt===null){e.lt=[];const i=cn(e),n=un(e);if(i!==null&&n===null)i.isKeyField()||e.lt.push(new Xe(i)),e.lt.push(new Xe(ft.keyField(),"asc"));else{let s=!1;for(const o of e.explicitOrderBy)e.lt.push(o),o.field.isKeyField()&&(s=!0);if(!s){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new Xe(ft.keyField(),o))}}}return e.lt}function ln(r){const e=K(r);if(!e.ft)if(e.limitType==="F")e.ft=ke(e.path,e.collectionGroup,hn(e),e.filters,e.limit,e.startAt,e.endAt);else{const i=[];for(const o of hn(e)){const a=o.dir==="desc"?"asc":"desc";i.push(new Xe(o.field,a))}const n=e.endAt?new Ye(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Ye(e.startAt.position,e.startAt.inclusive):null;e.ft=ke(e.path,e.collectionGroup,i,e.filters,e.limit,n,s)}return e.ft}function fn(r,e,i){return new nn(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function dn(r,e){return Fe(ln(r),ln(e))&&r.limitType===e.limitType}function _n(r){return`${Oe(ln(r))}|lt:${r.limitType}`}function wn(r){return`Query(target=${Me(ln(r))}; limitType=${r.limitType})`}function mn(r,e){return e.isFoundDocument()&&function(i,n){const s=n.key.path;return i.collectionGroup!==null?n.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):dt.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(r,e)&&function(i,n){for(const s of i.explicitOrderBy)if(!s.field.isKeyField()&&n.data.field(s.field)===null)return!1;return!0}(r,e)&&function(i,n){for(const s of i.filters)if(!s.matches(n))return!1;return!0}(r,e)&&function(i,n){return!(i.startAt&&!function(s,o,a){const c=tn(s,o,a);return s.inclusive?c<=0:c<0}(i.startAt,hn(i),n)||i.endAt&&!function(s,o,a){const c=tn(s,o,a);return s.inclusive?c>=0:c>0}(i.endAt,hn(i),n))}(r,e)}function gn(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function yn(r){return(e,i)=>{let n=!1;for(const s of hn(r)){const o=pn(s,e,i);if(o!==0)return o;n=n||s.field.isKeyField()}return 0}}function pn(r,e,i){const n=r.field.isKeyField()?dt.comparator(e.key,i.key):function(s,o,a){const c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?_e(c,u):L()}(r.field,e,i);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return L()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(r,e){if(r.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ue(e)?"-0":e}}function Tn(r){return{integerValue:""+r}}function En(r,e){return ce(e)?Tn(e):In(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(){this._=void 0}}function Rn(r,e,i){return r instanceof vn?function(n,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}};return s&&(o.fields.__previous_value__=s),{mapValue:o}}(i,e):r instanceof Vn?Sn(r,e):r instanceof Dn?Cn(r,e):function(n,s){const o=Pn(n,s),a=Nn(o)+Nn(n._t);return pe(o)&&pe(n._t)?Tn(a):In(n.wt,a)}(r,e)}function bn(r,e,i){return r instanceof Vn?Sn(r,e):r instanceof Dn?Cn(r,e):i}function Pn(r,e){return r instanceof xn?pe(i=e)||function(n){return!!n&&"doubleValue"in n}(i)?e:{integerValue:0}:null;var i}class vn extends An{}class Vn extends An{constructor(e){super(),this.elements=e}}function Sn(r,e){const i=kn(e);for(const n of r.elements)i.some(s=>fe(s,n))||i.push(n);return{arrayValue:{values:i}}}class Dn extends An{constructor(e){super(),this.elements=e}}function Cn(r,e){let i=kn(e);for(const n of r.elements)i=i.filter(s=>!fe(s,n));return{arrayValue:{values:i}}}class xn extends An{constructor(e,i){super(),this.wt=e,this._t=i}}function Nn(r){return Zt(r.integerValue||r.doubleValue)}function kn(r){return Ie(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Mn(r,e){return r.field.isEqual(e.field)&&function(i,n){return i instanceof Vn&&n instanceof Vn||i instanceof Dn&&n instanceof Dn?rt(i.elements,n.elements,fe):i instanceof xn&&n instanceof xn?fe(i._t,n._t):i instanceof vn&&n instanceof vn}(r.transform,e.transform)}class $n{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bn(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ln{}function Un(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Yn(r.key,$n.none()):new jn(r.key,r.data,$n.none());{const i=r.data,n=De.empty();let s=new Qt(ft.comparator);for(let o of e.fields)if(!s.has(o)){let a=i.field(o);a===null&&o.length>1&&(o=o.popLast(),a=i.field(o)),a===null?n.delete(o):n.set(o,a),s=s.add(o)}return new Wn(r.key,n,new zt(s.toArray()),$n.none())}}function qn(r,e,i){r instanceof jn?function(n,s,o){const a=n.value.clone(),c=Hn(n.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(r,e,i):r instanceof Wn?function(n,s,o){if(!Bn(n.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Hn(n.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(zn(n)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(r,e,i):function(n,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,i)}function Kn(r,e,i,n){return r instanceof jn?function(s,o,a,c){if(!Bn(s.precondition,o))return a;const u=s.value.clone(),f=Jn(s.fieldTransforms,c,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(r,e,i,n):r instanceof Wn?function(s,o,a,c){if(!Bn(s.precondition,o))return a;const u=Jn(s.fieldTransforms,c,o),f=o.data;return f.setAll(zn(s)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(r,e,i,n):function(s,o,a){return Bn(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(r,e,i)}function Qn(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(i,n){return i===void 0&&n===void 0||!(!i||!n)&&rt(i,n,(s,o)=>Mn(s,o))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class jn extends Ln{constructor(e,i,n,s=[]){super(),this.key=e,this.value=i,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Wn extends Ln{constructor(e,i,n,s,o=[]){super(),this.key=e,this.data=i,this.fieldMask=n,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function zn(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const n=r.data.field(i);e.set(i,n)}}),e}function Hn(r,e,i){const n=new Map;U(r.length===i.length);for(let s=0;s<i.length;s++){const o=r[s],a=o.transform,c=e.data.field(o.field);n.set(o.field,bn(a,c,i[s]))}return n}function Jn(r,e,i){const n=new Map;for(const s of r){const o=s.transform,a=i.data.field(s.field);n.set(s.field,Rn(o,a,e))}return n}class Yn extends Ln{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Xn extends Ln{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ts,es;function ns(r){switch(r){default:return L();case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0}}function ss(r){if(r===void 0)return F("GRPC error has no .code"),G.UNKNOWN;switch(r){case ts.OK:return G.OK;case ts.CANCELLED:return G.CANCELLED;case ts.UNKNOWN:return G.UNKNOWN;case ts.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case ts.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case ts.INTERNAL:return G.INTERNAL;case ts.UNAVAILABLE:return G.UNAVAILABLE;case ts.UNAUTHENTICATED:return G.UNAUTHENTICATED;case ts.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case ts.NOT_FOUND:return G.NOT_FOUND;case ts.ALREADY_EXISTS:return G.ALREADY_EXISTS;case ts.PERMISSION_DENIED:return G.PERMISSION_DENIED;case ts.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case ts.ABORTED:return G.ABORTED;case ts.OUT_OF_RANGE:return G.OUT_OF_RANGE;case ts.UNIMPLEMENTED:return G.UNIMPLEMENTED;case ts.DATA_LOSS:return G.DATA_LOSS;default:return L()}}(es=ts||(ts={}))[es.OK=0]="OK",es[es.CANCELLED=1]="CANCELLED",es[es.UNKNOWN=2]="UNKNOWN",es[es.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",es[es.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",es[es.NOT_FOUND=5]="NOT_FOUND",es[es.ALREADY_EXISTS=6]="ALREADY_EXISTS",es[es.PERMISSION_DENIED=7]="PERMISSION_DENIED",es[es.UNAUTHENTICATED=16]="UNAUTHENTICATED",es[es.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",es[es.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",es[es.ABORTED=10]="ABORTED",es[es.OUT_OF_RANGE=11]="OUT_OF_RANGE",es[es.UNIMPLEMENTED=12]="UNIMPLEMENTED",es[es.INTERNAL=13]="INTERNAL",es[es.UNAVAILABLE=14]="UNAVAILABLE",es[es.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),n=this.inner[i];if(n!==void 0){for(const[s,o]of n)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,i){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,i]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,i]);s.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),n=this.inner[i];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[i]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Lt(this.inner,(i,n)=>{for(const[s,o]of n)e(s,o)})}isEmpty(){return Ut(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new qt(dt.comparator);function os(){return rs}const us=new qt(dt.comparator);function cs(...r){let e=us;for(const i of r)e=e.insert(i.key,i);return e}function as(r){let e=us;return r.forEach((i,n)=>e=e.insert(i,n.overlayedDocument)),e}function hs(){return fs()}function ls(){return fs()}function fs(){return new is(r=>r.toString(),(r,e)=>r.isEqual(e))}new qt(dt.comparator);const _s=new Qt(dt.comparator);function ws(...r){let e=_s;for(const i of r)e=e.add(i);return e}const ms=new Qt(it);function gs(){return ms}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,i,n,s,o){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,i){const n=new Map;return n.set(e,ps.createSynthesizedTargetChangeForCurrentChange(e,i)),new ys(ct.min(),n,gs(),os(),ws())}}class ps{constructor(e,i,n,s,o){this.resumeToken=e,this.current=i,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,i){return new ps(Jt.EMPTY_BYTE_STRING,i,ws(),ws(),ws())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,i,n,s){this.gt=e,this.removedTargetIds=i,this.key=n,this.yt=s}}class Ts{constructor(e,i){this.targetId=e,this.It=i}}class Es{constructor(e,i,n=Jt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=i,this.resumeToken=n,this.cause=s}}class As{constructor(){this.Tt=0,this.Et=Ps(),this.At=Jt.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return this.Tt!==0}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=ws(),i=ws(),n=ws();return this.Et.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:i=i.add(s);break;case 1:n=n.add(s);break;default:L()}}),new ps(this.At,this.Rt,e,i,n)}Dt(){this.bt=!1,this.Et=Ps()}Ct(e,i){this.bt=!0,this.Et=this.Et.insert(e,i)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class Rs{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=os(),this.Bt=bs(),this.Lt=new Qt(it)}Ut(e){for(const i of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(i,e.yt):this.Kt(i,e.key,e.yt);for(const i of e.removedTargetIds)this.Kt(i,e.key,e.yt)}Gt(e){this.forEachTarget(e,i=>{const n=this.Qt(i);switch(e.state){case 0:this.jt(i)&&n.Vt(e.resumeToken);break;case 1:n.kt(),n.Pt||n.Dt(),n.Vt(e.resumeToken);break;case 2:n.kt(),n.Pt||this.removeTarget(i);break;case 3:this.jt(i)&&(n.Ot(),n.Vt(e.resumeToken));break;case 4:this.jt(i)&&(this.Wt(i),n.Vt(e.resumeToken));break;default:L()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Ft.forEach((n,s)=>{this.jt(s)&&i(s)})}zt(e){const i=e.targetId,n=e.It.count,s=this.Ht(i);if(s){const o=s.target;if($e(o))if(n===0){const a=new dt(o.path);this.Kt(i,a,xe.newNoDocument(a,ct.min()))}else U(n===1);else this.Jt(i)!==n&&(this.Wt(i),this.Lt=this.Lt.add(i))}}Yt(e){const i=new Map;this.Ft.forEach((o,a)=>{const c=this.Ht(a);if(c){if(o.current&&$e(c.target)){const u=new dt(c.target.path);this.$t.get(u)!==null||this.Xt(a,u)||this.Kt(a,u,xe.newNoDocument(u,e))}o.vt&&(i.set(a,o.St()),o.Dt())}});let n=ws();this.Bt.forEach((o,a)=>{let c=!0;a.forEachWhile(u=>{const f=this.Ht(u);return!f||f.purpose===2||(c=!1,!1)}),c&&(n=n.add(o))}),this.$t.forEach((o,a)=>a.setReadTime(e));const s=new ys(e,i,this.Lt,this.$t,n);return this.$t=os(),this.Bt=bs(),this.Lt=new Qt(it),s}qt(e,i){if(!this.jt(e))return;const n=this.Xt(e,i.key)?2:0;this.Qt(e).Ct(i.key,n),this.$t=this.$t.insert(i.key,i),this.Bt=this.Bt.insert(i.key,this.Zt(i.key).add(e))}Kt(e,i,n){if(!this.jt(e))return;const s=this.Qt(e);this.Xt(e,i)?s.Ct(i,1):s.xt(i),this.Bt=this.Bt.insert(i,this.Zt(i).delete(e)),n&&(this.$t=this.$t.insert(i,n))}removeTarget(e){this.Ft.delete(e)}Jt(e){const i=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let i=this.Ft.get(e);return i||(i=new As,this.Ft.set(e,i)),i}Zt(e){let i=this.Bt.get(e);return i||(i=new Qt(it),this.Bt=this.Bt.insert(e,i)),i}jt(e){const i=this.Ht(e)!==null;return i||M("WatchChangeAggregator","Detected inactive target",e),i}Ht(e){const i=this.Ft.get(e);return i&&i.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new As),this.Mt.getRemoteKeysForTarget(e).forEach(i=>{this.Kt(e,i,null)})}Xt(e,i){return this.Mt.getRemoteKeysForTarget(e).has(i)}}function bs(){return new qt(dt.comparator)}function Ps(){return new qt(dt.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Vs=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class Ss{constructor(e,i){this.databaseId=e,this.dt=i}}function Ds(r,e){return r.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cs(r,e){return r.dt?e.toBase64():e.toUint8Array()}function xs(r,e){return Ds(r,e.toTimestamp())}function Ns(r){return U(!!r),ct.fromTimestamp(function(e){const i=Xt(e);return new ut(i.seconds,i.nanos)}(r))}function ks(r,e){return function(i){return new ht(["projects",i.projectId,"databases",i.database])}(r).child("documents").child(e).canonicalString()}function Os(r){const e=ht.fromString(r);return U(ui(e)),e}function Ms(r,e){return ks(r.databaseId,e.path)}function Fs(r,e){const i=Os(e);if(i.get(1)!==r.databaseId.projectId)throw new Q(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new Q(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new dt(Us(i))}function $s(r,e){return ks(r.databaseId,e)}function Bs(r){const e=Os(r);return e.length===4?ht.emptyPath():Us(e)}function Ls(r){return new ht(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Us(r){return U(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function qs(r,e,i){return{name:Ms(r,e),fields:i.value.mapValue.fields}}function Gs(r,e){return"found"in e?function(i,n){U(!!n.found),n.found.name,n.found.updateTime;const s=Fs(i,n.found.name),o=Ns(n.found.updateTime),a=new De({mapValue:{fields:n.found.fields}});return xe.newFoundDocument(s,o,a)}(r,e):"missing"in e?function(i,n){U(!!n.missing),U(!!n.readTime);const s=Fs(i,n.missing),o=Ns(n.readTime);return xe.newNoDocument(s,o)}(r,e):L()}function Qs(r,e){let i;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:L()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(u,f){return u.dt?(U(f===void 0||typeof f=="string"),Jt.fromBase64String(f||"")):(U(f===void 0||f instanceof Uint8Array),Jt.fromUint8Array(f||new Uint8Array))}(r,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&function(u){const f=u.code===void 0?G.UNKNOWN:ss(u.code);return new Q(f,u.message||"")}(a);i=new Es(n,s,o,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=Fs(r,n.document.name),o=Ns(n.document.updateTime),a=new De({mapValue:{fields:n.document.fields}}),c=xe.newFoundDocument(s,o,a),u=n.targetIds||[],f=n.removedTargetIds||[];i=new Is(u,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=Fs(r,n.document),o=n.readTime?Ns(n.readTime):ct.min(),a=xe.newNoDocument(s,o),c=n.removedTargetIds||[];i=new Is([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=Fs(r,n.document),o=n.removedTargetIds||[];i=new Is([],o,s,null)}else{if(!("filter"in e))return L();{e.filter;const n=e.filter;n.targetId;const s=n.count||0,o=new Zn(s),a=n.targetId;i=new Ts(a,o)}}return i}function js(r,e){let i;if(e instanceof jn)i={update:qs(r,e.key,e.value)};else if(e instanceof Yn)i={delete:Ms(r,e.key)};else if(e instanceof Wn)i={update:qs(r,e.key,e.data),updateMask:oi(e.fieldMask)};else{if(!(e instanceof Xn))return L();i={verify:Ms(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(n=>function(s,o){const a=o.transform;if(a instanceof vn)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vn)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Dn)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof xn)return{fieldPath:o.field.canonicalString(),increment:a._t};throw L()}(0,n))),e.precondition.isNone||(i.currentDocument=function(n,s){return s.updateTime!==void 0?{updateTime:xs(n,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:L()}(r,e.precondition)),i}function Hs(r,e){return{documents:[$s(r,e.path)]}}function Js(r,e){const i={structuredQuery:{}},n=e.path;e.collectionGroup!==null?(i.parent=$s(r,n),i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i.parent=$s(r,n.popLast()),i.structuredQuery.from=[{collectionId:n.lastSegment()}]);const s=function(u){if(u.length===0)return;const f=u.map(d=>function(m){if(m.op==="=="){if(Ee(m.value))return{unaryFilter:{field:ni(m.field),op:"IS_NAN"}};if(Te(m.value))return{unaryFilter:{field:ni(m.field),op:"IS_NULL"}}}else if(m.op==="!="){if(Ee(m.value))return{unaryFilter:{field:ni(m.field),op:"IS_NOT_NAN"}};if(Te(m.value))return{unaryFilter:{field:ni(m.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ni(m.field),op:ei(m.op),value:m.value}}}(d));return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}(e.filters);s&&(i.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(f=>function(d){return{field:ni(d.field),direction:ti(d.dir)}}(f))}(e.orderBy);o&&(i.structuredQuery.orderBy=o);const a=function(u,f){return u.dt||oe(f)?f:{value:f}}(r,e.limit);var c;return a!==null&&(i.structuredQuery.limit=a),e.startAt&&(i.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(i.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),i}function Ys(r){let e=Bs(r.parent);const i=r.structuredQuery,n=i.from?i.from.length:0;let s=null;if(n>0){U(n===1);const d=i.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let o=[];i.where&&(o=Zs(i.where));let a=[];i.orderBy&&(a=i.orderBy.map(d=>function(m){return new Xe(si(m.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(d)));let c=null;i.limit&&(c=function(d){let m;return m=typeof d=="object"?d.value:d,oe(m)?null:m}(i.limit));let u=null;i.startAt&&(u=function(d){const m=!!d.before,_=d.values||[];return new Ye(_,m)}(i.startAt));let f=null;return i.endAt&&(f=function(d){const m=!d.before,_=d.values||[];return new Ye(_,m)}(i.endAt)),sn(e,s,a,o,c,"F",u,f)}function Xs(r,e){const i=function(n,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return L()}}(0,e.purpose);return i==null?null:{"goog-listen-tags":i}}function Zs(r){return r?r.unaryFilter!==void 0?[ri(r)]:r.fieldFilter!==void 0?[ii(r)]:r.compositeFilter!==void 0?r.compositeFilter.filters.map(e=>Zs(e)).reduce((e,i)=>e.concat(i)):L():[]}function ti(r){return vs[r]}function ei(r){return Vs[r]}function ni(r){return{fieldPath:r.canonicalString()}}function si(r){return ft.fromServerFormat(r.fieldPath)}function ii(r){return qe.create(si(r.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return L()}}(r.fieldFilter.op),r.fieldFilter.value)}function ri(r){switch(r.unaryFilter.op){case"IS_NAN":const e=si(r.unaryFilter.field);return qe.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=si(r.unaryFilter.field);return qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const n=si(r.unaryFilter.field);return qe.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=si(r.unaryFilter.field);return qe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return L()}}function oi(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function ui(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,i,n,s){this.batchId=e,this.localWriteTime=i,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,i){const n=i.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&qn(o,e,n[s])}}applyToLocalView(e,i){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(i=Kn(n,e,i,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(i=Kn(n,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const n=ls();return this.mutations.forEach(s=>{const o=e.get(s.key),a=o.overlayedDocument;let c=this.applyToLocalView(a,o.mutatedFields);c=i.has(s.key)?null:c;const u=Un(a,c);u!==null&&n.set(s.key,u),a.isValidDocument()||a.convertToNoDocument(ct.min())}),n}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),ws())}isEqual(e){return this.batchId===e.batchId&&rt(this.mutations,e.mutations,(i,n)=>Qn(i,n))&&rt(this.baseMutations,e.baseMutations,(i,n)=>Qn(i,n))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,i,n,s,o=ct.min(),a=ct.min(),c=Jt.EMPTY_BYTE_STRING){this.target=e,this.targetId=i,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c}withSequenceNumber(e){return new Li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,i){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this.ne=e}}function Ji(r){const e=Ys({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?fn(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(){this.ze=new gr}addToCollectionParentIndex(e,i){return this.ze.add(i),Pt.resolve()}getCollectionParents(e,i){return Pt.resolve(this.ze.getEntries(i))}addFieldIndex(e,i){return Pt.resolve()}deleteFieldIndex(e,i){return Pt.resolve()}getDocumentsMatchingTarget(e,i){return Pt.resolve(null)}getIndexType(e,i){return Pt.resolve(0)}getFieldIndexes(e,i){return Pt.resolve([])}getNextCollectionGroupToUpdate(e){return Pt.resolve(null)}getMinOffset(e,i){return Pt.resolve(Tt.min())}getMinOffsetFromCollectionGroup(e,i){return Pt.resolve(Tt.min())}updateCollectionGroup(e,i,n){return Pt.resolve()}updateIndexEntries(e,i){return Pt.resolve()}}class gr{constructor(){this.index={}}add(e){const i=e.lastSegment(),n=e.popLast(),s=this.index[i]||new Qt(ht.comparator),o=!s.has(n);return this.index[i]=s.add(n),o}has(e){const i=e.lastSegment(),n=e.popLast(),s=this.index[i];return s&&s.has(n)}getEntries(e){return(this.index[e]||new Qt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new kr(0)}static Rn(){return new kr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.changes=new is(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const n=this.changes.get(i);return n!==void 0?Pt.resolve(n):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,i,n,s){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,i){let n=null;return this.documentOverlayCache.getOverlay(e,i).next(s=>(n=s,this.getBaseDocument(e,i,n))).next(s=>(n!==null&&Kn(n.mutation,s,zt.empty(),ut.now()),s))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(n=>this.getLocalViewOfDocuments(e,n,ws()).next(()=>n))}getLocalViewOfDocuments(e,i,n=ws()){const s=hs();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,n).next(o=>{let a=cs();return o.forEach((c,u)=>{a=a.insert(c,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,i){const n=hs();return this.populateOverlays(e,n,i).next(()=>this.computeViews(e,i,n,ws()))}populateOverlays(e,i,n){const s=[];return n.forEach(o=>{i.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((a,c)=>{i.set(a,c)})})}computeViews(e,i,n,s){let o=os();const a=fs(),c=fs();return i.forEach((u,f)=>{const d=n.get(f.key);s.has(f.key)&&(d===void 0||d.mutation instanceof Wn)?o=o.insert(f.key,f):d!==void 0&&(a.set(f.key,d.mutation.getFieldMask()),Kn(d.mutation,f,d.mutation.getFieldMask(),ut.now()))}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((f,d)=>a.set(f,d)),i.forEach((f,d)=>{var m;return c.set(f,new to(d,(m=a.get(f))!==null&&m!==void 0?m:null))}),c))}recalculateAndSaveOverlays(e,i){const n=fs();let s=new qt((a,c)=>a-c),o=ws();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(a=>{for(const c of a)c.keys().forEach(u=>{const f=i.get(u);if(f===null)return;let d=n.get(u)||zt.empty();d=c.applyToLocalView(f,d),n.set(u,d);const m=(s.get(c.batchId)||ws()).add(u);s=s.insert(c.batchId,m)})}).next(()=>{const a=[],c=s.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),f=u.key,d=u.value,m=ls();d.forEach(_=>{if(!o.has(_)){const ye=Un(i.get(_),n.get(_));ye!==null&&m.set(_,ye),o=o.add(_)}}),a.push(this.documentOverlayCache.saveOverlays(e,f,m))}return Pt.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,i,n){return function(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):an(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,n):this.getDocumentsMatchingCollectionQuery(e,i,n)}getNextDocuments(e,i,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,n,s).next(o=>{const a=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,n.largestBatchId,s-o.size):Pt.resolve(hs());let c=-1,u=o;return a.next(f=>Pt.forEach(f,(d,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),o.get(d)?Pt.resolve():this.getBaseDocument(e,d,m).next(_=>{u=u.insert(d,_)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,u,f,ws())).next(d=>({batchId:c,changes:as(d)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new dt(i)).next(n=>{let s=cs();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(e,i,n){const s=i.collectionGroup;let o=cs();return this.indexManager.getCollectionParents(e,s).next(a=>Pt.forEach(a,c=>{const u=function(f,d){return new nn(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(i,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,n).next(f=>{f.forEach((d,m)=>{o=o.insert(d,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,i,n){let s;return this.remoteDocumentCache.getAllFromCollection(e,i.path,n).next(o=>(s=o,this.documentOverlayCache.getOverlaysForCollection(e,i.path,n.largestBatchId))).next(o=>{o.forEach((c,u)=>{const f=u.getKey();s.get(f)===null&&(s=s.insert(f,xe.newInvalidDocument(f)))});let a=cs();return s.forEach((c,u)=>{const f=o.get(c);f!==void 0&&Kn(f.mutation,u,zt.empty(),ut.now()),mn(i,u)&&(a=a.insert(c,u))}),a})}getBaseDocument(e,i,n){return n===null||n.mutation.type===1?this.remoteDocumentCache.getEntry(e,i):Pt.resolve(xe.newInvalidDocument(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,i){return Pt.resolve(this.Jn.get(i))}saveBundleMetadata(e,i){var n;return this.Jn.set(i.id,{id:(n=i).id,version:n.version,createTime:Ns(n.createTime)}),Pt.resolve()}getNamedQuery(e,i){return Pt.resolve(this.Yn.get(i))}saveNamedQuery(e,i){return this.Yn.set(i.name,function(n){return{name:n.name,query:Ji(n.bundledQuery),readTime:Ns(n.readTime)}}(i)),Pt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.overlays=new qt(dt.comparator),this.Xn=new Map}getOverlay(e,i){return Pt.resolve(this.overlays.get(i))}getOverlays(e,i){const n=hs();return Pt.forEach(i,s=>this.getOverlay(e,s).next(o=>{o!==null&&n.set(s,o)})).next(()=>n)}saveOverlays(e,i,n){return n.forEach((s,o)=>{this.ie(e,i,o)}),Pt.resolve()}removeOverlaysForBatchId(e,i,n){const s=this.Xn.get(n);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Xn.delete(n)),Pt.resolve()}getOverlaysForCollection(e,i,n){const s=hs(),o=i.length+1,a=new dt(i.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const u=c.getNext().value,f=u.getKey();if(!i.isPrefixOf(f.path))break;f.path.length===o&&u.largestBatchId>n&&s.set(u.getKey(),u)}return Pt.resolve(s)}getOverlaysForCollectionGroup(e,i,n,s){let o=new qt((f,d)=>f-d);const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===i&&f.largestBatchId>n){let d=o.get(f.largestBatchId);d===null&&(d=hs(),o=o.insert(f.largestBatchId,d)),d.set(f.getKey(),f)}}const c=hs(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((f,d)=>c.set(f,d)),!(c.size()>=s)););return Pt.resolve(c)}ie(e,i,n){const s=this.overlays.get(n.key);if(s!==null){const a=this.Xn.get(s.largestBatchId).delete(n.key);this.Xn.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new Bi(i,n));let o=this.Xn.get(i);o===void 0&&(o=ws(),this.Xn.set(i,o)),this.Xn.set(i,o.add(n.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.Zn=new Qt(ro.ts),this.es=new Qt(ro.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,i){const n=new ro(e,i);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(e,i){e.forEach(n=>this.addReference(n,i))}removeReference(e,i){this.rs(new ro(e,i))}os(e,i){e.forEach(n=>this.removeReference(n,i))}us(e){const i=new dt(new ht([])),n=new ro(i,e),s=new ro(i,e+1),o=[];return this.es.forEachInRange([n,s],a=>{this.rs(a),o.push(a.key)}),o}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const i=new dt(new ht([])),n=new ro(i,e),s=new ro(i,e+1);let o=ws();return this.es.forEachInRange([n,s],a=>{o=o.add(a.key)}),o}containsKey(e){const i=new ro(e,0),n=this.Zn.firstAfterOrEqual(i);return n!==null&&e.isEqual(n.key)}}class ro{constructor(e,i){this.key=e,this.ls=i}static ts(e,i){return dt.comparator(e.key,i.key)||it(e.ls,i.ls)}static ns(e,i){return it(e.ls,i.ls)||dt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.fs=1,this.ds=new Qt(ro.ts)}checkEmpty(e){return Pt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,n,s){const o=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Fi(o,i,n,s);this.mutationQueue.push(a);for(const c of s)this.ds=this.ds.add(new ro(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Pt.resolve(a)}lookupMutationBatch(e,i){return Pt.resolve(this._s(i))}getNextMutationBatchAfterBatchId(e,i){const n=i+1,s=this.ws(n),o=s<0?0:s;return Pt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Pt.resolve(this.mutationQueue.length===0?-1:this.fs-1)}getAllMutationBatches(e){return Pt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const n=new ro(i,0),s=new ro(i,Number.POSITIVE_INFINITY),o=[];return this.ds.forEachInRange([n,s],a=>{const c=this._s(a.ls);o.push(c)}),Pt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,i){let n=new Qt(it);return i.forEach(s=>{const o=new ro(s,0),a=new ro(s,Number.POSITIVE_INFINITY);this.ds.forEachInRange([o,a],c=>{n=n.add(c.ls)})}),Pt.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(e,i){const n=i.path,s=n.length+1;let o=n;dt.isDocumentKey(o)||(o=o.child(""));const a=new ro(new dt(o),0);let c=new Qt(it);return this.ds.forEachWhile(u=>{const f=u.key.path;return!!n.isPrefixOf(f)&&(f.length===s&&(c=c.add(u.ls)),!0)},a),Pt.resolve(this.gs(c))}gs(e){const i=[];return e.forEach(n=>{const s=this._s(n);s!==null&&i.push(s)}),i}removeMutationBatch(e,i){U(this.ys(i.batchId,"removed")===0),this.mutationQueue.shift();let n=this.ds;return Pt.forEach(i.mutations,s=>{const o=new ro(s.key,i.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.ds=n})}In(e){}containsKey(e,i){const n=new ro(i,0),s=this.ds.firstAfterOrEqual(n);return Pt.resolve(i.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Pt.resolve()}ys(e,i){return this.ws(e)}ws(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}_s(e){const i=this.ws(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this.ps=e,this.docs=new qt(dt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const n=i.key,s=this.docs.get(n),o=s?s.size:0,a=this.ps(i);return this.docs=this.docs.insert(n,{document:i.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const n=this.docs.get(i);return Pt.resolve(n?n.document.mutableCopy():xe.newInvalidDocument(i))}getEntries(e,i){let n=os();return i.forEach(s=>{const o=this.docs.get(s);n=n.insert(s,o?o.document.mutableCopy():xe.newInvalidDocument(s))}),Pt.resolve(n)}getAllFromCollection(e,i,n){let s=os();const o=new dt(i.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:c,value:{document:u}}=a.getNext();if(!i.isPrefixOf(c.path))break;c.path.length>i.length+1||Et(It(u),n)<=0||(s=s.insert(u.key,u.mutableCopy()))}return Pt.resolve(s)}getAllFromCollectionGroup(e,i,n,s){L()}Is(e,i){return Pt.forEach(this.docs,n=>i(n))}newChangeBuffer(e){return new co(this)}getSize(e){return Pt.resolve(this.size)}}class co extends Qr{constructor(e){super(),this.zn=e}applyChanges(e){const i=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?i.push(this.zn.addEntry(e,s)):this.zn.removeEntry(n)}),Pt.waitFor(i)}getFromCache(e,i){return this.zn.getEntry(e,i)}getAllFromCache(e,i){return this.zn.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this.persistence=e,this.Ts=new is(i=>Oe(i),Fe),this.lastRemoteSnapshotVersion=ct.min(),this.highestTargetId=0,this.Es=0,this.As=new io,this.targetCount=0,this.Rs=kr.An()}forEachTarget(e,i){return this.Ts.forEach((n,s)=>i(s)),Pt.resolve()}getLastRemoteSnapshotVersion(e){return Pt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Pt.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Pt.resolve(this.highestTargetId)}setTargetsMetadata(e,i,n){return n&&(this.lastRemoteSnapshotVersion=n),i>this.Es&&(this.Es=i),Pt.resolve()}vn(e){this.Ts.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Rs=new kr(i),this.highestTargetId=i),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,i){return this.vn(i),this.targetCount+=1,Pt.resolve()}updateTargetData(e,i){return this.vn(i),Pt.resolve()}removeTargetData(e,i){return this.Ts.delete(i.target),this.As.us(i.targetId),this.targetCount-=1,Pt.resolve()}removeTargets(e,i,n){let s=0;const o=[];return this.Ts.forEach((a,c)=>{c.sequenceNumber<=i&&n.get(c.targetId)===null&&(this.Ts.delete(a),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),Pt.waitFor(o).next(()=>s)}getTargetCount(e){return Pt.resolve(this.targetCount)}getTargetData(e,i){const n=this.Ts.get(i)||null;return Pt.resolve(n)}addMatchingKeys(e,i,n){return this.As.ss(i,n),Pt.resolve()}removeMatchingKeys(e,i,n){this.As.os(i,n);const s=this.persistence.referenceDelegate,o=[];return s&&i.forEach(a=>{o.push(s.markPotentiallyOrphaned(e,a))}),Pt.waitFor(o)}removeMatchingKeysForTargetId(e,i){return this.As.us(i),Pt.resolve()}getMatchingKeysForTargetId(e,i){const n=this.As.hs(i);return Pt.resolve(n)}containsKey(e,i){return Pt.resolve(this.As.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,i){this.bs={},this.overlays={},this.Ps=new $t(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new ao(this),this.indexManager=new mr,this.remoteDocumentCache=function(n){return new uo(n)}(n=>this.referenceDelegate.Ss(n)),this.wt=new Ui(i),this.Ds=new no(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new so,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let n=this.bs[e.toKey()];return n||(n=new oo(i,this.referenceDelegate),this.bs[e.toKey()]=n),n}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,i,n){M("MemoryPersistence","Starting transaction:",e);const s=new lo(this.Ps.next());return this.referenceDelegate.Cs(),n(s).next(o=>this.referenceDelegate.xs(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ns(e,i){return Pt.or(Object.values(this.bs).map(n=>()=>n.containsKey(e,i)))}}class lo extends Rt{constructor(e){super(),this.currentSequenceNumber=e}}class fo{constructor(e){this.persistence=e,this.ks=new io,this.Os=null}static Ms(e){return new fo(e)}get Fs(){if(this.Os)return this.Os;throw L()}addReference(e,i,n){return this.ks.addReference(n,i),this.Fs.delete(n.toString()),Pt.resolve()}removeReference(e,i,n){return this.ks.removeReference(n,i),this.Fs.add(n.toString()),Pt.resolve()}markPotentiallyOrphaned(e,i){return this.Fs.add(i.toString()),Pt.resolve()}removeTarget(e,i){this.ks.us(i.targetId).forEach(s=>this.Fs.add(s.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,i.targetId).next(s=>{s.forEach(o=>this.Fs.add(o.toString()))}).next(()=>n.removeTargetData(e,i))}Cs(){this.Os=new Set}xs(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pt.forEach(this.Fs,n=>{const s=dt.fromPath(n);return this.$s(e,s).next(o=>{o||i.removeEntry(s,ct.min())})}).next(()=>(this.Os=null,i.apply(e)))}updateLimboDocument(e,i){return this.$s(e,i).next(n=>{n?this.Fs.delete(i.toString()):this.Fs.add(i.toString())})}Ss(e){return 0}$s(e,i){return Pt.or([()=>Pt.resolve(this.ks.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ns(e,i)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,i,n,s){this.targetId=e,this.fromCache=i,this.Pi=n,this.vi=s}static Vi(e,i){let n=ws(),s=ws();for(const o of i.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new To(e,i.fromCache,n,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.Si=!1}initialize(e,i){this.Di=e,this.indexManager=i,this.Si=!0}getDocumentsMatchingQuery(e,i,n,s){return this.Ci(e,i).next(o=>o||this.xi(e,i,s,n)).next(o=>o||this.Ni(e,i))}Ci(e,i){return Pt.resolve(null)}xi(e,i,n,s){return on(i)||s.isEqual(ct.min())?this.Ni(e,i):this.Di.getDocuments(e,n).next(o=>{const a=this.ki(i,o);return this.Oi(i,a,n,s)?this.Ni(e,i):(k()<=LogLevel.DEBUG&&M("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),wn(i)),this.Mi(e,a,i,pt(s,-1)))})}ki(e,i){let n=new Qt(yn(e));return i.forEach((s,o)=>{mn(e,o)&&(n=n.add(o))}),n}Oi(e,i,n,s){if(e.limit===null)return!1;if(n.size!==i.size)return!0;const o=e.limitType==="F"?i.last():i.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ni(e,i){return k()<=LogLevel.DEBUG&&M("QueryEngine","Using full collection scan to execute query:",wn(i)),this.Di.getDocumentsMatchingQuery(e,i,Tt.min())}Mi(e,i,n,s){return this.Di.getDocumentsMatchingQuery(e,n,s).next(o=>(i.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,i,n,s){this.persistence=e,this.Fi=i,this.wt=s,this.$i=new qt(it),this.Bi=new is(o=>Oe(o),Fe),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(n)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eo(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.$i))}}function Ro(r,e,i,n){return new Ao(r,e,i,n)}async function bo(r,e){const i=K(r);return await i.persistence.runTransaction("Handle user change","readonly",n=>{let s;return i.mutationQueue.getAllMutationBatches(n).next(o=>(s=o,i.qi(e),i.mutationQueue.getAllMutationBatches(n))).next(o=>{const a=[],c=[];let u=ws();for(const f of s){a.push(f.batchId);for(const d of f.mutations)u=u.add(d.key)}for(const f of o){c.push(f.batchId);for(const d of f.mutations)u=u.add(d.key)}return i.localDocuments.getDocuments(n,u).next(f=>({Ki:f,removedBatchIds:a,addedBatchIds:c}))})})}function vo(r){const e=K(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Vs.getLastRemoteSnapshotVersion(i))}function Vo(r,e){const i=K(r),n=e.snapshotVersion;let s=i.$i;return i.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=i.Ui.newChangeBuffer({trackRemovals:!0});s=i.$i;const c=[];e.targetChanges.forEach((d,m)=>{const _=s.get(m);if(!_)return;c.push(i.Vs.removeMatchingKeys(o,d.removedDocuments,m).next(()=>i.Vs.addMatchingKeys(o,d.addedDocuments,m)));let ye=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.has(m)?ye=ye.withResumeToken(Jt.EMPTY_BYTE_STRING,ct.min()).withLastLimboFreeSnapshotVersion(ct.min()):d.resumeToken.approximateByteSize()>0&&(ye=ye.withResumeToken(d.resumeToken,n)),s=s.insert(m,ye),function(Se,Ce,Le){return Se.resumeToken.approximateByteSize()===0||Ce.snapshotVersion.toMicroseconds()-Se.snapshotVersion.toMicroseconds()>=3e8?!0:Le.addedDocuments.size+Le.modifiedDocuments.size+Le.removedDocuments.size>0}(_,ye,d)&&c.push(i.Vs.updateTargetData(o,ye))});let u=os(),f=ws();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&c.push(i.persistence.referenceDelegate.updateLimboDocument(o,d))}),c.push(So(o,a,e.documentUpdates).next(d=>{u=d.Gi,f=d.Qi})),!n.isEqual(ct.min())){const d=i.Vs.getLastRemoteSnapshotVersion(o).next(m=>i.Vs.setTargetsMetadata(o,o.currentSequenceNumber,n));c.push(d)}return Pt.waitFor(c).next(()=>a.apply(o)).next(()=>i.localDocuments.getLocalViewOfDocuments(o,u,f)).next(()=>u)}).then(o=>(i.$i=s,o))}function So(r,e,i){let n=ws(),s=ws();return i.forEach(o=>n=n.add(o)),e.getEntries(r,n).next(o=>{let a=os();return i.forEach((c,u)=>{const f=o.get(c);u.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(c)),u.isNoDocument()&&u.version.isEqual(ct.min())?(e.removeEntry(c,u.readTime),a=a.insert(c,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(u),a=a.insert(c,u)):M("LocalStore","Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",u.version)}),{Gi:a,Qi:s}})}function Co(r,e){const i=K(r);return i.persistence.runTransaction("Allocate target","readwrite",n=>{let s;return i.Vs.getTargetData(n,e).next(o=>o?(s=o,Pt.resolve(s)):i.Vs.allocateTargetId(n).next(a=>(s=new Li(e,a,0,n.currentSequenceNumber),i.Vs.addTargetData(n,s).next(()=>s))))}).then(n=>{const s=i.$i.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(i.$i=i.$i.insert(n.targetId,n),i.Bi.set(e,n.targetId)),n})}async function xo(r,e,i){const n=K(r),s=n.$i.get(e),o=i?"readwrite":"readwrite-primary";try{i||await n.persistence.runTransaction("Release target",o,a=>n.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Ct(a))throw a;M("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.$i=n.$i.remove(e),n.Bi.delete(s.target)}function No(r,e,i){const n=K(r);let s=ct.min(),o=ws();return n.persistence.runTransaction("Execute query","readonly",a=>function(c,u,f){const d=K(c),m=d.Bi.get(f);return m!==void 0?Pt.resolve(d.$i.get(m)):d.Vs.getTargetData(u,f)}(n,a,ln(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,n.Vs.getMatchingKeysForTargetId(a,c.targetId).next(u=>{o=u})}).next(()=>n.Fi.getDocumentsMatchingQuery(a,e,i?s:ct.min(),i?o:ws())).next(c=>(Mo(n,gn(e),c),{documents:c,ji:o})))}function Mo(r,e,i){let n=ct.min();i.forEach((s,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),r.Li.set(e,n)}class jo{constructor(){this.activeTargetIds=gs()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zo{constructor(){this.Fr=new jo,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,n){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,i,n){this.$r[e]=i}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new jo,Promise.resolve()}handleUserChange(e,i,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{Br(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){M("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){M("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http";this.so=i+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,i,n,s,o){const a=this.oo(e,i);M("RestConnection","Sending: ",a,n);const c={};return this.uo(c,s,o),this.co(e,a,c,n).then(u=>(M("RestConnection","Received: ",u),u),u=>{throw $("RestConnection",`${e} failed with error: `,u,"url: ",a,"request:",n),u})}ao(e,i,n,s,o,a){return this.ro(e,i,n,s,o)}uo(e,i,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+x,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>e[o]=s),n&&n.headers.forEach((s,o)=>e[o]=s)}oo(e,i){const n=Yo[e];return`${this.so}/v1/${i}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,i,n,s){return new Promise((o,a)=>{const c=new XhrIo;c.listenOnce(EventType.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ErrorCode$1.NO_ERROR:const f=c.getResponseJson();M("Connection","XHR received:",JSON.stringify(f)),o(f);break;case ErrorCode$1.TIMEOUT:M("Connection",'RPC "'+e+'" timed out'),a(new Q(G.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode$1.HTTP_ERROR:const d=c.getStatus();if(M("Connection",'RPC "'+e+'" failed with status:',d,"response text:",c.getResponseText()),d>0){const m=c.getResponseJson().error;if(m&&m.status&&m.message){const _=function(ye){const Se=ye.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(Se)>=0?Se:G.UNKNOWN}(m.status);a(new Q(_,m.message))}else a(new Q(G.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new Q(G.UNAVAILABLE,"Connection failed."));break;default:L()}}finally{M("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(s);c.send(i,"POST",u,n,15)})}ho(e,i,n){const s=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=createWebChannelTransport(),a=getStatEventTarget(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(c.xmlHttpFactory=new FetchXmlHttpFactory({})),this.uo(c.initMessageHeaders,i,n),isMobileCordova()||isReactNative()||isElectron()||isIE()||isUWP()||isBrowserExtension()||(c.httpHeadersOverwriteParam="$httpHeaders");const u=s.join("");M("Connection","Creating WebChannel: "+u,c);const f=o.createWebChannel(u,c);let d=!1,m=!1;const _=new Xo({jr:Se=>{m?M("Connection","Not sending because WebChannel is closed:",Se):(d||(M("Connection","Opening WebChannel transport."),f.open(),d=!0),M("Connection","WebChannel sending:",Se),f.send(Se))},Wr:()=>f.close()}),ye=(Se,Ce,Le)=>{Se.listen(Ce,he=>{try{Le(he)}catch(g){setTimeout(()=>{throw g},0)}})};return ye(f,WebChannel.EventType.OPEN,()=>{m||M("Connection","WebChannel transport opened.")}),ye(f,WebChannel.EventType.CLOSE,()=>{m||(m=!0,M("Connection","WebChannel transport closed"),_.eo())}),ye(f,WebChannel.EventType.ERROR,Se=>{m||(m=!0,$("Connection","WebChannel transport errored:",Se),_.eo(new Q(G.UNAVAILABLE,"The operation could not be completed")))}),ye(f,WebChannel.EventType.MESSAGE,Se=>{var Ce;if(!m){const Le=Se.data[0];U(!!Le);const he=Le,g=he.error||((Ce=he[0])===null||Ce===void 0?void 0:Ce.error);if(g){M("Connection","WebChannel received error:",g);const b=g.status;let ve=function(Be){const Ve=ts[Be];if(Ve!==void 0)return ss(Ve)}(b),Pe=g.message;ve===void 0&&(ve=G.INTERNAL,Pe="Unknown error status: "+b+" with message "+g.message),m=!0,_.eo(new Q(ve,Pe)),f.close()}else M("Connection","WebChannel received:",Le),_.no(Le)}}),ye(a,Event$1.STAT_EVENT,Se=>{Se.stat===Stat.PROXY?M("Connection","Detected buffering proxy"):Se.stat===Stat.NOPROXY&&M("Connection","Detected no buffering proxy")}),setTimeout(()=>{_.Zr()},0),_}}function eu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(r){return new Ss(r,!0)}class su{constructor(e,i,n=1e3,s=1.5,o=6e4){this.js=e,this.timerId=i,this.lo=n,this.fo=s,this._o=o,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const i=Math.floor(this.wo+this.To()),n=Math.max(0,Date.now()-this.yo),s=Math.max(0,i-n);s>0&&M("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.wo} ms, delay with jitter: ${i} ms, last attempt: ${n} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,s,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){this.mo!==null&&(this.mo.skipDelay(),this.mo=null)}cancel(){this.mo!==null&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,i,n,s,o,a,c,u){this.js=e,this.Ao=n,this.Ro=s,this.bo=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new su(e,i)}Do(){return this.state===1||this.state===5||this.Co()}Co(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.xo()}async stop(){this.Do()&&await this.close(0)}No(){this.state=0,this.So.reset()}ko(){this.Co()&&this.vo===null&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}async Oo(){if(this.Co())return this.close(0)}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}async close(e,i){this.Fo(),this.$o(),this.So.cancel(),this.Po++,e!==4?this.So.reset():i&&i.code===G.RESOURCE_EXHAUSTED?(F(i.toString()),F("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):i&&i.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Bo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Jr(i)}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),i=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.Po===i&&this.Uo(n,s)},n=>{e(()=>{const s=new Q(G.UNKNOWN,"Fetching auth token failed: "+n.message);return this.qo(s)})})}Uo(e,i){const n=this.Lo(this.Po);this.stream=this.Ko(e,i),this.stream.zr(()=>{n(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(s=>{n(()=>this.qo(s))}),this.stream.onMessage(s=>{n(()=>this.onMessage(s))})}xo(){this.state=5,this.So.Io(async()=>{this.state=0,this.start()})}qo(e){return M("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return i=>{this.js.enqueueAndForget(()=>this.Po===e?i():(M("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ru extends iu{constructor(e,i,n,s,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,n,s,a),this.wt=o}Ko(e,i){return this.bo.ho("Listen",e,i)}onMessage(e){this.So.reset();const i=Qs(this.wt,e),n=function(s){if(!("targetChange"in s))return ct.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ct.min():o.readTime?Ns(o.readTime):ct.min()}(e);return this.listener.Go(i,n)}Qo(e){const i={};i.database=Ls(this.wt),i.addTarget=function(s,o){let a;const c=o.target;return a=$e(c)?{documents:Hs(s,c)}:{query:Js(s,c)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?a.resumeToken=Cs(s,o.resumeToken):o.snapshotVersion.compareTo(ct.min())>0&&(a.readTime=Ds(s,o.snapshotVersion.toTimestamp())),a}(this.wt,e);const n=Xs(this.wt,e);n&&(i.labels=n),this.Mo(i)}jo(e){const i={};i.database=Ls(this.wt),i.removeTarget=e,this.Mo(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends class{}{constructor(e,i,n,s){super(),this.authCredentials=e,this.appCheckCredentials=i,this.bo=n,this.wt=s,this.Zo=!1}tu(){if(this.Zo)throw new Q(G.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,i,n){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.bo.ro(e,i,n,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(G.UNKNOWN,s.toString())})}ao(e,i,n,s){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.bo.ao(e,i,n,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(G.UNKNOWN,o.toString())})}terminate(){this.Zo=!0}}class cu{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){this.eu===0&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){this.state==="Online"?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,e==="Online"&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(F(i),this.su=!1):M("OnlineStateTracker",i)}cu(){this.nu!==null&&(this.nu.cancel(),this.nu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,i,n,s,o){this.localStore=e,this.datastore=i,this.asyncQueue=n,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=o,this.du.Br(a=>{n.enqueueAndForget(async()=>{yu(this)&&(M("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=K(c);u.lu.add(4),await lu(u),u._u.set("Unknown"),u.lu.delete(4),await hu(u)}(this))})}),this._u=new cu(n,s)}}async function hu(r){if(yu(r))for(const e of r.fu)await e(!0)}async function lu(r){for(const e of r.fu)await e(!1)}function fu(r,e){const i=K(r);i.hu.has(e.targetId)||(i.hu.set(e.targetId,e),gu(i)?mu(i):Mu(i).Co()&&_u(i,e))}function du(r,e){const i=K(r),n=Mu(i);i.hu.delete(e),n.Co()&&wu(i,e),i.hu.size===0&&(n.Co()?n.ko():yu(i)&&i._u.set("Unknown"))}function _u(r,e){r.wu.Nt(e.targetId),Mu(r).Qo(e)}function wu(r,e){r.wu.Nt(e),Mu(r).jo(e)}function mu(r){r.wu=new Rs({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),te:e=>r.hu.get(e)||null}),Mu(r).start(),r._u.iu()}function gu(r){return yu(r)&&!Mu(r).Do()&&r.hu.size>0}function yu(r){return K(r).lu.size===0}function pu(r){r.wu=void 0}async function Iu(r){r.hu.forEach((e,i)=>{_u(r,e)})}async function Tu(r,e){pu(r),gu(r)?(r._u.uu(e),mu(r)):r._u.set("Unknown")}async function Eu(r,e,i){if(r._u.set("Online"),e instanceof Es&&e.state===2&&e.cause)try{await async function(n,s){const o=s.cause;for(const a of s.targetIds)n.hu.has(a)&&(await n.remoteSyncer.rejectListen(a,o),n.hu.delete(a),n.wu.removeTarget(a))}(r,e)}catch(n){M("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Au(r,n)}else if(e instanceof Is?r.wu.Ut(e):e instanceof Ts?r.wu.zt(e):r.wu.Gt(e),!i.isEqual(ct.min()))try{const n=await vo(r.localStore);i.compareTo(n)>=0&&await function(s,o){const a=s.wu.Yt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.hu.get(u);f&&s.hu.set(u,f.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach(c=>{const u=s.hu.get(c);if(!u)return;s.hu.set(c,u.withResumeToken(Jt.EMPTY_BYTE_STRING,u.snapshotVersion)),wu(s,c);const f=new Li(u.target,c,1,u.sequenceNumber);_u(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(r,i)}catch(n){M("RemoteStore","Failed to raise snapshot:",n),await Au(r,n)}}async function Au(r,e,i){if(!Ct(e))throw e;r.lu.add(1),await lu(r),r._u.set("Offline"),i||(i=()=>vo(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{M("RemoteStore","Retrying IndexedDB access"),await i(),r.lu.delete(1),await hu(r)})}async function ku(r,e){const i=K(r);i.asyncQueue.verifyOperationInProgress(),M("RemoteStore","RemoteStore received new credentials");const n=yu(i);i.lu.add(3),await lu(i),n&&i._u.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.lu.delete(3),await hu(i)}async function Ou(r,e){const i=K(r);e?(i.lu.delete(2),await hu(i)):e||(i.lu.add(2),await lu(i),i._u.set("Unknown"))}function Mu(r){return r.mu||(r.mu=function(e,i,n){const s=K(e);return s.tu(),new ru(i,s.bo,s.authCredentials,s.appCheckCredentials,s.wt,n)}(r.datastore,r.asyncQueue,{zr:Iu.bind(null,r),Jr:Tu.bind(null,r),Go:Eu.bind(null,r)}),r.fu.push(async e=>{e?(r.mu.No(),gu(r)?mu(r):r._u.set("Unknown")):(await r.mu.stop(),pu(r))})),r.mu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,i,n,s,o){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=n,this.op=s,this.removalCallback=o,this.deferred=new j,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(e,i,n,s,o){const a=Date.now()+n,c=new $u(e,i,a,s,o);return c.start(n),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bu(r,e){if(F("AsyncQueue",`${e}: ${r}`),Ct(r))return new Q(G.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e){this.comparator=e?(i,n)=>e(i,n)||dt.comparator(i.key,n.key):(i,n)=>dt.comparator(i.key,n.key),this.keyedMap=cs(),this.sortedSet=new qt(this.comparator)}static emptySet(e){return new Lu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,n)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Lu)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;i.hasNext();){const s=i.getNext().key,o=n.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const n=new Lu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=i,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(){this.yu=new qt(dt.comparator)}track(e){const i=e.doc.key,n=this.yu.get(i);n?e.type!==0&&n.type===3?this.yu=this.yu.insert(i,e):e.type===3&&n.type!==1?this.yu=this.yu.insert(i,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.yu=this.yu.insert(i,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.yu=this.yu.insert(i,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.yu=this.yu.remove(i):e.type===1&&n.type===2?this.yu=this.yu.insert(i,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.yu=this.yu.insert(i,{type:2,doc:e.doc}):L():this.yu=this.yu.insert(i,e)}pu(){const e=[];return this.yu.inorderTraversal((i,n)=>{e.push(n)}),e}}class qu{constructor(e,i,n,s,o,a,c,u){this.query=e,this.docs=i,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=u}static fromInitialDocuments(e,i,n,s){const o=[];return i.forEach(a=>{o.push({type:0,doc:a})}),new qu(e,i,Lu.emptySet(i),o,n,s,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,n=e.docChanges;if(i.length!==n.length)return!1;for(let s=0;s<i.length;s++)if(i[s].type!==n[s].type||!i[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(){this.Iu=void 0,this.listeners=[]}}class Gu{constructor(){this.queries=new is(e=>_n(e),dn),this.onlineState="Unknown",this.Tu=new Set}}async function Qu(r,e){const i=K(r),n=e.query;let s=!1,o=i.queries.get(n);if(o||(s=!0,o=new Ku),s)try{o.Iu=await i.onListen(n)}catch(a){const c=Bu(a,`Initialization of query '${wn(e.query)}' failed`);return void e.onError(c)}i.queries.set(n,o),o.listeners.push(e),e.Eu(i.onlineState),o.Iu&&e.Au(o.Iu)&&Hu(i)}async function ju(r,e){const i=K(r),n=e.query;let s=!1;const o=i.queries.get(n);if(o){const a=o.listeners.indexOf(e);a>=0&&(o.listeners.splice(a,1),s=o.listeners.length===0)}if(s)return i.queries.delete(n),i.onUnlisten(n)}function Wu(r,e){const i=K(r);let n=!1;for(const s of e){const o=s.query,a=i.queries.get(o);if(a){for(const c of a.listeners)c.Au(s)&&(n=!0);a.Iu=s}}n&&Hu(i)}function zu(r,e,i){const n=K(r),s=n.queries.get(e);if(s)for(const o of s.listeners)o.onError(i);n.queries.delete(e)}function Hu(r){r.Tu.forEach(e=>{e.next()})}class Ju{constructor(e,i,n){this.query=e,this.Ru=i,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=n||{}}Au(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new qu(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let i=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),i=!0):this.Vu(e,this.onlineState)&&(this.Su(e),i=!0),this.Pu=e,i}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let i=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),i=!0),i}Vu(e,i){if(!e.fromCache)return!0;const n=i!=="Offline";return(!this.options.Du||!n)&&(!e.docs.isEmpty()||i==="Offline")}vu(e){if(e.docChanges.length>0)return!0;const i=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Su(e){e=qu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e){this.key=e}}class nc{constructor(e){this.key=e}}class sc{constructor(e,i){this.query=e,this.Fu=i,this.$u=null,this.current=!1,this.Bu=ws(),this.mutatedKeys=ws(),this.Lu=yn(e),this.Uu=new Lu(this.Lu)}get qu(){return this.Fu}Ku(e,i){const n=i?i.Gu:new Uu,s=i?i.Uu:this.Uu;let o=i?i.mutatedKeys:this.mutatedKeys,a=s,c=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,m)=>{const _=s.get(d),ye=mn(this.query,m)?m:null,Se=!!_&&this.mutatedKeys.has(_.key),Ce=!!ye&&(ye.hasLocalMutations||this.mutatedKeys.has(ye.key)&&ye.hasCommittedMutations);let Le=!1;_&&ye?_.data.isEqual(ye.data)?Se!==Ce&&(n.track({type:3,doc:ye}),Le=!0):this.Qu(_,ye)||(n.track({type:2,doc:ye}),Le=!0,(u&&this.Lu(ye,u)>0||f&&this.Lu(ye,f)<0)&&(c=!0)):!_&&ye?(n.track({type:0,doc:ye}),Le=!0):_&&!ye&&(n.track({type:1,doc:_}),Le=!0,(u||f)&&(c=!0)),Le&&(ye?(a=a.add(ye),o=Ce?o.add(d):o.delete(d)):(a=a.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),o=o.delete(d.key),n.track({type:1,doc:d})}return{Uu:a,Gu:n,Oi:c,mutatedKeys:o}}Qu(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,n){const s=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const o=e.Gu.pu();o.sort((f,d)=>function(m,_){const ye=Se=>{switch(Se){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return L()}};return ye(m)-ye(_)}(f.type,d.type)||this.Lu(f.doc,d.doc)),this.ju(n);const a=i?this.Wu():[],c=this.Bu.size===0&&this.current?1:0,u=c!==this.$u;return this.$u=c,o.length!==0||u?{snapshot:new qu(this.query,e.Uu,s,o,e.mutatedKeys,c===0,u,!1),zu:a}:{zu:a}}Eu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new Uu,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(i=>this.Fu=this.Fu.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Fu=this.Fu.delete(i)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=ws(),this.Uu.forEach(n=>{this.Hu(n.key)&&(this.Bu=this.Bu.add(n.key))});const i=[];return e.forEach(n=>{this.Bu.has(n)||i.push(new nc(n))}),this.Bu.forEach(n=>{e.has(n)||i.push(new ec(n))}),i}Ju(e){this.Fu=e.ji,this.Bu=ws();const i=this.Ku(e.documents);return this.applyChanges(i,!0)}Yu(){return qu.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,this.$u===0)}}class ic{constructor(e,i,n){this.query=e,this.targetId=i,this.view=n}}class rc{constructor(e){this.key=e,this.Xu=!1}}class oc{constructor(e,i,n,s,o,a){this.localStore=e,this.remoteStore=i,this.eventManager=n,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Zu={},this.tc=new is(c=>_n(c),dn),this.ec=new Map,this.nc=new Set,this.sc=new qt(dt.comparator),this.ic=new Map,this.rc=new io,this.oc={},this.uc=new Map,this.cc=kr.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return this.ac===!0}}async function uc(r,e){const i=Mc(r);let n,s;const o=i.tc.get(e);if(o)n=o.targetId,i.sharedClientState.addLocalQueryTarget(n),s=o.view.Yu();else{const a=await Co(i.localStore,ln(e));i.isPrimaryClient&&fu(i.remoteStore,a);const c=i.sharedClientState.addLocalQueryTarget(a.targetId);n=a.targetId,s=await cc(i,e,n,c==="current")}return s}async function cc(r,e,i,n){r.hc=(d,m,_)=>async function(ye,Se,Ce,Le){let he=Se.view.Ku(Ce);he.Oi&&(he=await No(ye.localStore,Se.query,!1).then(({documents:ve})=>Se.view.Ku(ve,he)));const g=Le&&Le.targetChanges.get(Se.targetId),b=Se.view.applyChanges(he,ye.isPrimaryClient,g);return Tc(ye,Se.targetId,b.zu),b.snapshot}(r,d,m,_);const s=await No(r.localStore,e,!0),o=new sc(e,s.ji),a=o.Ku(s.documents),c=ps.createSynthesizedTargetChangeForCurrentChange(i,n&&r.onlineState!=="Offline"),u=o.applyChanges(a,r.isPrimaryClient,c);Tc(r,i,u.zu);const f=new ic(e,i,o);return r.tc.set(e,f),r.ec.has(i)?r.ec.get(i).push(e):r.ec.set(i,[e]),u.snapshot}async function ac(r,e){const i=K(r),n=i.tc.get(e),s=i.ec.get(n.targetId);if(s.length>1)return i.ec.set(n.targetId,s.filter(o=>!dn(o,e))),void i.tc.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(n.targetId),i.sharedClientState.isActiveQueryTarget(n.targetId)||await xo(i.localStore,n.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(n.targetId),du(i.remoteStore,n.targetId),pc(i,n.targetId)}).catch(bt)):(pc(i,n.targetId),await xo(i.localStore,n.targetId,!0))}async function lc(r,e){const i=K(r);try{const n=await Vo(i.localStore,e);e.targetChanges.forEach((s,o)=>{const a=i.ic.get(o);a&&(U(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.Xu=!0:s.modifiedDocuments.size>0?U(a.Xu):s.removedDocuments.size>0&&(U(a.Xu),a.Xu=!1))}),await Rc(i,n,e)}catch(n){await bt(n)}}function fc(r,e,i){const n=K(r);if(n.isPrimaryClient&&i===0||!n.isPrimaryClient&&i===1){const s=[];n.tc.forEach((o,a)=>{const c=a.view.Eu(e);c.snapshot&&s.push(c.snapshot)}),function(o,a){const c=K(o);c.onlineState=a;let u=!1;c.queries.forEach((f,d)=>{for(const m of d.listeners)m.Eu(a)&&(u=!0)}),u&&Hu(c)}(n.eventManager,e),s.length&&n.Zu.Go(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function dc(r,e,i){const n=K(r);n.sharedClientState.updateQueryState(e,"rejected",i);const s=n.ic.get(e),o=s&&s.key;if(o){let a=new qt(dt.comparator);a=a.insert(o,xe.newNoDocument(o,ct.min()));const c=ws().add(o),u=new ys(ct.min(),new Map,new Qt(it),a,c);await lc(n,u),n.sc=n.sc.remove(o),n.ic.delete(e),Ac(n)}else await xo(n.localStore,e,!1).then(()=>pc(n,e,i)).catch(bt)}function pc(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.ec.get(e))r.tc.delete(n),i&&r.Zu.lc(n,i);r.ec.delete(e),r.isPrimaryClient&&r.rc.us(e).forEach(n=>{r.rc.containsKey(n)||Ic(r,n)})}function Ic(r,e){r.nc.delete(e.path.canonicalString());const i=r.sc.get(e);i!==null&&(du(r.remoteStore,i),r.sc=r.sc.remove(e),r.ic.delete(i),Ac(r))}function Tc(r,e,i){for(const n of i)n instanceof ec?(r.rc.addReference(n.key,e),Ec(r,n)):n instanceof nc?(M("SyncEngine","Document no longer in limbo: "+n.key),r.rc.removeReference(n.key,e),r.rc.containsKey(n.key)||Ic(r,n.key)):L()}function Ec(r,e){const i=e.key,n=i.path.canonicalString();r.sc.get(i)||r.nc.has(n)||(M("SyncEngine","New document in limbo: "+i),r.nc.add(n),Ac(r))}function Ac(r){for(;r.nc.size>0&&r.sc.size<r.maxConcurrentLimboResolutions;){const e=r.nc.values().next().value;r.nc.delete(e);const i=new dt(ht.fromString(e)),n=r.cc.next();r.ic.set(n,new rc(i)),r.sc=r.sc.insert(i,n),fu(r.remoteStore,new Li(ln(rn(i.path)),n,2,$t.ot))}}async function Rc(r,e,i){const n=K(r),s=[],o=[],a=[];n.tc.isEmpty()||(n.tc.forEach((c,u)=>{a.push(n.hc(u,e,i).then(f=>{if(f){n.isPrimaryClient&&n.sharedClientState.updateQueryState(u.targetId,f.fromCache?"not-current":"current"),s.push(f);const d=To.Vi(u.targetId,f);o.push(d)}}))}),await Promise.all(a),n.Zu.Go(s),await async function(c,u){const f=K(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Pt.forEach(u,m=>Pt.forEach(m.Pi,_=>f.persistence.referenceDelegate.addReference(d,m.targetId,_)).next(()=>Pt.forEach(m.vi,_=>f.persistence.referenceDelegate.removeReference(d,m.targetId,_)))))}catch(d){if(!Ct(d))throw d;M("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const m=d.targetId;if(!d.fromCache){const _=f.$i.get(m),ye=_.snapshotVersion,Se=_.withLastLimboFreeSnapshotVersion(ye);f.$i=f.$i.insert(m,Se)}}}(n.localStore,o))}async function bc(r,e){const i=K(r);if(!i.currentUser.isEqual(e)){M("SyncEngine","User change. New user:",e.toKey());const n=await bo(i.localStore,e);i.currentUser=e,function(s,o){s.uc.forEach(a=>{a.forEach(c=>{c.reject(new Q(G.CANCELLED,o))})}),s.uc.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Rc(i,n.Ki)}}function Pc(r,e){const i=K(r),n=i.ic.get(e);if(n&&n.Xu)return ws().add(n.key);{let s=ws();const o=i.ec.get(e);if(!o)return s;for(const a of o){const c=i.tc.get(a);s=s.unionWith(c.view.qu)}return s}}function Mc(r){const e=K(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=lc.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Pc.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dc.bind(null,e),e.Zu.Go=Wu.bind(null,e.eventManager),e.Zu.lc=zu.bind(null,e.eventManager),e}class Bc{constructor(){this.synchronizeTabs=!1}async initialize(e){this.wt=nu(e.databaseInfo.databaseId),this.sharedClientState=this.dc(e),this.persistence=this._c(e),await this.persistence.start(),this.localStore=this.wc(e),this.gcScheduler=this.mc(e,this.localStore),this.indexBackfillerScheduler=this.gc(e,this.localStore)}mc(e,i){return null}gc(e,i){return null}wc(e){return Ro(this.persistence,new Eo,e.initialUser,this.wt)}_c(e){return new ho(fo.Ms,this.wt)}dc(e){return new zo}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class qc{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>fc(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=bc.bind(null,this.syncEngine),await Ou(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Gu}createDatastore(e){const i=nu(e.databaseInfo.databaseId),n=(s=e.databaseInfo,new Zo(s));var s;return function(o,a,c,u){return new uu(o,a,c,u)}(e.authCredentials,e.appCheckCredentials,n,i)}createRemoteStore(e){return i=this.localStore,n=this.datastore,s=e.asyncQueue,o=c=>fc(this.syncEngine,c,0),a=Jo.V()?new Jo:new Ho,new au(i,n,s,o,a);var i,n,s,o,a}createSyncEngine(e,i){return function(n,s,o,a,c,u,f){const d=new oc(n,s,o,a,c,u);return f&&(d.ac=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}terminate(){return async function(e){const i=K(e);M("RemoteStore","RemoteStore shutting down."),i.lu.add(5),await lu(i),i.du.shutdown(),i._u.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,i){this.muted||setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Q(G.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=await async function(n,s){const o=K(n),a=Ls(o.wt)+"/documents",c={documents:s.map(m=>Ms(o.wt,m))},u=await o.ao("BatchGetDocuments",a,c,s.length),f=new Map;u.forEach(m=>{const _=Gs(o.wt,m);f.set(_.key.toString(),_)});const d=[];return s.forEach(m=>{const _=f.get(m.toString());U(!!_),d.push(_)}),d}(this.datastore,e);return i.forEach(n=>this.recordVersion(n)),i}set(e,i){this.write(i.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,i){try{this.write(i.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new Yn(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,n)=>{const s=dt.fromPath(n);this.mutations.push(new Xn(s,this.precondition(s)))}),await async function(i,n){const s=K(i),o=Ls(s.wt)+"/documents",a={writes:n.map(c=>js(s.wt,c))};await s.ro("Commit",o,a)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let i;if(e.isFoundDocument())i=e.version;else{if(!e.isNoDocument())throw L();i=ct.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!i.isEqual(n))throw new Q(G.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),i)}precondition(e){const i=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&i?$n.updateTime(i):$n.none()}preconditionForUpdate(e){const i=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&i){if(i.isEqual(ct.min()))throw new Q(G.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $n.updateTime(i)}return $n.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,i,n,s,o){this.asyncQueue=e,this.datastore=i,this.options=n,this.updateFunction=s,this.deferred=o,this.Dc=n.maxAttempts,this.So=new su(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){this.So.Io(async()=>{const e=new jc(this.datastore),i=this.xc(e);i&&i.then(n=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(n)}).catch(s=>{this.Nc(s)}))}).catch(n=>{this.Nc(n)})})}xc(e){try{const i=this.updateFunction(e);return!oe(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if(e.name==="FirebaseError"){const i=e.code;return i==="aborted"||i==="failed-precondition"||!ns(i)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,i,n,s){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=n,this.databaseInfo=s,this.user=C.UNAUTHENTICATED,this.clientId=st.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async o=>{M("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(M("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Q(G.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new j;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const n=Bu(i,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Hc(r,e){r.asyncQueue.verifyOperationInProgress(),M("FirestoreClient","Initializing OfflineComponentProvider");const i=await r.getConfiguration();await e.initialize(i);let n=i.initialUser;r.setCredentialChangeListener(async s=>{n.isEqual(s)||(await bo(e.localStore,s),n=s)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=e}async function Jc(r,e){r.asyncQueue.verifyOperationInProgress();const i=await Yc(r);M("FirestoreClient","Initializing OnlineComponentProvider");const n=await r.getConfiguration();await e.initialize(i,n),r.setCredentialChangeListener(s=>ku(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>ku(e.remoteStore,o)),r.onlineComponents=e}async function Yc(r){return r.offlineComponents||(M("FirestoreClient","Using default OfflineComponentProvider"),await Hc(r,new Bc)),r.offlineComponents}async function Xc(r){return r.onlineComponents||(M("FirestoreClient","Using default OnlineComponentProvider"),await Jc(r,new qc)),r.onlineComponents}async function sa(r){const e=await Xc(r),i=e.eventManager;return i.onListen=uc.bind(null,e.syncEngine),i.onUnlisten=ac.bind(null,e.syncEngine),i}function la(r,e,i){const n=new j;return r.asyncQueue.enqueueAndForget(async()=>{const s=await function(o){return Xc(o).then(a=>a.datastore)}(r);new Wc(r.asyncQueue,s,i,e,n).run()}),n.promise}const _a=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(r,e,i){if(!i)throw new Q(G.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function ma(r,e,i,n){if(e===!0&&n===!0)throw new Q(G.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function ga(r){if(!dt.isDocumentKey(r))throw new Q(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function ya(r){if(dt.isDocumentKey(r))throw new Q(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function pa(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":L()}function Ia(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Q(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=pa(r);throw new Q(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){var i;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(i=e.ssl)===null||i===void 0||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,ma("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,i,n){this._authCredentials=i,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ea({}),this._settingsFrozen=!1,e instanceof re?this._databaseId=e:(this._app=e,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Q(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new re(s.options.projectId)}(e))}get app(){if(!this._app)throw new Q(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Q(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ea(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new z;switch(i.type){case"gapi":const n=i.client;return U(!(typeof n!="object"||n===null||!n.auth||!n.auth.getAuthHeaderValueForFirstParty)),new X(n,i.sessionIndex||"0",i.iamToken||null);case"provider":return i.client;default:throw new Q(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=_a.get(e);i&&(M("ComponentProvider","Removing Datastore"),_a.delete(e),i.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,i,n){this.converter=i,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ba(this.firestore,e,this._key)}}class Pa{constructor(e,i,n){this.converter=i,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Pa(this.firestore,e,this._query)}}class va extends Pa{constructor(e,i,n){super(e,i,rn(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ba(this.firestore,null,new dt(e))}withConverter(e){return new va(this.firestore,e,this._path)}}function Va(r,e,...i){if(r=getModularInstance(r),wa("collection","path",e),r instanceof Aa){const n=ht.fromString(e,...i);return ya(n),new va(r,null,n)}{if(!(r instanceof ba||r instanceof va))throw new Q(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(ht.fromString(e,...i));return ya(n),new va(r.firestore,null,n)}}function Da(r,e,...i){if(r=getModularInstance(r),arguments.length===1&&(e=st.I()),wa("doc","path",e),r instanceof Aa){const n=ht.fromString(e,...i);return ga(n),new ba(r,null,new dt(n))}{if(!(r instanceof ba||r instanceof va))throw new Q(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(ht.fromString(e,...i));return ga(n),new ba(r.firestore,r instanceof va?r.converter:null,new dt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new su(this,"async_queue_retry"),this.Kc=()=>{const i=eu();i&&M("AsyncQueue","Visibility state changed to "+i.visibilityState),this.So.Eo()};const e=eu();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const i=eu();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const i=new j;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}async jc(){if(this.Mc.length!==0){try{await this.Mc[0](),this.Mc.shift(),this.So.reset()}catch(e){if(!Ct(e))throw e;M("AsyncQueue","Operation failed with retryable error: "+e)}this.Mc.length>0&&this.So.Io(()=>this.jc())}}Qc(e){const i=this.Oc.then(()=>(this.Lc=!0,e().catch(n=>{this.Bc=n,this.Lc=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(n);throw F("INTERNAL UNHANDLED ERROR: ",s),n}).then(n=>(this.Lc=!1,n))));return this.Oc=i,i}enqueueAfterDelay(e,i,n){this.Gc(),this.qc.indexOf(e)>-1&&(i=0);const s=$u.createAndSchedule(this,e,i,n,o=>this.Wc(o));return this.$c.push(s),s}Gc(){this.Bc&&L()}verifyOperationInProgress(){}async zc(){let e;do e=this.Oc,await e;while(e!==this.Oc)}Hc(e){for(const i of this.$c)if(i.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((i,n)=>i.targetTimeMs-n.targetTimeMs);for(const i of this.$c)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const i=this.$c.indexOf(e);this.$c.splice(i,1)}}function ka(r){return function(e,i){if(typeof e!="object"||e===null)return!1;const n=e;for(const s of i)if(s in n&&typeof n[s]=="function")return!0;return!1}(r,["next","error","complete"])}class Fa extends Aa{constructor(e,i,n){super(e,i,n),this.type="firestore",this._queue=new Na,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Ua(this),this._firestoreClient.terminate()}}function Ba(r=getApp()){return _getProvider(r,"firestore").getImmediate()}function La(r){return r._firestoreClient||Ua(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function Ua(r){var e;const i=r._freezeSettings(),n=function(s,o,a,c){return new ie(s,o,a,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,c.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,i);r._firestoreClient=new zc(r._authCredentials,r._appCheckCredentials,r._queue,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new Q(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new eh(Jt.fromBase64String(e))}catch(i){throw new Q(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new eh(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new Q(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new Q(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=/^__.*__$/;class rh{constructor(e,i,n){this.data=e,this.fieldMask=i,this.fieldTransforms=n}toMutation(e,i){return this.fieldMask!==null?new Wn(e,this.data,this.fieldMask,i,this.fieldTransforms):new jn(e,this.data,i,this.fieldTransforms)}}class oh{constructor(e,i,n){this.data=e,this.fieldMask=i,this.fieldTransforms=n}toMutation(e,i){return new Wn(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function uh(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw L()}}class ch{constructor(e,i,n,s,o,a){this.settings=e,this.databaseId=i,this.wt=n,this.ignoreUndefinedProperties=s,o===void 0&&this.Xc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new ch(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var i;const n=(i=this.path)===null||i===void 0?void 0:i.child(e),s=this.ta({path:n,na:!1});return s.sa(e),s}ia(e){var i;const n=(i=this.path)===null||i===void 0?void 0:i.child(e),s=this.ta({path:n,na:!1});return s.Xc(),s}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return Vh(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(e.length===0)throw this.oa("Document fields must not be empty");if(uh(this.Zc)&&ih.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class ah{constructor(e,i,n){this.databaseId=e,this.ignoreUndefinedProperties=i,this.wt=n||nu(e)}aa(e,i,n,s=!1){return new ch({Zc:e,methodName:i,ca:n,path:ft.emptyPath(),na:!1,ua:s},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function hh(r){const e=r._freezeSettings(),i=nu(r._databaseId);return new ah(r._databaseId,!!e.ignoreUndefinedProperties,i)}function lh(r,e,i,n,s,o={}){const a=r.aa(o.merge||o.mergeFields?2:0,e,i,s);Rh("Data must be an object, but it was:",a,n);const c=Eh(n,a);let u,f;if(o.merge)u=new zt(a.fieldMask),f=a.fieldTransforms;else if(o.mergeFields){const d=[];for(const m of o.mergeFields){const _=bh(e,m,i);if(!a.contains(_))throw new Q(G.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);Sh(d,_)||d.push(_)}u=new zt(d),f=a.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,f=a.fieldTransforms;return new rh(new De(c),u,f)}class fh extends nh{_toFieldTransform(e){if(e.Zc!==2)throw e.Zc===1?e.oa(`${this._methodName}() can only appear at the top level of your update data`):e.oa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fh}}function yh(r,e,i,n){const s=r.aa(1,e,i);Rh("Data must be an object, but it was:",s,n);const o=[],a=De.empty();Lt(n,(u,f)=>{const d=vh(e,u,i);f=getModularInstance(f);const m=s.ia(d);if(f instanceof fh)o.push(d);else{const _=Th(f,m);_!=null&&(o.push(d),a.set(d,_))}});const c=new zt(o);return new oh(a,c,s.fieldTransforms)}function ph(r,e,i,n,s,o){const a=r.aa(1,e,i),c=[bh(e,n,i)],u=[s];if(o.length%2!=0)throw new Q(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)c.push(bh(e,o[_])),u.push(o[_+1]);const f=[],d=De.empty();for(let _=c.length-1;_>=0;--_)if(!Sh(f,c[_])){const ye=c[_];let Se=u[_];Se=getModularInstance(Se);const Ce=a.ia(ye);if(Se instanceof fh)f.push(ye);else{const Le=Th(Se,Ce);Le!=null&&(f.push(ye),d.set(ye,Le))}}const m=new zt(f);return new oh(d,m,a.fieldTransforms)}function Th(r,e){if(Ah(r=getModularInstance(r)))return Rh("Unsupported field value:",e,r),Eh(r,e);if(r instanceof nh)return function(i,n){if(!uh(n.Zc))throw n.oa(`${i._methodName}() can only be used with update() and set()`);if(!n.path)throw n.oa(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(n);s&&n.fieldTransforms.push(s)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.na&&e.Zc!==4)throw e.oa("Nested arrays are not supported");return function(i,n){const s=[];let o=0;for(const a of i){let c=Th(a,n.ra(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(r,e)}return function(i,n){if((i=getModularInstance(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return En(n.wt,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=ut.fromDate(i);return{timestampValue:Ds(n.wt,s)}}if(i instanceof ut){const s=new ut(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ds(n.wt,s)}}if(i instanceof sh)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof eh)return{bytesValue:Cs(n.wt,i._byteString)};if(i instanceof ba){const s=n.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw n.oa(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ks(i.firestore._databaseId||n.databaseId,i._key.path)}}throw n.oa(`Unsupported field value: ${pa(i)}`)}(r,e)}function Eh(r,e){const i={};return Ut(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lt(r,(n,s)=>{const o=Th(s,e.ea(n));o!=null&&(i[n]=o)}),{mapValue:{fields:i}}}function Ah(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ut||r instanceof sh||r instanceof eh||r instanceof ba||r instanceof nh)}function Rh(r,e,i){if(!Ah(i)||!function(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}(i)){const n=pa(i);throw n==="an object"?e.oa(r+" a custom object"):e.oa(r+" "+n)}}function bh(r,e,i){if((e=getModularInstance(e))instanceof Za)return e._internalPath;if(typeof e=="string")return vh(r,e);throw Vh("Field path arguments must be of type string or ",r,!1,void 0,i)}const Ph=new RegExp("[~\\*/\\[\\]]");function vh(r,e,i){if(e.search(Ph)>=0)throw Vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Za(...e.split("."))._internalPath}catch{throw Vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Vh(r,e,i,n,s){const o=n&&!n.isEmpty(),a=s!==void 0;let c=`Function ${e}() called with invalid data`;i&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||a)&&(u+=" (found",o&&(u+=` in field ${n}`),a&&(u+=` in document ${s}`),u+=")"),new Q(G.INVALID_ARGUMENT,c+r+u)}function Sh(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,i,n,s,o){this._firestore=e,this._userDataWriter=i,this._key=n,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ba(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ch(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(xh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Ch extends Dh{data(){return super.data()}}function xh(r,e){return typeof e=="string"?vh(r,e):e instanceof Za?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kh extends Dh{constructor(e,i,n,s,o,a){super(e,i,n,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const n=this._document.data.field(xh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,i.serverTimestamps)}}}class Oh extends kh{data(e={}){return super.data(e)}}class Mh{constructor(e,i,n,s){this._firestore=e,this._userDataWriter=i,this._snapshot=s,this.metadata=new Nh(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(n=>{e.call(i,new Oh(this._firestore,this._userDataWriter,n.key,n,new Nh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Q(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(n,s){if(n._snapshot.oldDocs.isEmpty()){let o=0;return n._snapshot.docChanges.map(a=>({type:"added",doc:new Oh(n._firestore,n._userDataWriter,a.doc.key,a.doc,new Nh(n._snapshot.mutatedKeys.has(a.doc.key),n._snapshot.fromCache),n.query.converter),oldIndex:-1,newIndex:o++}))}{let o=n._snapshot.oldDocs;return n._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const c=new Oh(n._firestore,n._userDataWriter,a.doc.key,a.doc,new Nh(n._snapshot.mutatedKeys.has(a.doc.key),n._snapshot.fromCache),n.query.converter);let u=-1,f=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:Fh(a.type),doc:c,oldIndex:u,newIndex:f}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Fh(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return L()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Q(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{convertValue(e,i="none"){switch(le(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(te(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 10:return this.convertObject(e.mapValue,i);default:throw L()}}convertObject(e,i){const n={};return Lt(e.fields,(s,o)=>{n[s]=this.convertValue(o,i)}),n}convertGeoPoint(e){return new sh(Zt(e.latitude),Zt(e.longitude))}convertArray(e,i){return(e.values||[]).map(n=>this.convertValue(n,i))}convertServerTimestamp(e,i){switch(i){case"previous":const n=ne(e);return n==null?null:this.convertValue(n,i);case"estimate":return this.convertTimestamp(se(e));default:return null}}convertTimestamp(e){const i=Xt(e);return new ut(i.seconds,i.nanos)}convertDocumentKey(e,i){const n=ht.fromString(e);U(ui(n));const s=new re(n.get(1),n.get(3)),o=new dt(n.popFirst(5));return s.isEqual(i)||F(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(r,e,i){let n;return n=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,n}class cl extends ol{constructor(e){super(),this.firestore=e}convertBytes(e){return new eh(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new ba(this.firestore,null,i)}}function hl(r,e){if((r=getModularInstance(r)).firestore!==e)throw new Q(G.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class fl extends ol{constructor(e){super(),this.firestore=e}convertBytes(e){return new eh(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new ba(this.firestore,null,i)}}function El(r,...e){var i,n,s;r=getModularInstance(r);let o={includeMetadataChanges:!1},a=0;typeof e[a]!="object"||ka(e[a])||(o=e[a],a++);const c={includeMetadataChanges:o.includeMetadataChanges};if(ka(e[a])){const m=e[a];e[a]=(i=m.next)===null||i===void 0?void 0:i.bind(m),e[a+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),e[a+2]=(s=m.complete)===null||s===void 0?void 0:s.bind(m)}let u,f,d;if(r instanceof ba)f=Ia(r.firestore,Fa),d=rn(r._key.path),u={next:m=>{e[a]&&e[a](bl(f,r,m))},error:e[a+1],complete:e[a+2]};else{const m=Ia(r,Pa);f=Ia(m.firestore,Fa),d=m._query;const _=new fl(f);u={next:ye=>{e[a]&&e[a](new Mh(f,_,m,ye))},error:e[a+1],complete:e[a+2]},Bh(r._query)}return function(m,_,ye,Se){const Ce=new Gc(Se),Le=new Ju(_,Ce,ye);return m.asyncQueue.enqueueAndForget(async()=>Qu(await sa(m),Le)),()=>{Ce.Tc(),m.asyncQueue.enqueueAndForget(async()=>ju(await sa(m),Le))}}(La(f),d,c,u)}function bl(r,e,i){const n=i.docs.get(e._key),s=new fl(r);return new kh(r,s,e._key,n,new Nh(i.hasPendingWrites,i.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl extends class{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=hh(e)}get(e){const i=hl(e,this._firestore),n=new cl(this._firestore);return this._transaction.lookup([i._key]).then(s=>{if(!s||s.length!==1)return L();const o=s[0];if(o.isFoundDocument())return new Dh(this._firestore,n,o.key,o,i.converter);if(o.isNoDocument())return new Dh(this._firestore,n,i._key,null,i.converter);throw L()})}set(e,i,n){const s=hl(e,this._firestore),o=ul(s.converter,i,n),a=lh(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,n);return this._transaction.set(s._key,a),this}update(e,i,n,...s){const o=hl(e,this._firestore);let a;return a=typeof(i=getModularInstance(i))=="string"||i instanceof Za?ph(this._dataReader,"Transaction.update",o._key,i,n,s):yh(this._dataReader,"Transaction.update",o._key,i),this._transaction.update(o._key,a),this}delete(e){const i=hl(e,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,i){super(e,i),this._firestore=e}get(e){const i=hl(e,this._firestore),n=new fl(this._firestore);return super.get(e).then(s=>new kh(this._firestore,n,i._key,s._document,new Nh(!1,!1),i.converter))}}function vl(r,e,i){r=Ia(r,Fa);const n=Object.assign(Object.assign({},rl),i);return function(s){if(s.maxAttempts<1)throw new Q(G.INVALID_ARGUMENT,"Max attempts must be at least 1")}(n),la(La(r),s=>e(new Pl(r,s)),n)}(function(r,e=!0){(function(i){x=i})(SDK_VERSION),_registerComponent(new Component("firestore",(i,{options:n})=>{const s=i.getProvider("app").getImmediate(),o=new Fa(s,new J(i.getProvider("auth-internal")),new tt(i.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:e},n),o._setSettings(n),o},"PUBLIC")),registerVersion(D,"3.4.13",r),registerVersion(D,"3.4.13","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_HOST="firebasestorage.googleapis.com",CONFIG_STORAGE_BUCKET_KEY="storageBucket",DEFAULT_MAX_OPERATION_RETRY_TIME=2*60*1e3,DEFAULT_MAX_UPLOAD_RETRY_TIME=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StorageError extends FirebaseError{constructor(e,i){super(prependCode(e),`Firebase Storage: ${i} (${prependCode(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,StorageError.prototype)}_codeEquals(e){return prependCode(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function prependCode(r){return"storage/"+r}function unknown(){const r="An unknown error occurred, please check the error payload for server response.";return new StorageError("unknown",r)}function retryLimitExceeded(){return new StorageError("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function canceled(){return new StorageError("canceled","User canceled the upload/download.")}function invalidUrl(r){return new StorageError("invalid-url","Invalid URL '"+r+"'.")}function invalidDefaultBucket(r){return new StorageError("invalid-default-bucket","Invalid default bucket '"+r+"'.")}function invalidArgument(r){return new StorageError("invalid-argument",r)}function appDeleted(){return new StorageError("app-deleted","The Firebase app was deleted.")}function invalidRootOperation(r){return new StorageError("invalid-root-operation","The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Location{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let n;try{n=Location.makeFromUrl(e,i)}catch{return new Location(e,"")}if(n.path==="")return n;throw invalidDefaultBucket(e)}static makeFromUrl(e,i){let n=null;const s="([A-Za-z0-9.\\-_]+)";function o(ve){ve.path.charAt(ve.path.length-1)==="/"&&(ve.path_=ve.path_.slice(0,-1))}const a="(/(.*))?$",c=new RegExp("^gs://"+s+a,"i"),u={bucket:1,path:3};function f(ve){ve.path_=decodeURIComponent(ve.path)}const d="v[A-Za-z0-9_]+",m=i.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",ye=new RegExp(`^https?://${m}/${d}/b/${s}/o${_}`,"i"),Se={bucket:1,path:3},Ce=i===DEFAULT_HOST?"(?:storage.googleapis.com|storage.cloud.google.com)":i,Le="([^?#]*)",he=new RegExp(`^https?://${Ce}/${s}/${Le}`,"i"),b=[{regex:c,indices:u,postModify:o},{regex:ye,indices:Se,postModify:f},{regex:he,indices:{bucket:1,path:2},postModify:f}];for(let ve=0;ve<b.length;ve++){const Pe=b[ve],Be=Pe.regex.exec(e);if(Be){const Ve=Be[Pe.indices.bucket];let et=Be[Pe.indices.path];et||(et=""),n=new Location(Ve,et),Pe.postModify(n);break}}if(n==null)throw invalidUrl(e);return n}}class FailRequest{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function start(r,e,i){let n=1,s=null,o=null,a=!1,c=0;function u(){return c===2}let f=!1;function d(...Le){f||(f=!0,e.apply(null,Le))}function m(Le){s=setTimeout(()=>{s=null,r(ye,u())},Le)}function _(){o&&clearTimeout(o)}function ye(Le,...he){if(f){_();return}if(Le){_(),d.call(null,Le,...he);return}if(u()||a){_(),d.call(null,Le,...he);return}n<64&&(n*=2);let b;c===1?(c=2,b=0):b=(n+Math.random())*1e3,m(b)}let Se=!1;function Ce(Le){Se||(Se=!0,_(),!f&&(s!==null?(Le||(c=2),clearTimeout(s),m(0)):Le||(c=1)))}return m(0),o=setTimeout(()=>{a=!0,Ce(!0)},i),Ce}function stop(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isJustDef(r){return r!==void 0}function validateNumber(r,e,i,n){if(n<e)throw invalidArgument(`Invalid value for '${r}'. Expected ${e} or greater.`);if(n>i)throw invalidArgument(`Invalid value for '${r}'. Expected ${i} or less.`)}function makeQueryString(r){const e=encodeURIComponent;let i="?";for(const n in r)if(r.hasOwnProperty(n)){const s=e(n)+"="+e(r[n]);i=i+s+"&"}return i=i.slice(0,-1),i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ErrorCode;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(ErrorCode||(ErrorCode={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NetworkRequest{constructor(e,i,n,s,o,a,c,u,f,d,m){this.url_=e,this.method_=i,this.headers_=n,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=c,this.errorCallback_=u,this.timeout_=f,this.progressCallback_=d,this.connectionFactory_=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,ye)=>{this.resolve_=_,this.reject_=ye,this.start_()})}start_(){const e=(n,s)=>{if(s){n(!1,new RequestEndStatus(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=c=>{const u=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,f)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const c=o.getErrorCode()===ErrorCode.NO_ERROR,u=o.getStatus();if(!c||this.isRetryStatusCode_(u)){const d=o.getErrorCode()===ErrorCode.ABORT;n(!1,new RequestEndStatus(!1,null,d));return}const f=this.successCodes_.indexOf(u)!==-1;n(!0,new RequestEndStatus(f,o))})},i=(n,s)=>{const o=this.resolve_,a=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const u=this.callback_(c,c.getResponse());isJustDef(u)?o(u):o()}catch(u){a(u)}else if(c!==null){const u=unknown();u.serverResponse=c.getErrorText(),this.errorCallback_?a(this.errorCallback_(c,u)):a(u)}else if(s.canceled){const u=this.appDelete_?appDeleted():canceled();a(u)}else{const u=retryLimitExceeded();a(u)}};this.canceled_?i(!1,new RequestEndStatus(!1,null,!0)):this.backoffId_=start(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&stop(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const i=e>=500&&e<600,s=[408,429].indexOf(e)!==-1,o=this.additionalRetryCodes_.indexOf(e)!==-1;return i||s||o}}class RequestEndStatus{constructor(e,i,n){this.wasSuccessCode=e,this.connection=i,this.canceled=!!n}}function addAuthHeader_(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function addVersionHeader_(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function addGmpidHeader_(r,e){e&&(r["X-Firebase-GMPID"]=e)}function addAppCheckHeader_(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function makeRequest(r,e,i,n,s,o){const a=makeQueryString(r.urlParams),c=r.url+a,u=Object.assign({},r.headers);return addGmpidHeader_(u,e),addAuthHeader_(u,i),addVersionHeader_(u,o),addAppCheckHeader_(u,n),new NetworkRequest(c,r.method,u,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parent(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function lastComponent(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Reference{constructor(e,i){this._service=e,i instanceof Location?this._location=i:this._location=Location.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new Reference(e,i)}get root(){const e=new Location(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lastComponent(this._location.path)}get storage(){return this._service}get parent(){const e=parent(this._location.path);if(e===null)return null;const i=new Location(this._location.bucket,e);return new Reference(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw invalidRootOperation(e)}}function extractBucket(r,e){const i=e==null?void 0:e[CONFIG_STORAGE_BUCKET_KEY];return i==null?null:Location.makeFromBucketSpec(i,r)}class FirebaseStorageImpl{constructor(e,i,n,s,o){this.app=e,this._authProvider=i,this._appCheckProvider=n,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=DEFAULT_HOST,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DEFAULT_MAX_OPERATION_RETRY_TIME,this._maxUploadRetryTime=DEFAULT_MAX_UPLOAD_RETRY_TIME,this._requests=new Set,s!=null?this._bucket=Location.makeFromBucketSpec(s,this._host):this._bucket=extractBucket(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Location.makeFromBucketSpec(this._url,e):this._bucket=extractBucket(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){validateNumber("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){validateNumber("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const i=await e.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Reference(this,e)}_makeRequest(e,i,n,s){if(this._deleted)return new FailRequest(appDeleted());{const o=makeRequest(e,this._appId,n,s,i,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,i){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,n,s).getPromise()}}const name="@firebase/storage",version="0.9.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const STORAGE_TYPE="storage";function getStorage(r=getApp(),e){return r=getModularInstance(r),_getProvider(r,STORAGE_TYPE).getImmediate({identifier:e})}function factory(r,{instanceIdentifier:e}){const i=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),s=r.getProvider("app-check-internal");return new FirebaseStorageImpl(i,n,s,e,SDK_VERSION)}function registerStorage(){_registerComponent(new Component(STORAGE_TYPE,factory,"PUBLIC").setMultipleInstances(!0)),registerVersion(name,version,""),registerVersion(name,version,"esm2017")}registerStorage();const firebaseConfig={apiKey:"AIzaSyBHiUCFw4l1vE2_Cz6qEqyMzOu1FSw1x5k",authDomain:"neonduplex.firebaseapp.com",databaseURL:"https://neonduplex-default-rtdb.europe-west1.firebasedatabase.app",projectId:"neonduplex",storageBucket:"neonduplex.appspot.com",messagingSenderId:"471974408420",appId:"1:471974408420:web:a5406080b28c7852a07cf1"},app$1=initializeApp(firebaseConfig),auth=getAuth(app$1),database=Ba(app$1);getStorage(app$1);const asAny=r=>r,randomIndex=r=>Math.floor(Math.random()*r),v="5.5.7",meta={g:"LottieFiles AE 0.1.21",a:"",k:"",d:"",tc:""},fr=23.9759979248047,ip=0,op=53.9999953261367,w=500,h=500,nm="Free",ddd=0,assets=[],layers=[{ddd:0,ind:1,ty:4,nm:"flower 1",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:43,s:[100]},{t:52.9999954126897,s:[0]}],ix:11},r:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[0],y:[0]},t:1,s:[0]},{t:52.9999954126897,s:[360]}],ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:0,y:0},t:1,s:[249.563,257.829,0],to:[-9.001,-19.523,0],ti:[9.001,19.523,0]},{t:52.9999954126897,s:[195.559,140.693,0]}],ix:2},a:{a:0,k:[33.483,33.483,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[3.77,0],[0,0],[0,0],[3.77,0],[0,-3.77],[0,0],[0,0],[0,-3.77],[-3.77,0],[0,0],[0,0],[-3.77,0],[0,3.77],[0,0],[0,0],[0,3.77]],o:[[0,0],[0,0],[0,-3.77],[-3.77,0],[0,0],[0,0],[-3.77,0],[0,3.77],[0,0],[0,0],[0,3.77],[3.77,0],[0,0],[0,0],[3.77,0],[0,-3.77]],v:[[9.157,-6.826],[6.826,-6.826],[6.826,-9.157],[0,-15.983],[-6.826,-9.157],[-6.826,-6.826],[-9.156,-6.826],[-15.983,0],[-9.156,6.826],[-6.826,6.826],[-6.826,9.157],[0,15.983],[6.826,9.157],[6.826,6.826],[9.157,6.826],[15.983,0]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.192156877705,.129411764706,.270588235294,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:7,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,.482352971096,.674509803922,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[33.483,33.483],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:.99999991344698,op:119.999989613637,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"flower 2",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:43,s:[100]},{t:52.9999954126897,s:[0]}],ix:11},r:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[0],y:[0]},t:1,s:[0]},{t:52.9999954126897,s:[-360]}],ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:0,y:0},t:1,s:[249.562,257.829,0],to:[6.114,-9.768,0],ti:[-6.114,9.768,0]},{t:52.9999954126897,s:[286.244,199.22,0]}],ix:2},a:{a:0,k:[35.815,35.815,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[3.687,1.512],[0,0],[0,0],[3.686,1.513],[0,0],[1.513,-3.685],[0,0],[0,0],[1.512,-3.686],[-3.686,-1.512],[0,0],[0,0],[-3.685,-1.512],[-1.511,3.685],[0,0],[0,0],[-1.512,3.686]],o:[[0,0],[0,0],[1.512,-3.685],[0,0],[-3.685,-1.511],[0,0],[0,0],[-3.685,-1.512],[-1.512,3.686],[0,0],[0,0],[-1.512,3.686],[3.686,1.511],[0,0],[0,0],[3.686,1.512],[1.511,-3.685]],v:[[12.868,-2.518],[9.411,-3.936],[10.829,-7.393],[6.893,-16.804],[6.893,-16.804],[-2.519,-12.868],[-3.937,-9.411],[-7.393,-10.829],[-16.804,-6.893],[-12.868,2.518],[-9.411,3.936],[-10.829,7.392],[-6.894,16.804],[2.518,12.868],[3.936,9.411],[7.393,10.829],[16.804,6.893]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.192156877705,.129411764706,.270588235294,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:7,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,.968627510819,.290196078431,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[35.815,35.815],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:.99999991344698,op:119.999989613637,st:0,bm:0},{ddd:0,ind:5,ty:4,nm:"flower 3",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:43,s:[100]},{t:52.9999954126897,s:[0]}],ix:11},r:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[0],y:[0]},t:1,s:[0]},{t:52.9999954126897,s:[360]}],ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:0,y:0},t:1,s:[249.563,257.829,0],to:[15.225,4.48,0],ti:[-15.225,-4.48,0]},{t:52.9999954126897,s:[340.911,284.711,0]}],ix:2},a:{a:0,k:[37.761,37.76,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[3.229,-2.024],[0,0],[0,0],[0,0],[3.229,-2.023],[-2.024,-3.23],[0,0],[0,0],[0,0],[-2.024,-3.23],[-3.23,2.024],[0,0],[0,0],[0,0],[-3.229,2.024],[2.024,3.229],[0,0],[0,0],[0,0],[2.024,3.228]],o:[[0,0],[0,0],[0,0],[-2.024,-3.23],[-3.23,2.024],[0,0],[0,0],[0,0],[-3.23,2.025],[2.024,3.229],[0,0],[0,0],[0,0],[2.025,3.229],[3.23,-2.024],[0,0],[0,0],[0,0],[3.23,-2.023],[-2.024,-3.23]],v:[[8.725,-13.613],[2.182,-9.512],[.953,-11.474],[-1.918,-16.054],[-11.431,-18.237],[-13.612,-8.724],[-10.741,-4.144],[-9.512,-2.182],[-16.053,1.917],[-18.237,11.43],[-8.724,13.613],[-2.181,9.512],[-.953,11.474],[1.918,16.054],[11.431,18.236],[13.613,8.724],[10.742,4.143],[9.513,2.182],[16.055,-1.919],[18.237,-11.43]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.192156877705,.129411764706,.270588235294,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:7,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[.333333333333,.611764705882,.898039275525,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[37.76,37.76],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:.99999991344698,op:119.999989613637,st:0,bm:0},{ddd:0,ind:7,ty:4,nm:"flower 4",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:43,s:[100]},{t:52.9999954126897,s:[0]}],ix:11},r:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[0],y:[0]},t:1,s:[0]},{t:52.9999954126897,s:[-360]}],ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:0,y:0},t:1,s:[249.562,257.829,0],to:[6.105,20.05,0],ti:[-6.105,-20.05,0]},{t:52.9999954126897,s:[286.191,378.128,0]}],ix:2},a:{a:0,k:[35.41,35.41,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[2.924,1.398],[0,0],[0,0],[0,0],[2.924,1.398],[1.399,-2.924],[0,0],[0,0],[0,0],[1.399,-2.924],[-2.923,-1.398],[0,0],[0,0],[0,0],[-2.924,-1.398],[-1.399,2.924],[0,0],[0,0],[0,0],[-1.399,2.924]],o:[[0,0],[0,0],[0,0],[1.399,-2.924],[-2.923,-1.399],[0,0],[0,0],[0,0],[-2.923,-1.399],[-1.399,2.924],[0,0],[0,0],[0,0],[-1.399,2.924],[2.923,1.399],[0,0],[0,0],[0,0],[2.923,1.398],[1.398,-2.924]],v:[[13.75,.071],[7.827,-2.762],[8.676,-4.536],[10.66,-8.685],[7.898,-16.511],[.072,-13.749],[-1.911,-9.603],[-2.762,-7.827],[-8.684,-10.66],[-16.51,-7.898],[-13.749,-.073],[-7.826,2.761],[-8.676,4.537],[-10.66,8.684],[-7.897,16.51],[-.072,13.749],[1.913,9.602],[2.762,7.826],[8.685,10.66],[16.512,7.897]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.192156877705,.129411764706,.270588235294,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:7,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,.666666666667,.227450995352,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[35.409,35.41],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:.99999991344698,op:119.999989613637,st:0,bm:0},{ddd:0,ind:9,ty:4,nm:"rec 5",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:43,s:[100]},{t:52.9999954126897,s:[0]}],ix:11},r:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[0],y:[0]},t:1,s:[0]},{t:52.9999954126897,s:[360]}],ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:0,y:0},t:1,s:[249.563,257.829,0],to:[-17.906,10.497,0],ti:[17.906,-10.497,0]},{t:52.9999954126897,s:[142.128,320.811,0]}],ix:2},a:{a:0,k:[36.333,35.744,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-18.833,-5.691],[-7.363,-18.245],[18.833,5.689],[7.362,18.245]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.192156877705,.129411764706,.270588235294,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:7,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,.968627510819,.290196078431,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[36.333,35.745],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:.99999991344698,op:119.999989613637,st:0,bm:0},{ddd:0,ind:11,ty:4,nm:"rec 4",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:43,s:[100]},{t:52.9999954126897,s:[0]}],ix:11},r:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[0],y:[0]},t:1,s:[0]},{t:52.9999954126897,s:[-316]}],ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:0,y:0},t:1,s:[249.563,257.829,0],to:[1.373,11.229,0],ti:[-1.373,-11.229,0]},{t:52.9999954126897,s:[257.804,325.205,0]}],ix:2},a:{a:0,k:[29.047,33.285,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[11.547,10.968],[-2.116,15.785],[-11.547,-10.969],[2.115,-15.785]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.192156877705,.129411764706,.270588235294,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:7,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,.482352971096,.674509803922,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[29.047,33.285],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:.99999991344698,op:119.999989613637,st:0,bm:0},{ddd:0,ind:13,ty:4,nm:"rec 3",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:43,s:[100]},{t:52.9999954126897,s:[0]}],ix:11},r:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[0],y:[0]},t:1,s:[0]},{t:52.9999954126897,s:[360]}],ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:0,y:0},t:1,s:[249.563,257.829,0],to:[20.868,14.322,0],ti:[-20.868,-14.322,0]},{t:52.9999954126897,s:[374.771,343.762,0]}],ix:2},a:{a:0,k:[36.09,36.09,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-8.765,18.59],[18.59,-8.765],[8.765,-18.59],[-18.59,8.766]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.192156877705,.129411764706,.270588235294,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:7,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,.968627510819,.290196078431,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[36.09,36.09],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:.99999991344698,op:119.999989613637,st:0,bm:0},{ddd:0,ind:15,ty:4,nm:"rec 2",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:43,s:[100]},{t:52.9999954126897,s:[0]}],ix:11},r:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[0],y:[0]},t:1,s:[0]},{t:52.9999954126897,s:[-360]}],ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:0,y:0},t:1,s:[249.563,257.829,0],to:[18.951,-12.337,0],ti:[-18.951,12.337,0]},{t:52.9999954126897,s:[363.271,183.808,0]}],ix:2},a:{a:0,k:[36.399,32.513,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[11.482,-15.014],[-18.9,-.242],[-11.483,15.014],[18.9,.242]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.192156877705,.129411764706,.270588235294,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:7,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,.666666666667,.227450995352,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[36.399,32.513],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:.99999991344698,op:119.999989613637,st:0,bm:0},{ddd:0,ind:17,ty:4,nm:"rec 1",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:43,s:[100]},{t:52.9999954126897,s:[0]}],ix:11},r:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[0],y:[0]},t:1,s:[0]},{t:52.9999954126897,s:[360]}],ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:0,y:0},t:1,s:[249.563,257.829,0],to:[-7.862,-7.914,0],ti:[7.862,7.914,0]},{t:52.9999954126897,s:[202.388,210.344,0]}],ix:2},a:{a:0,k:[27.597,35.415,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-10.097,15.259],[-3.72,-17.915],[10.097,-15.259],[3.72,17.915]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.192156877705,.129411764706,.270588235294,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:7,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[.360784313725,.709803921569,.384313755409,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[27.597,35.416],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:.99999991344698,op:119.999989613637,st:0,bm:0},{ddd:0,ind:19,ty:4,nm:"circle 4",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:43,s:[100]},{t:52.9999954126897,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:0,y:0},t:1,s:[249.563,257.829,0],to:[-11.831,3.601,0],ti:[11.831,-3.601,0]},{t:52.9999954126897,s:[178.576,279.433,0]}],ix:2},a:{a:0,k:[27.853,27.854,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-5.718],[5.718,0],[0,5.717],[-5.717,0]],o:[[0,5.717],[-5.717,0],[0,-5.718],[5.718,0]],v:[[10.353,0],[-.001,10.354],[-10.353,0],[-.001,-10.354]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.192156877705,.129411764706,.270588235294,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:7,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,.666666666667,.227450995352,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[27.853,27.854],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:.99999991344698,op:119.999989613637,st:0,bm:0},{ddd:0,ind:21,ty:4,nm:"circle 3",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:43,s:[100]},{t:52.9999954126897,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:0,y:0},t:1,s:[249.563,257.829,0],to:[-6.639,19.883,0],ti:[6.639,-19.883,0]},{t:52.9999954126897,s:[209.726,377.127,0]}],ix:2},a:{a:0,k:[26.371,26.37,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-4.899],[4.9,0],[0,4.899],[-4.899,0]],o:[[0,4.899],[-4.899,0],[0,-4.899],[4.9,0]],v:[[8.871,0],[-.001,8.87],[-8.871,0],[-.001,-8.87]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.192156877705,.129411764706,.270588235294,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:7,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[.360784313725,.709803921569,.384313755409,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[26.371,26.371],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:.99999991344698,op:119.999989613637,st:0,bm:0},{ddd:0,ind:23,ty:4,nm:"circle 2",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:43,s:[100]},{t:52.9999954126897,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:0,y:0},t:1,s:[249.563,257.829,0],to:[7.843,-21.252,0],ti:[-7.843,21.252,0]},{t:52.9999954126897,s:[296.618,130.319,0]}],ix:2},a:{a:0,k:[27.873,27.874,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-5.729],[5.728,0],[0,5.729],[-5.73,0]],o:[[0,5.729],[-5.73,0],[0,-5.729],[5.728,0]],v:[[10.374,0],[0,10.374],[-10.374,0],[0,-10.374]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.192156877705,.129411764706,.270588235294,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:7,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[.360784313725,.709803921569,.384313755409,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[27.874,27.874],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:.99999991344698,op:119.999989613637,st:0,bm:0},{ddd:0,ind:25,ty:4,nm:"circle 1",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:43,s:[100]},{t:52.9999954126897,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:0,y:0},t:1,s:[249.563,257.829,0],to:[-17.906,-11.519,0],ti:[17.906,11.519,0]},{t:52.9999954126897,s:[142.128,188.716,0]}],ix:2},a:{a:0,k:[26.218,26.218,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-4.814],[4.815,0],[0,4.815],[-4.815,0]],o:[[0,4.815],[-4.815,0],[0,-4.814],[4.815,0]],v:[[8.718,0],[0,8.718],[-8.718,0],[0,-8.718]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.192156877705,.129411764706,.270588235294,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:7,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[.333333333333,.611764705882,.898039275525,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[26.218,26.218],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:.99999991344698,op:119.999989613637,st:0,bm:0},{ddd:0,ind:32,ty:4,nm:"path 10",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[174.571,239.533,0],ix:2},a:{a:0,k:[79.449,46.04,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[12.886,4.187],[12.885,4.188],[12.884,4.186],[12.884,4.186],[12.883,4.186]],o:[[-12.885,-4.186],[-12.885,-4.187],[-12.884,-4.186],[-12.884,-4.186],[-12.883,-4.186],[0,0]],v:[[61.949,28.54],[41.122,4.95],[10.408,11.793],[-10.416,-11.796],[-41.127,-4.951],[-61.949,-28.54]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.192156877705,.129411764706,.270588235294,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:7,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[79.449,46.04],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[0],y:[0]},t:6,s:[0]},{t:35.9999968840911,s:[100]}],ix:1},e:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[0],y:[0]},t:1,s:[0]},{t:30.9999973168562,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:.99999991344698,op:31.9999972303032,st:0,bm:0},{ddd:0,ind:33,ty:4,nm:"path 9",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[203.382,328.206,0],ix:2},a:{a:0,k:[63.786,67.597,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[7.963,-10.962],[7.964,-10.961],[7.963,-10.96],[7.962,-10.959],[7.962,-10.959]],o:[[-7.964,10.961],[-7.964,10.961],[-7.962,10.96],[-7.962,10.959],[-7.962,10.959],[0,0]],v:[[46.286,-50.097],[17.415,-37.58],[14.431,-6.254],[-14.438,6.261],[-17.418,37.583],[-46.286,50.097]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.192156877705,.129411764706,.270588235294,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:7,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[63.786,67.597],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[0],y:[0]},t:6,s:[0]},{t:35.9999968840911,s:[100]}],ix:1},e:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[0],y:[0]},t:1,s:[0]},{t:30.9999973168562,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:.99999991344698,op:31.9999972303032,st:0,bm:0},{ddd:0,ind:34,ty:4,nm:"path 8",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[296.618,328.205,0],ix:2},a:{a:0,k:[55.823,77.002,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-7.964,-10.961],[-7.964,-10.961],[-7.963,-10.959],[-7.962,-10.959],[-7.962,-10.959]],o:[[7.964,10.961],[7.964,10.961],[7.963,10.959],[7.962,10.959],[7.961,10.959],[0,0]],v:[[-33.343,-59.502],[-30.359,-28.175],[-1.488,-15.657],[1.493,15.666],[30.362,28.18],[33.342,59.502]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.192156877705,.129411764706,.270588235294,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:7,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[55.823,77.002],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[0],y:[0]},t:6,s:[0]},{t:35.9999968840911,s:[100]}],ix:1},e:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[0],y:[0]},t:1,s:[0]},{t:30.9999973168562,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:.99999991344698,op:31.9999972303032,st:0,bm:0},{ddd:0,ind:35,ty:4,nm:"path 7",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[325.429,239.533,0],ix:2},a:{a:0,k:[84.393,41.854,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-12.886,4.187],[-12.886,4.187],[-12.883,4.186],[-12.883,4.186],[-12.884,4.186]],o:[[12.886,-4.186],[12.885,-4.186],[12.884,-4.186],[12.884,-4.186],[12.883,-4.186],[0,0]],v:[[-66.893,13.323],[-36.178,20.167],[-15.351,-3.424],[15.36,3.421],[36.182,-20.168],[66.893,-13.323]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.192156877705,.129411764706,.270588235294,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:7,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[84.393,41.854],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[0],y:[0]},t:6,s:[0]},{t:35.9999968840911,s:[100]}],ix:1},e:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[0],y:[0]},t:1,s:[0]},{t:30.9999973168562,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:.99999991344698,op:31.9999972303032,st:0,bm:0},{ddd:0,ind:36,ty:4,nm:"path 6",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[250,184.731,0],ix:2},a:{a:0,k:[25.5,85.236,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,13.549],[0,13.549],[0,13.546],[0,13.546],[0,13.546]],o:[[0,-13.548],[0,-13.548],[0,-13.547],[0,-13.546],[0,-13.547],[0,0]],v:[[-8,67.736],[8,40.639],[-8,13.542],[8,-13.551],[-8,-40.643],[8,-67.736]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.192156877705,.129411764706,.270588235294,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:7,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[25.5,85.236],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[0],y:[0]},t:6,s:[0]},{t:35.9999968840911,s:[100]}],ix:1},e:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[0],y:[0]},t:1,s:[0]},{t:30.9999973168562,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:.99999991344698,op:31.9999972303032,st:0,bm:0}],markers=[],confettiPop={v,meta,fr,ip,op,w,h,nm,ddd,assets,layers,markers};var lottie={exports:{}};(function(module){typeof navigator<"u"&&function(r,e){module.exports?module.exports=e(r):(r.lottie=e(r),r.bodymovin=r.lottie)}(window||{},function(window){var svgNS="http://www.w3.org/2000/svg",locationHref="",initialDefaultFrame=-999999,_useWebWorker=!1,subframeEnabled=!0,idPrefix="",expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var r=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],e,i=r.length;for(e=0;e<i;e+=1)BMMath[r[e]]=Math[r[e]]})();function ProjectInterface(){return{}}BMMath.random=Math.random,BMMath.abs=function(r){var e=typeof r;if(e==="object"&&r.length){var i=createSizedArray(r.length),n,s=r.length;for(n=0;n<s;n+=1)i[n]=Math.abs(r[n]);return i}return Math.abs(r)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(r){r.style.position="absolute",r.style.top=0,r.style.left=0,r.style.display="block",r.style.transformOrigin="0 0",r.style.webkitTransformOrigin="0 0",r.style.backfaceVisibility="visible",r.style.webkitBackfaceVisibility="visible",r.style.transformStyle="preserve-3d",r.style.webkitTransformStyle="preserve-3d",r.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(r,e,i,n){this.type=r,this.currentTime=e,this.totalTime=i,this.direction=n<0?-1:1}function BMCompleteEvent(r,e){this.type=r,this.direction=e<0?-1:1}function BMCompleteLoopEvent(r,e,i,n){this.type=r,this.currentLoop=i,this.totalLoops=e,this.direction=n<0?-1:1}function BMSegmentStartEvent(r,e,i){this.type=r,this.firstFrame=e,this.totalFrames=i}function BMDestroyEvent(r,e){this.type=r,this.target=e}function BMRenderFrameErrorEvent(r,e){this.type="renderFrameError",this.nativeError=r,this.currentTime=e}function BMConfigErrorEvent(r){this.type="configError",this.nativeError=r}var createElementID=function(){var r=0;return function(){return r+=1,idPrefix+"__lottie_element_"+r}}();function HSVtoRGB(r,e,i){var n,s,o,a,c,u,f,d;switch(a=Math.floor(r*6),c=r*6-a,u=i*(1-e),f=i*(1-c*e),d=i*(1-(1-c)*e),a%6){case 0:n=i,s=d,o=u;break;case 1:n=f,s=i,o=u;break;case 2:n=u,s=i,o=d;break;case 3:n=u,s=f,o=i;break;case 4:n=d,s=u,o=i;break;case 5:n=i,s=u,o=f;break}return[n,s,o]}function RGBtoHSV(r,e,i){var n=Math.max(r,e,i),s=Math.min(r,e,i),o=n-s,a,c=n===0?0:o/n,u=n/255;switch(n){case s:a=0;break;case r:a=e-i+o*(e<i?6:0),a/=6*o;break;case e:a=i-r+o*2,a/=6*o;break;case i:a=r-e+o*4,a/=6*o;break}return[a,c,u]}function addSaturationToRGB(r,e){var i=RGBtoHSV(r[0]*255,r[1]*255,r[2]*255);return i[1]+=e,i[1]>1?i[1]=1:i[1]<=0&&(i[1]=0),HSVtoRGB(i[0],i[1],i[2])}function addBrightnessToRGB(r,e){var i=RGBtoHSV(r[0]*255,r[1]*255,r[2]*255);return i[2]+=e,i[2]>1?i[2]=1:i[2]<0&&(i[2]=0),HSVtoRGB(i[0],i[1],i[2])}function addHueToRGB(r,e){var i=RGBtoHSV(r[0]*255,r[1]*255,r[2]*255);return i[0]+=e/360,i[0]>1?i[0]-=1:i[0]<0&&(i[0]+=1),HSVtoRGB(i[0],i[1],i[2])}var rgbToHex=function(){var r=[],e,i;for(e=0;e<256;e+=1)i=e.toString(16),r[e]=i.length===1?"0"+i:i;return function(n,s,o){return n<0&&(n=0),s<0&&(s=0),o<0&&(o=0),"#"+r[n]+r[s]+r[o]}}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(r,e){if(this._cbs[r])for(var i=this._cbs[r],n=0;n<i.length;n+=1)i[n](e)},addEventListener:function(r,e){return this._cbs[r]||(this._cbs[r]=[]),this._cbs[r].push(e),function(){this.removeEventListener(r,e)}.bind(this)},removeEventListener:function(r,e){if(!e)this._cbs[r]=null;else if(this._cbs[r]){for(var i=0,n=this._cbs[r].length;i<n;)this._cbs[r][i]===e&&(this._cbs[r].splice(i,1),i-=1,n-=1),i+=1;this._cbs[r].length||(this._cbs[r]=null)}}};var createTypedArray=function(){function r(i,n){var s=0,o=[],a;switch(i){case"int16":case"uint8c":a=1;break;default:a=1.1;break}for(s=0;s<n;s+=1)o.push(a);return o}function e(i,n){return i==="float32"?new Float32Array(n):i==="int16"?new Int16Array(n):i==="uint8c"?new Uint8ClampedArray(n):r(i,n)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?e:r}();function createSizedArray(r){return Array.apply(null,{length:r})}function createNS(r){return document.createElementNS(svgNS,r)}function createTag(r){return document.createElement(r)}function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(r){this.dynamicProperties.indexOf(r)===-1&&(this.dynamicProperties.push(r),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var r,e=this.dynamicProperties.length;for(r=0;r<e;r+=1)this.dynamicProperties[r].getValue(),this.dynamicProperties[r]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(r){this.container=r,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var getBlendMode=function(){var r={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(e){return r[e]||""}}(),lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var r=Math.cos,e=Math.sin,i=Math.tan,n=Math.round;function s(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function o(Ue){if(Ue===0)return this;var mt=r(Ue),_t=e(Ue);return this._t(mt,-_t,0,0,_t,mt,0,0,0,0,1,0,0,0,0,1)}function a(Ue){if(Ue===0)return this;var mt=r(Ue),_t=e(Ue);return this._t(1,0,0,0,0,mt,-_t,0,0,_t,mt,0,0,0,0,1)}function c(Ue){if(Ue===0)return this;var mt=r(Ue),_t=e(Ue);return this._t(mt,0,_t,0,0,1,0,0,-_t,0,mt,0,0,0,0,1)}function u(Ue){if(Ue===0)return this;var mt=r(Ue),_t=e(Ue);return this._t(mt,-_t,0,0,_t,mt,0,0,0,0,1,0,0,0,0,1)}function f(Ue,mt){return this._t(1,mt,Ue,1,0,0)}function d(Ue,mt){return this.shear(i(Ue),i(mt))}function m(Ue,mt){var _t=r(mt),Vt=e(mt);return this._t(_t,Vt,0,0,-Vt,_t,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,i(Ue),1,0,0,0,0,1,0,0,0,0,1)._t(_t,-Vt,0,0,Vt,_t,0,0,0,0,1,0,0,0,0,1)}function _(Ue,mt,_t){return!_t&&_t!==0&&(_t=1),Ue===1&&mt===1&&_t===1?this:this._t(Ue,0,0,0,0,mt,0,0,0,0,_t,0,0,0,0,1)}function ye(Ue,mt,_t,Vt,xt,cr,yr,_r,Nt,or,rr,lr,br,Er,dr,pr){return this.props[0]=Ue,this.props[1]=mt,this.props[2]=_t,this.props[3]=Vt,this.props[4]=xt,this.props[5]=cr,this.props[6]=yr,this.props[7]=_r,this.props[8]=Nt,this.props[9]=or,this.props[10]=rr,this.props[11]=lr,this.props[12]=br,this.props[13]=Er,this.props[14]=dr,this.props[15]=pr,this}function Se(Ue,mt,_t){return _t=_t||0,Ue!==0||mt!==0||_t!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,Ue,mt,_t,1):this}function Ce(Ue,mt,_t,Vt,xt,cr,yr,_r,Nt,or,rr,lr,br,Er,dr,pr){var ot=this.props;if(Ue===1&&mt===0&&_t===0&&Vt===0&&xt===0&&cr===1&&yr===0&&_r===0&&Nt===0&&or===0&&rr===1&&lr===0)return ot[12]=ot[12]*Ue+ot[15]*br,ot[13]=ot[13]*cr+ot[15]*Er,ot[14]=ot[14]*rr+ot[15]*dr,ot[15]*=pr,this._identityCalculated=!1,this;var vt=ot[0],St=ot[1],Wt=ot[2],Ht=ot[3],ir=ot[4],sr=ot[5],tr=ot[6],nr=ot[7],er=ot[8],hr=ot[9],ar=ot[10],ur=ot[11],vr=ot[12],wr=ot[13],Sr=ot[14],Tr=ot[15];return ot[0]=vt*Ue+St*xt+Wt*Nt+Ht*br,ot[1]=vt*mt+St*cr+Wt*or+Ht*Er,ot[2]=vt*_t+St*yr+Wt*rr+Ht*dr,ot[3]=vt*Vt+St*_r+Wt*lr+Ht*pr,ot[4]=ir*Ue+sr*xt+tr*Nt+nr*br,ot[5]=ir*mt+sr*cr+tr*or+nr*Er,ot[6]=ir*_t+sr*yr+tr*rr+nr*dr,ot[7]=ir*Vt+sr*_r+tr*lr+nr*pr,ot[8]=er*Ue+hr*xt+ar*Nt+ur*br,ot[9]=er*mt+hr*cr+ar*or+ur*Er,ot[10]=er*_t+hr*yr+ar*rr+ur*dr,ot[11]=er*Vt+hr*_r+ar*lr+ur*pr,ot[12]=vr*Ue+wr*xt+Sr*Nt+Tr*br,ot[13]=vr*mt+wr*cr+Sr*or+Tr*Er,ot[14]=vr*_t+wr*yr+Sr*rr+Tr*dr,ot[15]=vr*Vt+wr*_r+Sr*lr+Tr*pr,this._identityCalculated=!1,this}function Le(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function he(Ue){for(var mt=0;mt<16;){if(Ue.props[mt]!==this.props[mt])return!1;mt+=1}return!0}function g(Ue){var mt;for(mt=0;mt<16;mt+=1)Ue.props[mt]=this.props[mt];return Ue}function b(Ue){var mt;for(mt=0;mt<16;mt+=1)this.props[mt]=Ue[mt]}function ve(Ue,mt,_t){return{x:Ue*this.props[0]+mt*this.props[4]+_t*this.props[8]+this.props[12],y:Ue*this.props[1]+mt*this.props[5]+_t*this.props[9]+this.props[13],z:Ue*this.props[2]+mt*this.props[6]+_t*this.props[10]+this.props[14]}}function Pe(Ue,mt,_t){return Ue*this.props[0]+mt*this.props[4]+_t*this.props[8]+this.props[12]}function Be(Ue,mt,_t){return Ue*this.props[1]+mt*this.props[5]+_t*this.props[9]+this.props[13]}function Ve(Ue,mt,_t){return Ue*this.props[2]+mt*this.props[6]+_t*this.props[10]+this.props[14]}function et(){var Ue=this.props[0]*this.props[5]-this.props[1]*this.props[4],mt=this.props[5]/Ue,_t=-this.props[1]/Ue,Vt=-this.props[4]/Ue,xt=this.props[0]/Ue,cr=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/Ue,yr=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/Ue,_r=new Matrix;return _r.props[0]=mt,_r.props[1]=_t,_r.props[4]=Vt,_r.props[5]=xt,_r.props[12]=cr,_r.props[13]=yr,_r}function yt(Ue){var mt=this.getInverseMatrix();return mt.applyToPointArray(Ue[0],Ue[1],Ue[2]||0)}function kt(Ue){var mt,_t=Ue.length,Vt=[];for(mt=0;mt<_t;mt+=1)Vt[mt]=yt(Ue[mt]);return Vt}function Ot(Ue,mt,_t){var Vt=createTypedArray("float32",6);if(this.isIdentity())Vt[0]=Ue[0],Vt[1]=Ue[1],Vt[2]=mt[0],Vt[3]=mt[1],Vt[4]=_t[0],Vt[5]=_t[1];else{var xt=this.props[0],cr=this.props[1],yr=this.props[4],_r=this.props[5],Nt=this.props[12],or=this.props[13];Vt[0]=Ue[0]*xt+Ue[1]*yr+Nt,Vt[1]=Ue[0]*cr+Ue[1]*_r+or,Vt[2]=mt[0]*xt+mt[1]*yr+Nt,Vt[3]=mt[0]*cr+mt[1]*_r+or,Vt[4]=_t[0]*xt+_t[1]*yr+Nt,Vt[5]=_t[0]*cr+_t[1]*_r+or}return Vt}function Ft(Ue,mt,_t){var Vt;return this.isIdentity()?Vt=[Ue,mt,_t]:Vt=[Ue*this.props[0]+mt*this.props[4]+_t*this.props[8]+this.props[12],Ue*this.props[1]+mt*this.props[5]+_t*this.props[9]+this.props[13],Ue*this.props[2]+mt*this.props[6]+_t*this.props[10]+this.props[14]],Vt}function wt(Ue,mt){if(this.isIdentity())return Ue+","+mt;var _t=this.props;return Math.round((Ue*_t[0]+mt*_t[4]+_t[12])*100)/100+","+Math.round((Ue*_t[1]+mt*_t[5]+_t[13])*100)/100}function Dt(){for(var Ue=0,mt=this.props,_t="matrix3d(",Vt=1e4;Ue<16;)_t+=n(mt[Ue]*Vt)/Vt,_t+=Ue===15?")":",",Ue+=1;return _t}function Mt(Ue){var mt=1e4;return Ue<1e-6&&Ue>0||Ue>-1e-6&&Ue<0?n(Ue*mt)/mt:Ue}function gt(){var Ue=this.props,mt=Mt(Ue[0]),_t=Mt(Ue[1]),Vt=Mt(Ue[4]),xt=Mt(Ue[5]),cr=Mt(Ue[12]),yr=Mt(Ue[13]);return"matrix("+mt+","+_t+","+Vt+","+xt+","+cr+","+yr+")"}return function(){this.reset=s,this.rotate=o,this.rotateX=a,this.rotateY=c,this.rotateZ=u,this.skew=d,this.skewFromAxis=m,this.shear=f,this.scale=_,this.setTransform=ye,this.translate=Se,this.transform=Ce,this.applyToPoint=ve,this.applyToX=Pe,this.applyToY=Be,this.applyToZ=Ve,this.applyToPointArray=Ft,this.applyToTriplePoints=Ot,this.applyToPointStringified=wt,this.toCSS=Dt,this.to2dCSS=gt,this.clone=g,this.cloneFromProps=b,this.equals=he,this.inversePoints=kt,this.inversePoint=yt,this.getInverseMatrix=et,this._t=this.transform,this.isIdentity=Le,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();(function(r,e){var i=this,n=256,s=6,o=52,a="random",c=e.pow(n,s),u=e.pow(2,o),f=u*2,d=n-1,m;function _(b,ve,Pe){var Be=[];ve=ve===!0?{entropy:!0}:ve||{};var Ve=Le(Ce(ve.entropy?[b,g(r)]:b===null?he():b,3),Be),et=new ye(Be),yt=function(){for(var kt=et.g(s),Ot=c,Ft=0;kt<u;)kt=(kt+Ft)*n,Ot*=n,Ft=et.g(1);for(;kt>=f;)kt/=2,Ot/=2,Ft>>>=1;return(kt+Ft)/Ot};return yt.int32=function(){return et.g(4)|0},yt.quick=function(){return et.g(4)/4294967296},yt.double=yt,Le(g(et.S),r),(ve.pass||Pe||function(kt,Ot,Ft,wt){return wt&&(wt.S&&Se(wt,et),kt.state=function(){return Se(et,{})}),Ft?(e[a]=kt,Ot):kt})(yt,Ve,"global"in ve?ve.global:this==e,ve.state)}e["seed"+a]=_;function ye(b){var ve,Pe=b.length,Be=this,Ve=0,et=Be.i=Be.j=0,yt=Be.S=[];for(Pe||(b=[Pe++]);Ve<n;)yt[Ve]=Ve++;for(Ve=0;Ve<n;Ve++)yt[Ve]=yt[et=d&et+b[Ve%Pe]+(ve=yt[Ve])],yt[et]=ve;Be.g=function(kt){for(var Ot,Ft=0,wt=Be.i,Dt=Be.j,Mt=Be.S;kt--;)Ot=Mt[wt=d&wt+1],Ft=Ft*n+Mt[d&(Mt[wt]=Mt[Dt=d&Dt+Ot])+(Mt[Dt]=Ot)];return Be.i=wt,Be.j=Dt,Ft}}function Se(b,ve){return ve.i=b.i,ve.j=b.j,ve.S=b.S.slice(),ve}function Ce(b,ve){var Pe=[],Be=typeof b,Ve;if(ve&&Be=="object")for(Ve in b)try{Pe.push(Ce(b[Ve],ve-1))}catch{}return Pe.length?Pe:Be=="string"?b:b+"\0"}function Le(b,ve){for(var Pe=b+"",Be,Ve=0;Ve<Pe.length;)ve[d&Ve]=d&(Be^=ve[d&Ve]*19)+Pe.charCodeAt(Ve++);return g(ve)}function he(){try{var b=new Uint8Array(n);return(i.crypto||i.msCrypto).getRandomValues(b),g(b)}catch{var ve=i.navigator,Pe=ve&&ve.plugins;return[+new Date,i,Pe,i.screen,g(r)]}}function g(b){return String.fromCharCode.apply(0,b)}Le(e.random(),r)})([],BMMath);var BezierFactory=function(){var r={};r.getBezierEasing=i;var e={};function i(g,b,ve,Pe,Be){var Ve=Be||("bez_"+g+"_"+b+"_"+ve+"_"+Pe).replace(/\./g,"p");if(e[Ve])return e[Ve];var et=new he([g,b,ve,Pe]);return e[Ve]=et,et}var n=4,s=.001,o=1e-7,a=10,c=11,u=1/(c-1),f=typeof Float32Array=="function";function d(g,b){return 1-3*b+3*g}function m(g,b){return 3*b-6*g}function _(g){return 3*g}function ye(g,b,ve){return((d(b,ve)*g+m(b,ve))*g+_(b))*g}function Se(g,b,ve){return 3*d(b,ve)*g*g+2*m(b,ve)*g+_(b)}function Ce(g,b,ve,Pe,Be){var Ve,et,yt=0;do et=b+(ve-b)/2,Ve=ye(et,Pe,Be)-g,Ve>0?ve=et:b=et;while(Math.abs(Ve)>o&&++yt<a);return et}function Le(g,b,ve,Pe){for(var Be=0;Be<n;++Be){var Ve=Se(b,ve,Pe);if(Ve===0)return b;var et=ye(b,ve,Pe)-g;b-=et/Ve}return b}function he(g){this._p=g,this._mSampleValues=f?new Float32Array(c):new Array(c),this._precomputed=!1,this.get=this.get.bind(this)}return he.prototype={get:function(g){var b=this._p[0],ve=this._p[1],Pe=this._p[2],Be=this._p[3];return this._precomputed||this._precompute(),b===ve&&Pe===Be?g:g===0?0:g===1?1:ye(this._getTForX(g),ve,Be)},_precompute:function(){var g=this._p[0],b=this._p[1],ve=this._p[2],Pe=this._p[3];this._precomputed=!0,(g!==b||ve!==Pe)&&this._calcSampleValues()},_calcSampleValues:function(){for(var g=this._p[0],b=this._p[2],ve=0;ve<c;++ve)this._mSampleValues[ve]=ye(ve*u,g,b)},_getTForX:function(g){for(var b=this._p[0],ve=this._p[2],Pe=this._mSampleValues,Be=0,Ve=1,et=c-1;Ve!==et&&Pe[Ve]<=g;++Ve)Be+=u;--Ve;var yt=(g-Pe[Ve])/(Pe[Ve+1]-Pe[Ve]),kt=Be+yt*u,Ot=Se(kt,b,ve);return Ot>=s?Le(g,kt,b,ve):Ot===0?kt:Ce(g,Be,Be+u,b,ve)}},r}();(function(){for(var r=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var s=new Date().getTime(),o=Math.max(0,16-(s-r)),a=setTimeout(function(){n(s+o)},o);return r=s+o,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();function extendPrototype(r,e){var i,n=r.length,s;for(i=0;i<n;i+=1){s=r[i].prototype;for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e.prototype[o]=s[o])}}function getDescriptor(r,e){return Object.getOwnPropertyDescriptor(r,e)}function createProxyFunction(r){function e(){}return e.prototype=r,e}function bezFunction(){var r=Math;function e(_,ye,Se,Ce,Le,he){var g=_*Ce+ye*Le+Se*he-Le*Ce-he*_-Se*ye;return g>-.001&&g<.001}function i(_,ye,Se,Ce,Le,he,g,b,ve){if(Se===0&&he===0&&ve===0)return e(_,ye,Ce,Le,g,b);var Pe=r.sqrt(r.pow(Ce-_,2)+r.pow(Le-ye,2)+r.pow(he-Se,2)),Be=r.sqrt(r.pow(g-_,2)+r.pow(b-ye,2)+r.pow(ve-Se,2)),Ve=r.sqrt(r.pow(g-Ce,2)+r.pow(b-Le,2)+r.pow(ve-he,2)),et;return Pe>Be?Pe>Ve?et=Pe-Be-Ve:et=Ve-Be-Pe:Ve>Be?et=Ve-Be-Pe:et=Be-Pe-Ve,et>-1e-4&&et<1e-4}var n=function(){return function(_,ye,Se,Ce){var Le=defaultCurveSegments,he,g,b,ve,Pe,Be=0,Ve,et=[],yt=[],kt=bezierLengthPool.newElement();for(b=Se.length,he=0;he<Le;he+=1){for(Pe=he/(Le-1),Ve=0,g=0;g<b;g+=1)ve=bmPow(1-Pe,3)*_[g]+3*bmPow(1-Pe,2)*Pe*Se[g]+3*(1-Pe)*bmPow(Pe,2)*Ce[g]+bmPow(Pe,3)*ye[g],et[g]=ve,yt[g]!==null&&(Ve+=bmPow(et[g]-yt[g],2)),yt[g]=et[g];Ve&&(Ve=bmSqrt(Ve),Be+=Ve),kt.percents[he]=Pe,kt.lengths[he]=Be}return kt.addedLength=Be,kt}}();function s(_){var ye=segmentsLengthPool.newElement(),Se=_.c,Ce=_.v,Le=_.o,he=_.i,g,b=_._length,ve=ye.lengths,Pe=0;for(g=0;g<b-1;g+=1)ve[g]=n(Ce[g],Ce[g+1],Le[g],he[g+1]),Pe+=ve[g].addedLength;return Se&&b&&(ve[g]=n(Ce[g],Ce[0],Le[g],he[0]),Pe+=ve[g].addedLength),ye.totalLength=Pe,ye}function o(_){this.segmentLength=0,this.points=new Array(_)}function a(_,ye){this.partialLength=_,this.point=ye}var c=function(){var _={};return function(ye,Se,Ce,Le){var he=(ye[0]+"_"+ye[1]+"_"+Se[0]+"_"+Se[1]+"_"+Ce[0]+"_"+Ce[1]+"_"+Le[0]+"_"+Le[1]).replace(/\./g,"p");if(!_[he]){var g=defaultCurveSegments,b,ve,Pe,Be,Ve,et=0,yt,kt,Ot=null;ye.length===2&&(ye[0]!==Se[0]||ye[1]!==Se[1])&&e(ye[0],ye[1],Se[0],Se[1],ye[0]+Ce[0],ye[1]+Ce[1])&&e(ye[0],ye[1],Se[0],Se[1],Se[0]+Le[0],Se[1]+Le[1])&&(g=2);var Ft=new o(g);for(Pe=Ce.length,b=0;b<g;b+=1){for(kt=createSizedArray(Pe),Ve=b/(g-1),yt=0,ve=0;ve<Pe;ve+=1)Be=bmPow(1-Ve,3)*ye[ve]+3*bmPow(1-Ve,2)*Ve*(ye[ve]+Ce[ve])+3*(1-Ve)*bmPow(Ve,2)*(Se[ve]+Le[ve])+bmPow(Ve,3)*Se[ve],kt[ve]=Be,Ot!==null&&(yt+=bmPow(kt[ve]-Ot[ve],2));yt=bmSqrt(yt),et+=yt,Ft.points[b]=new a(yt,kt),Ot=kt}Ft.segmentLength=et,_[he]=Ft}return _[he]}}();function u(_,ye){var Se=ye.percents,Ce=ye.lengths,Le=Se.length,he=bmFloor((Le-1)*_),g=_*ye.addedLength,b=0;if(he===Le-1||he===0||g===Ce[he])return Se[he];for(var ve=Ce[he]>g?-1:1,Pe=!0;Pe;)if(Ce[he]<=g&&Ce[he+1]>g?(b=(g-Ce[he])/(Ce[he+1]-Ce[he]),Pe=!1):he+=ve,he<0||he>=Le-1){if(he===Le-1)return Se[he];Pe=!1}return Se[he]+(Se[he+1]-Se[he])*b}function f(_,ye,Se,Ce,Le,he){var g=u(Le,he),b=1-g,ve=r.round((b*b*b*_[0]+(g*b*b+b*g*b+b*b*g)*Se[0]+(g*g*b+b*g*g+g*b*g)*Ce[0]+g*g*g*ye[0])*1e3)/1e3,Pe=r.round((b*b*b*_[1]+(g*b*b+b*g*b+b*b*g)*Se[1]+(g*g*b+b*g*g+g*b*g)*Ce[1]+g*g*g*ye[1])*1e3)/1e3;return[ve,Pe]}var d=createTypedArray("float32",8);function m(_,ye,Se,Ce,Le,he,g){Le<0?Le=0:Le>1&&(Le=1);var b=u(Le,g);he=he>1?1:he;var ve=u(he,g),Pe,Be=_.length,Ve=1-b,et=1-ve,yt=Ve*Ve*Ve,kt=b*Ve*Ve*3,Ot=b*b*Ve*3,Ft=b*b*b,wt=Ve*Ve*et,Dt=b*Ve*et+Ve*b*et+Ve*Ve*ve,Mt=b*b*et+Ve*b*ve+b*Ve*ve,gt=b*b*ve,Ue=Ve*et*et,mt=b*et*et+Ve*ve*et+Ve*et*ve,_t=b*ve*et+Ve*ve*ve+b*et*ve,Vt=b*ve*ve,xt=et*et*et,cr=ve*et*et+et*ve*et+et*et*ve,yr=ve*ve*et+et*ve*ve+ve*et*ve,_r=ve*ve*ve;for(Pe=0;Pe<Be;Pe+=1)d[Pe*4]=r.round((yt*_[Pe]+kt*Se[Pe]+Ot*Ce[Pe]+Ft*ye[Pe])*1e3)/1e3,d[Pe*4+1]=r.round((wt*_[Pe]+Dt*Se[Pe]+Mt*Ce[Pe]+gt*ye[Pe])*1e3)/1e3,d[Pe*4+2]=r.round((Ue*_[Pe]+mt*Se[Pe]+_t*Ce[Pe]+Vt*ye[Pe])*1e3)/1e3,d[Pe*4+3]=r.round((xt*_[Pe]+cr*Se[Pe]+yr*Ce[Pe]+_r*ye[Pe])*1e3)/1e3;return d}return{getSegmentsLength:s,getNewSegment:m,getPointInSegment:f,buildBezierData:c,pointOnLine2D:e,pointOnLine3D:i}}var bez=bezFunction(),dataManager=function(){var r=1,e=[],i,n,s={onmessage:function(){},postMessage:function(_){i({data:_})}},o={postMessage:function(_){s.onmessage({data:_})}};function a(_){if(window.Worker&&window.Blob&&_useWebWorker){var ye=new Blob(["var _workerSelf = self; self.onmessage = ",_.toString()],{type:"text/javascript"}),Se=URL.createObjectURL(ye);return new Worker(Se)}return i=_,s}function c(){n||(n=a(function(ye){function Se(){function Le(wt,Dt){var Mt,gt,Ue=wt.length,mt,_t,Vt,xt;for(gt=0;gt<Ue;gt+=1)if(Mt=wt[gt],"ks"in Mt&&!Mt.completed){if(Mt.completed=!0,Mt.tt&&(wt[gt-1].td=Mt.tt),Mt.hasMask){var cr=Mt.masksProperties;for(_t=cr.length,mt=0;mt<_t;mt+=1)if(cr[mt].pt.k.i)b(cr[mt].pt.k);else for(xt=cr[mt].pt.k.length,Vt=0;Vt<xt;Vt+=1)cr[mt].pt.k[Vt].s&&b(cr[mt].pt.k[Vt].s[0]),cr[mt].pt.k[Vt].e&&b(cr[mt].pt.k[Vt].e[0])}Mt.ty===0?(Mt.layers=he(Mt.refId,Dt),Le(Mt.layers,Dt)):Mt.ty===4?g(Mt.shapes):Mt.ty===5&&Ot(Mt)}}function he(wt,Dt){for(var Mt=0,gt=Dt.length;Mt<gt;){if(Dt[Mt].id===wt)return Dt[Mt].layers.__used?JSON.parse(JSON.stringify(Dt[Mt].layers)):(Dt[Mt].layers.__used=!0,Dt[Mt].layers);Mt+=1}return null}function g(wt){var Dt,Mt=wt.length,gt,Ue;for(Dt=Mt-1;Dt>=0;Dt-=1)if(wt[Dt].ty==="sh")if(wt[Dt].ks.k.i)b(wt[Dt].ks.k);else for(Ue=wt[Dt].ks.k.length,gt=0;gt<Ue;gt+=1)wt[Dt].ks.k[gt].s&&b(wt[Dt].ks.k[gt].s[0]),wt[Dt].ks.k[gt].e&&b(wt[Dt].ks.k[gt].e[0]);else wt[Dt].ty==="gr"&&g(wt[Dt].it)}function b(wt){var Dt,Mt=wt.i.length;for(Dt=0;Dt<Mt;Dt+=1)wt.i[Dt][0]+=wt.v[Dt][0],wt.i[Dt][1]+=wt.v[Dt][1],wt.o[Dt][0]+=wt.v[Dt][0],wt.o[Dt][1]+=wt.v[Dt][1]}function ve(wt,Dt){var Mt=Dt?Dt.split("."):[100,100,100];return wt[0]>Mt[0]?!0:Mt[0]>wt[0]?!1:wt[1]>Mt[1]?!0:Mt[1]>wt[1]?!1:wt[2]>Mt[2]?!0:Mt[2]>wt[2]?!1:null}var Pe=function(){var wt=[4,4,14];function Dt(gt){var Ue=gt.t.d;gt.t.d={k:[{s:Ue,t:0}]}}function Mt(gt){var Ue,mt=gt.length;for(Ue=0;Ue<mt;Ue+=1)gt[Ue].ty===5&&Dt(gt[Ue])}return function(gt){if(ve(wt,gt.v)&&(Mt(gt.layers),gt.assets)){var Ue,mt=gt.assets.length;for(Ue=0;Ue<mt;Ue+=1)gt.assets[Ue].layers&&Mt(gt.assets[Ue].layers)}}}(),Be=function(){var wt=[4,7,99];return function(Dt){if(Dt.chars&&!ve(wt,Dt.v)){var Mt,gt=Dt.chars.length,Ue,mt,_t,Vt;for(Mt=0;Mt<gt;Mt+=1)if(Dt.chars[Mt].data&&Dt.chars[Mt].data.shapes)for(Vt=Dt.chars[Mt].data.shapes[0].it,mt=Vt.length,Ue=0;Ue<mt;Ue+=1)_t=Vt[Ue].ks.k,_t.__converted||(b(Vt[Ue].ks.k),_t.__converted=!0)}}}(),Ve=function(){var wt=[5,7,15];function Dt(gt){var Ue=gt.t.p;typeof Ue.a=="number"&&(Ue.a={a:0,k:Ue.a}),typeof Ue.p=="number"&&(Ue.p={a:0,k:Ue.p}),typeof Ue.r=="number"&&(Ue.r={a:0,k:Ue.r})}function Mt(gt){var Ue,mt=gt.length;for(Ue=0;Ue<mt;Ue+=1)gt[Ue].ty===5&&Dt(gt[Ue])}return function(gt){if(ve(wt,gt.v)&&(Mt(gt.layers),gt.assets)){var Ue,mt=gt.assets.length;for(Ue=0;Ue<mt;Ue+=1)gt.assets[Ue].layers&&Mt(gt.assets[Ue].layers)}}}(),et=function(){var wt=[4,1,9];function Dt(gt){var Ue,mt=gt.length,_t,Vt;for(Ue=0;Ue<mt;Ue+=1)if(gt[Ue].ty==="gr")Dt(gt[Ue].it);else if(gt[Ue].ty==="fl"||gt[Ue].ty==="st")if(gt[Ue].c.k&&gt[Ue].c.k[0].i)for(Vt=gt[Ue].c.k.length,_t=0;_t<Vt;_t+=1)gt[Ue].c.k[_t].s&&(gt[Ue].c.k[_t].s[0]/=255,gt[Ue].c.k[_t].s[1]/=255,gt[Ue].c.k[_t].s[2]/=255,gt[Ue].c.k[_t].s[3]/=255),gt[Ue].c.k[_t].e&&(gt[Ue].c.k[_t].e[0]/=255,gt[Ue].c.k[_t].e[1]/=255,gt[Ue].c.k[_t].e[2]/=255,gt[Ue].c.k[_t].e[3]/=255);else gt[Ue].c.k[0]/=255,gt[Ue].c.k[1]/=255,gt[Ue].c.k[2]/=255,gt[Ue].c.k[3]/=255}function Mt(gt){var Ue,mt=gt.length;for(Ue=0;Ue<mt;Ue+=1)gt[Ue].ty===4&&Dt(gt[Ue].shapes)}return function(gt){if(ve(wt,gt.v)&&(Mt(gt.layers),gt.assets)){var Ue,mt=gt.assets.length;for(Ue=0;Ue<mt;Ue+=1)gt.assets[Ue].layers&&Mt(gt.assets[Ue].layers)}}}(),yt=function(){var wt=[4,4,18];function Dt(gt){var Ue,mt=gt.length,_t,Vt;for(Ue=mt-1;Ue>=0;Ue-=1)if(gt[Ue].ty==="sh")if(gt[Ue].ks.k.i)gt[Ue].ks.k.c=gt[Ue].closed;else for(Vt=gt[Ue].ks.k.length,_t=0;_t<Vt;_t+=1)gt[Ue].ks.k[_t].s&&(gt[Ue].ks.k[_t].s[0].c=gt[Ue].closed),gt[Ue].ks.k[_t].e&&(gt[Ue].ks.k[_t].e[0].c=gt[Ue].closed);else gt[Ue].ty==="gr"&&Dt(gt[Ue].it)}function Mt(gt){var Ue,mt,_t=gt.length,Vt,xt,cr,yr;for(mt=0;mt<_t;mt+=1){if(Ue=gt[mt],Ue.hasMask){var _r=Ue.masksProperties;for(xt=_r.length,Vt=0;Vt<xt;Vt+=1)if(_r[Vt].pt.k.i)_r[Vt].pt.k.c=_r[Vt].cl;else for(yr=_r[Vt].pt.k.length,cr=0;cr<yr;cr+=1)_r[Vt].pt.k[cr].s&&(_r[Vt].pt.k[cr].s[0].c=_r[Vt].cl),_r[Vt].pt.k[cr].e&&(_r[Vt].pt.k[cr].e[0].c=_r[Vt].cl)}Ue.ty===4&&Dt(Ue.shapes)}}return function(gt){if(ve(wt,gt.v)&&(Mt(gt.layers),gt.assets)){var Ue,mt=gt.assets.length;for(Ue=0;Ue<mt;Ue+=1)gt.assets[Ue].layers&&Mt(gt.assets[Ue].layers)}}}();function kt(wt){wt.__complete||(et(wt),Pe(wt),Be(wt),Ve(wt),yt(wt),Le(wt.layers,wt.assets),wt.__complete=!0)}function Ot(wt){wt.t.a.length===0&&!("m"in wt.t.p)&&(wt.singleShape=!0)}var Ft={};return Ft.completeData=kt,Ft.checkColors=et,Ft.checkChars=Be,Ft.checkPathProperties=Ve,Ft.checkShapes=yt,Ft.completeLayers=Le,Ft}if(o.dataManager||(o.dataManager=Se()),o.assetLoader||(o.assetLoader=function(){function Le(g){var b=g.getResponseHeader("content-type");return b&&g.responseType==="json"&&b.indexOf("json")!==-1||g.response&&typeof g.response=="object"?g.response:g.response&&typeof g.response=="string"?JSON.parse(g.response):g.responseText?JSON.parse(g.responseText):null}function he(g,b,ve,Pe){var Be,Ve=new XMLHttpRequest;try{Ve.responseType="json"}catch{}Ve.onreadystatechange=function(){if(Ve.readyState===4)if(Ve.status===200)Be=Le(Ve),ve(Be);else try{Be=Le(Ve),ve(Be)}catch(et){Pe&&Pe(et)}};try{Ve.open("GET",g,!0)}catch{Ve.open("GET",b+"/"+g,!0)}Ve.send()}return{load:he}}()),ye.data.type==="loadAnimation")o.assetLoader.load(ye.data.path,ye.data.fullPath,function(Le){o.dataManager.completeData(Le),o.postMessage({id:ye.data.id,payload:Le,status:"success"})},function(){o.postMessage({id:ye.data.id,status:"error"})});else if(ye.data.type==="complete"){var Ce=ye.data.animation;o.dataManager.completeData(Ce),o.postMessage({id:ye.data.id,payload:Ce,status:"success"})}else ye.data.type==="loadData"&&o.assetLoader.load(ye.data.path,ye.data.fullPath,function(Le){o.postMessage({id:ye.data.id,payload:Le,status:"success"})},function(){o.postMessage({id:ye.data.id,status:"error"})})}),n.onmessage=function(_){var ye=_.data,Se=ye.id,Ce=e[Se];e[Se]=null,ye.status==="success"?Ce.onComplete(ye.payload):Ce.onError&&Ce.onError()})}function u(_,ye){r+=1;var Se="processId_"+r;return e[Se]={onComplete:_,onError:ye},Se}function f(_,ye,Se){c();var Ce=u(ye,Se);n.postMessage({type:"loadAnimation",path:_,fullPath:window.location.origin+window.location.pathname,id:Ce})}function d(_,ye,Se){c();var Ce=u(ye,Se);n.postMessage({type:"loadData",path:_,fullPath:window.location.origin+window.location.pathname,id:Ce})}function m(_,ye,Se){c();var Ce=u(ye,Se);n.postMessage({type:"complete",animation:_,id:Ce})}return{loadAnimation:f,loadData:d,completeAnimation:m}}();function getFontProperties(r){for(var e=r.fStyle?r.fStyle.split(" "):[],i="normal",n="normal",s=e.length,o,a=0;a<s;a+=1)switch(o=e[a].toLowerCase(),o){case"italic":n="italic";break;case"bold":i="700";break;case"black":i="900";break;case"medium":i="500";break;case"regular":case"normal":i="400";break;case"light":case"thin":i="200";break}return{style:n,weight:r.fWeight||i}}var FontManager=function(){var r=5e3,e={w:0,size:0,shapes:[]},i=[];i=i.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var n=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],s=[65039,8205];function o(ve){var Pe=ve.split(","),Be,Ve=Pe.length,et=[];for(Be=0;Be<Ve;Be+=1)Pe[Be]!=="sans-serif"&&Pe[Be]!=="monospace"&&et.push(Pe[Be]);return et.join(",")}function a(ve,Pe){var Be=createTag("span");Be.setAttribute("aria-hidden",!0),Be.style.fontFamily=Pe;var Ve=createTag("span");Ve.innerText="giItT1WQy@!-/#",Be.style.position="absolute",Be.style.left="-10000px",Be.style.top="-10000px",Be.style.fontSize="300px",Be.style.fontVariant="normal",Be.style.fontStyle="normal",Be.style.fontWeight="normal",Be.style.letterSpacing="0",Be.appendChild(Ve),document.body.appendChild(Be);var et=Ve.offsetWidth;return Ve.style.fontFamily=o(ve)+", "+Pe,{node:Ve,w:et,parent:Be}}function c(){var ve,Pe=this.fonts.length,Be,Ve,et=Pe;for(ve=0;ve<Pe;ve+=1)this.fonts[ve].loaded?et-=1:this.fonts[ve].fOrigin==="n"||this.fonts[ve].origin===0?this.fonts[ve].loaded=!0:(Be=this.fonts[ve].monoCase.node,Ve=this.fonts[ve].monoCase.w,Be.offsetWidth!==Ve?(et-=1,this.fonts[ve].loaded=!0):(Be=this.fonts[ve].sansCase.node,Ve=this.fonts[ve].sansCase.w,Be.offsetWidth!==Ve&&(et-=1,this.fonts[ve].loaded=!0)),this.fonts[ve].loaded&&(this.fonts[ve].sansCase.parent.parentNode.removeChild(this.fonts[ve].sansCase.parent),this.fonts[ve].monoCase.parent.parentNode.removeChild(this.fonts[ve].monoCase.parent)));et!==0&&Date.now()-this.initTime<r?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function u(ve,Pe){var Be=createNS("text");Be.style.fontSize="100px";var Ve=getFontProperties(Pe);Be.setAttribute("font-family",Pe.fFamily),Be.setAttribute("font-style",Ve.style),Be.setAttribute("font-weight",Ve.weight),Be.textContent="1",Pe.fClass?(Be.style.fontFamily="inherit",Be.setAttribute("class",Pe.fClass)):Be.style.fontFamily=Pe.fFamily,ve.appendChild(Be);var et=createTag("canvas").getContext("2d");return et.font=Pe.fWeight+" "+Pe.fStyle+" 100px "+Pe.fFamily,Be}function f(ve,Pe){if(!ve){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=ve.list;return}var Be=ve.list,Ve,et=Be.length,yt=et;for(Ve=0;Ve<et;Ve+=1){var kt=!0,Ot,Ft;if(Be[Ve].loaded=!1,Be[Ve].monoCase=a(Be[Ve].fFamily,"monospace"),Be[Ve].sansCase=a(Be[Ve].fFamily,"sans-serif"),!Be[Ve].fPath)Be[Ve].loaded=!0,yt-=1;else if(Be[Ve].fOrigin==="p"||Be[Ve].origin===3){if(Ot=document.querySelectorAll('style[f-forigin="p"][f-family="'+Be[Ve].fFamily+'"], style[f-origin="3"][f-family="'+Be[Ve].fFamily+'"]'),Ot.length>0&&(kt=!1),kt){var wt=createTag("style");wt.setAttribute("f-forigin",Be[Ve].fOrigin),wt.setAttribute("f-origin",Be[Ve].origin),wt.setAttribute("f-family",Be[Ve].fFamily),wt.type="text/css",wt.innerText="@font-face {font-family: "+Be[Ve].fFamily+"; font-style: normal; src: url('"+Be[Ve].fPath+"');}",Pe.appendChild(wt)}}else if(Be[Ve].fOrigin==="g"||Be[Ve].origin===1){for(Ot=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Ft=0;Ft<Ot.length;Ft+=1)Ot[Ft].href.indexOf(Be[Ve].fPath)!==-1&&(kt=!1);if(kt){var Dt=createTag("link");Dt.setAttribute("f-forigin",Be[Ve].fOrigin),Dt.setAttribute("f-origin",Be[Ve].origin),Dt.type="text/css",Dt.rel="stylesheet",Dt.href=Be[Ve].fPath,document.body.appendChild(Dt)}}else if(Be[Ve].fOrigin==="t"||Be[Ve].origin===2){for(Ot=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Ft=0;Ft<Ot.length;Ft+=1)Be[Ve].fPath===Ot[Ft].src&&(kt=!1);if(kt){var Mt=createTag("link");Mt.setAttribute("f-forigin",Be[Ve].fOrigin),Mt.setAttribute("f-origin",Be[Ve].origin),Mt.setAttribute("rel","stylesheet"),Mt.setAttribute("href",Be[Ve].fPath),Pe.appendChild(Mt)}}Be[Ve].helper=u(Pe,Be[Ve]),Be[Ve].cache={},this.fonts.push(Be[Ve])}yt===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function d(ve){if(!!ve){this.chars||(this.chars=[]);var Pe,Be=ve.length,Ve,et=this.chars.length,yt;for(Pe=0;Pe<Be;Pe+=1){for(Ve=0,yt=!1;Ve<et;)this.chars[Ve].style===ve[Pe].style&&this.chars[Ve].fFamily===ve[Pe].fFamily&&this.chars[Ve].ch===ve[Pe].ch&&(yt=!0),Ve+=1;yt||(this.chars.push(ve[Pe]),et+=1)}}}function m(ve,Pe,Be){for(var Ve=0,et=this.chars.length;Ve<et;){if(this.chars[Ve].ch===ve&&this.chars[Ve].style===Pe&&this.chars[Ve].fFamily===Be)return this.chars[Ve];Ve+=1}return(typeof ve=="string"&&ve.charCodeAt(0)!==13||!ve)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",ve,Pe,Be)),e}function _(ve,Pe,Be){var Ve=this.getFontByName(Pe),et=ve.charCodeAt(0);if(!Ve.cache[et+1]){var yt=Ve.helper;if(ve===" "){yt.textContent="|"+ve+"|";var kt=yt.getComputedTextLength();yt.textContent="||";var Ot=yt.getComputedTextLength();Ve.cache[et+1]=(kt-Ot)/100}else yt.textContent=ve,Ve.cache[et+1]=yt.getComputedTextLength()/100}return Ve.cache[et+1]*Be}function ye(ve){for(var Pe=0,Be=this.fonts.length;Pe<Be;){if(this.fonts[Pe].fName===ve)return this.fonts[Pe];Pe+=1}return this.fonts[0]}function Se(ve,Pe){var Be=ve.toString(16)+Pe.toString(16);return n.indexOf(Be)!==-1}function Ce(ve,Pe){return Pe?ve===s[0]&&Pe===s[1]:ve===s[1]}function Le(ve){return i.indexOf(ve)!==-1}function he(){this.isLoaded=!0}var g=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};g.isModifier=Se,g.isZeroWidthJoiner=Ce,g.isCombinedCharacter=Le;var b={addChars:d,addFonts:f,getCharData:m,getFontByName:ye,measureText:_,checkLoadedFonts:c,setIsLoaded:he};return g.prototype=b,g}(),PropertyFactory=function(){var r=initialDefaultFrame,e=Math.abs;function i(Le,he){var g=this.offsetTime,b;this.propType==="multidimensional"&&(b=createTypedArray("float32",this.pv.length));for(var ve=he.lastIndex,Pe=ve,Be=this.keyframes.length-1,Ve=!0,et,yt,kt;Ve;){if(et=this.keyframes[Pe],yt=this.keyframes[Pe+1],Pe===Be-1&&Le>=yt.t-g){et.h&&(et=yt),ve=0;break}if(yt.t-g>Le){ve=Pe;break}Pe<Be-1?Pe+=1:(ve=0,Ve=!1)}kt=this.keyframesMetadata[Pe]||{};var Ot,Ft,wt,Dt,Mt,gt,Ue=yt.t-g,mt=et.t-g,_t;if(et.to){kt.bezierData||(kt.bezierData=bez.buildBezierData(et.s,yt.s||et.e,et.to,et.ti));var Vt=kt.bezierData;if(Le>=Ue||Le<mt){var xt=Le>=Ue?Vt.points.length-1:0;for(Ft=Vt.points[xt].point.length,Ot=0;Ot<Ft;Ot+=1)b[Ot]=Vt.points[xt].point[Ot]}else{kt.__fnct?gt=kt.__fnct:(gt=BezierFactory.getBezierEasing(et.o.x,et.o.y,et.i.x,et.i.y,et.n).get,kt.__fnct=gt),wt=gt((Le-mt)/(Ue-mt));var cr=Vt.segmentLength*wt,yr,_r=he.lastFrame<Le&&he._lastKeyframeIndex===Pe?he._lastAddedLength:0;for(Mt=he.lastFrame<Le&&he._lastKeyframeIndex===Pe?he._lastPoint:0,Ve=!0,Dt=Vt.points.length;Ve;){if(_r+=Vt.points[Mt].partialLength,cr===0||wt===0||Mt===Vt.points.length-1){for(Ft=Vt.points[Mt].point.length,Ot=0;Ot<Ft;Ot+=1)b[Ot]=Vt.points[Mt].point[Ot];break}else if(cr>=_r&&cr<_r+Vt.points[Mt+1].partialLength){for(yr=(cr-_r)/Vt.points[Mt+1].partialLength,Ft=Vt.points[Mt].point.length,Ot=0;Ot<Ft;Ot+=1)b[Ot]=Vt.points[Mt].point[Ot]+(Vt.points[Mt+1].point[Ot]-Vt.points[Mt].point[Ot])*yr;break}Mt<Dt-1?Mt+=1:Ve=!1}he._lastPoint=Mt,he._lastAddedLength=_r-Vt.points[Mt].partialLength,he._lastKeyframeIndex=Pe}}else{var Nt,or,rr,lr,br;if(Be=et.s.length,_t=yt.s||et.e,this.sh&&et.h!==1)if(Le>=Ue)b[0]=_t[0],b[1]=_t[1],b[2]=_t[2];else if(Le<=mt)b[0]=et.s[0],b[1]=et.s[1],b[2]=et.s[2];else{var Er=o(et.s),dr=o(_t),pr=(Le-mt)/(Ue-mt);s(b,n(Er,dr,pr))}else for(Pe=0;Pe<Be;Pe+=1)et.h!==1&&(Le>=Ue?wt=1:Le<mt?wt=0:(et.o.x.constructor===Array?(kt.__fnct||(kt.__fnct=[]),kt.__fnct[Pe]?gt=kt.__fnct[Pe]:(Nt=et.o.x[Pe]===void 0?et.o.x[0]:et.o.x[Pe],or=et.o.y[Pe]===void 0?et.o.y[0]:et.o.y[Pe],rr=et.i.x[Pe]===void 0?et.i.x[0]:et.i.x[Pe],lr=et.i.y[Pe]===void 0?et.i.y[0]:et.i.y[Pe],gt=BezierFactory.getBezierEasing(Nt,or,rr,lr).get,kt.__fnct[Pe]=gt)):kt.__fnct?gt=kt.__fnct:(Nt=et.o.x,or=et.o.y,rr=et.i.x,lr=et.i.y,gt=BezierFactory.getBezierEasing(Nt,or,rr,lr).get,et.keyframeMetadata=gt),wt=gt((Le-mt)/(Ue-mt)))),_t=yt.s||et.e,br=et.h===1?et.s[Pe]:et.s[Pe]+(_t[Pe]-et.s[Pe])*wt,this.propType==="multidimensional"?b[Pe]=br:b=br}return he.lastIndex=ve,b}function n(Le,he,g){var b=[],ve=Le[0],Pe=Le[1],Be=Le[2],Ve=Le[3],et=he[0],yt=he[1],kt=he[2],Ot=he[3],Ft,wt,Dt,Mt,gt;return wt=ve*et+Pe*yt+Be*kt+Ve*Ot,wt<0&&(wt=-wt,et=-et,yt=-yt,kt=-kt,Ot=-Ot),1-wt>1e-6?(Ft=Math.acos(wt),Dt=Math.sin(Ft),Mt=Math.sin((1-g)*Ft)/Dt,gt=Math.sin(g*Ft)/Dt):(Mt=1-g,gt=g),b[0]=Mt*ve+gt*et,b[1]=Mt*Pe+gt*yt,b[2]=Mt*Be+gt*kt,b[3]=Mt*Ve+gt*Ot,b}function s(Le,he){var g=he[0],b=he[1],ve=he[2],Pe=he[3],Be=Math.atan2(2*b*Pe-2*g*ve,1-2*b*b-2*ve*ve),Ve=Math.asin(2*g*b+2*ve*Pe),et=Math.atan2(2*g*Pe-2*b*ve,1-2*g*g-2*ve*ve);Le[0]=Be/degToRads,Le[1]=Ve/degToRads,Le[2]=et/degToRads}function o(Le){var he=Le[0]*degToRads,g=Le[1]*degToRads,b=Le[2]*degToRads,ve=Math.cos(he/2),Pe=Math.cos(g/2),Be=Math.cos(b/2),Ve=Math.sin(he/2),et=Math.sin(g/2),yt=Math.sin(b/2),kt=ve*Pe*Be-Ve*et*yt,Ot=Ve*et*Be+ve*Pe*yt,Ft=Ve*Pe*Be+ve*et*yt,wt=ve*et*Be-Ve*Pe*yt;return[Ot,Ft,wt,kt]}function a(){var Le=this.comp.renderedFrame-this.offsetTime,he=this.keyframes[0].t-this.offsetTime,g=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(Le===this._caching.lastFrame||this._caching.lastFrame!==r&&(this._caching.lastFrame>=g&&Le>=g||this._caching.lastFrame<he&&Le<he))){this._caching.lastFrame>=Le&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var b=this.interpolateValue(Le,this._caching);this.pv=b}return this._caching.lastFrame=Le,this.pv}function c(Le){var he;if(this.propType==="unidimensional")he=Le*this.mult,e(this.v-he)>1e-5&&(this.v=he,this._mdf=!0);else for(var g=0,b=this.v.length;g<b;)he=Le[g]*this.mult,e(this.v[g]-he)>1e-5&&(this.v[g]=he,this._mdf=!0),g+=1}function u(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var Le,he=this.effectsSequence.length,g=this.kf?this.pv:this.data.k;for(Le=0;Le<he;Le+=1)g=this.effectsSequence[Le](g);this.setVValue(g),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function f(Le){this.effectsSequence.push(Le),this.container.addDynamicProperty(this)}function d(Le,he,g,b){this.propType="unidimensional",this.mult=g||1,this.data=he,this.v=g?he.k*g:he.k,this.pv=he.k,this._mdf=!1,this.elem=Le,this.container=b,this.comp=Le.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=u,this.setVValue=c,this.addEffect=f}function m(Le,he,g,b){this.propType="multidimensional",this.mult=g||1,this.data=he,this._mdf=!1,this.elem=Le,this.container=b,this.comp=Le.comp,this.k=!1,this.kf=!1,this.frameId=-1;var ve,Pe=he.k.length;for(this.v=createTypedArray("float32",Pe),this.pv=createTypedArray("float32",Pe),this.vel=createTypedArray("float32",Pe),ve=0;ve<Pe;ve+=1)this.v[ve]=he.k[ve]*this.mult,this.pv[ve]=he.k[ve];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=u,this.setVValue=c,this.addEffect=f}function _(Le,he,g,b){this.propType="unidimensional",this.keyframes=he.k,this.keyframesMetadata=[],this.offsetTime=Le.data.st,this.frameId=-1,this._caching={lastFrame:r,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=he,this.mult=g||1,this.elem=Le,this.container=b,this.comp=Le.comp,this.v=r,this.pv=r,this._isFirstFrame=!0,this.getValue=u,this.setVValue=c,this.interpolateValue=i,this.effectsSequence=[a.bind(this)],this.addEffect=f}function ye(Le,he,g,b){this.propType="multidimensional";var ve,Pe=he.k.length,Be,Ve,et,yt;for(ve=0;ve<Pe-1;ve+=1)he.k[ve].to&&he.k[ve].s&&he.k[ve+1]&&he.k[ve+1].s&&(Be=he.k[ve].s,Ve=he.k[ve+1].s,et=he.k[ve].to,yt=he.k[ve].ti,(Be.length===2&&!(Be[0]===Ve[0]&&Be[1]===Ve[1])&&bez.pointOnLine2D(Be[0],Be[1],Ve[0],Ve[1],Be[0]+et[0],Be[1]+et[1])&&bez.pointOnLine2D(Be[0],Be[1],Ve[0],Ve[1],Ve[0]+yt[0],Ve[1]+yt[1])||Be.length===3&&!(Be[0]===Ve[0]&&Be[1]===Ve[1]&&Be[2]===Ve[2])&&bez.pointOnLine3D(Be[0],Be[1],Be[2],Ve[0],Ve[1],Ve[2],Be[0]+et[0],Be[1]+et[1],Be[2]+et[2])&&bez.pointOnLine3D(Be[0],Be[1],Be[2],Ve[0],Ve[1],Ve[2],Ve[0]+yt[0],Ve[1]+yt[1],Ve[2]+yt[2]))&&(he.k[ve].to=null,he.k[ve].ti=null),Be[0]===Ve[0]&&Be[1]===Ve[1]&&et[0]===0&&et[1]===0&&yt[0]===0&&yt[1]===0&&(Be.length===2||Be[2]===Ve[2]&&et[2]===0&&yt[2]===0)&&(he.k[ve].to=null,he.k[ve].ti=null));this.effectsSequence=[a.bind(this)],this.data=he,this.keyframes=he.k,this.keyframesMetadata=[],this.offsetTime=Le.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=g||1,this.elem=Le,this.container=b,this.comp=Le.comp,this.getValue=u,this.setVValue=c,this.interpolateValue=i,this.frameId=-1;var kt=he.k[0].s.length;for(this.v=createTypedArray("float32",kt),this.pv=createTypedArray("float32",kt),ve=0;ve<kt;ve+=1)this.v[ve]=r,this.pv[ve]=r;this._caching={lastFrame:r,lastIndex:0,value:createTypedArray("float32",kt)},this.addEffect=f}function Se(Le,he,g,b,ve){var Pe;if(!he.k.length)Pe=new d(Le,he,b,ve);else if(typeof he.k[0]=="number")Pe=new m(Le,he,b,ve);else switch(g){case 0:Pe=new _(Le,he,b,ve);break;case 1:Pe=new ye(Le,he,b,ve);break}return Pe.effectsSequence.length&&ve.addDynamicProperty(Pe),Pe}var Ce={getProp:Se};return Ce}(),TransformPropertyFactory=function(){var r=[0,0];function e(u){var f=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||f,this.a&&u.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&u.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&u.skewFromAxis(-this.sk.v,this.sa.v),this.r?u.rotate(-this.r.v):u.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?u.translate(this.px.v,this.py.v,-this.pz.v):u.translate(this.px.v,this.py.v,0):u.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function i(u){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||u){var f;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var d,m;if(f=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(d=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/f,0),m=this.p.getValueAtTime(this.p.keyframes[0].t/f,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(d=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/f,0),m=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/f,0)):(d=this.p.pv,m=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/f,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){d=[],m=[];var _=this.px,ye=this.py;_._caching.lastFrame+_.offsetTime<=_.keyframes[0].t?(d[0]=_.getValueAtTime((_.keyframes[0].t+.01)/f,0),d[1]=ye.getValueAtTime((ye.keyframes[0].t+.01)/f,0),m[0]=_.getValueAtTime(_.keyframes[0].t/f,0),m[1]=ye.getValueAtTime(ye.keyframes[0].t/f,0)):_._caching.lastFrame+_.offsetTime>=_.keyframes[_.keyframes.length-1].t?(d[0]=_.getValueAtTime(_.keyframes[_.keyframes.length-1].t/f,0),d[1]=ye.getValueAtTime(ye.keyframes[ye.keyframes.length-1].t/f,0),m[0]=_.getValueAtTime((_.keyframes[_.keyframes.length-1].t-.01)/f,0),m[1]=ye.getValueAtTime((ye.keyframes[ye.keyframes.length-1].t-.01)/f,0)):(d=[_.pv,ye.pv],m[0]=_.getValueAtTime((_._caching.lastFrame+_.offsetTime-.01)/f,_.offsetTime),m[1]=ye.getValueAtTime((ye._caching.lastFrame+ye.offsetTime-.01)/f,ye.offsetTime))}else m=r,d=m;this.v.rotate(-Math.atan2(d[1]-m[1],d[0]-m[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function n(){if(!this.a.k)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function s(){}function o(u){this._addDynamicProperty(u),this.elem.addDynamicProperty(u),this._isDirty=!0}function a(u,f,d){if(this.elem=u,this.frameId=-1,this.propType="transform",this.data=f,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(d||u),f.p&&f.p.s?(this.px=PropertyFactory.getProp(u,f.p.x,0,0,this),this.py=PropertyFactory.getProp(u,f.p.y,0,0,this),f.p.z&&(this.pz=PropertyFactory.getProp(u,f.p.z,0,0,this))):this.p=PropertyFactory.getProp(u,f.p||{k:[0,0,0]},1,0,this),f.rx){if(this.rx=PropertyFactory.getProp(u,f.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(u,f.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(u,f.rz,0,degToRads,this),f.or.k[0].ti){var m,_=f.or.k.length;for(m=0;m<_;m+=1)f.or.k[m].to=null,f.or.k[m].ti=null}this.or=PropertyFactory.getProp(u,f.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(u,f.r||{k:0},0,degToRads,this);f.sk&&(this.sk=PropertyFactory.getProp(u,f.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(u,f.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(u,f.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(u,f.s||{k:[100,100,100]},1,.01,this),f.o?this.o=PropertyFactory.getProp(u,f.o,0,.01,u):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}a.prototype={applyToMatrix:e,getValue:i,precalculateMatrix:n,autoOrient:s},extendPrototype([DynamicPropertyContainer],a),a.prototype.addDynamicProperty=o,a.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function c(u,f,d){return new a(u,f,d)}return{getTransformProperty:c}}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(r,e){this.c=r,this.setLength(e);for(var i=0;i<e;)this.v[i]=pointPool.newElement(),this.o[i]=pointPool.newElement(),this.i[i]=pointPool.newElement(),i+=1},ShapePath.prototype.setLength=function(r){for(;this._maxLength<r;)this.doubleArrayLength();this._length=r},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(r,e,i,n,s){var o;switch(this._length=Math.max(this._length,n+1),this._length>=this._maxLength&&this.doubleArrayLength(),i){case"v":o=this.v;break;case"i":o=this.i;break;case"o":o=this.o;break;default:o=[];break}(!o[n]||o[n]&&!s)&&(o[n]=pointPool.newElement()),o[n][0]=r,o[n][1]=e},ShapePath.prototype.setTripleAt=function(r,e,i,n,s,o,a,c){this.setXYAt(r,e,"v",a,c),this.setXYAt(i,n,"o",a,c),this.setXYAt(s,o,"i",a,c)},ShapePath.prototype.reverse=function(){var r=new ShapePath;r.setPathData(this.c,this._length);var e=this.v,i=this.o,n=this.i,s=0;this.c&&(r.setTripleAt(e[0][0],e[0][1],n[0][0],n[0][1],i[0][0],i[0][1],0,!1),s=1);var o=this._length-1,a=this._length,c;for(c=s;c<a;c+=1)r.setTripleAt(e[o][0],e[o][1],n[o][0],n[o][1],i[o][0],i[o][1],c,!1),o-=1;return r};var ShapePropertyFactory=function(){var r=-999999;function e(he,g,b){var ve=b.lastIndex,Pe,Be,Ve,et,yt,kt,Ot,Ft,wt,Dt=this.keyframes;if(he<Dt[0].t-this.offsetTime)Pe=Dt[0].s[0],Ve=!0,ve=0;else if(he>=Dt[Dt.length-1].t-this.offsetTime)Pe=Dt[Dt.length-1].s?Dt[Dt.length-1].s[0]:Dt[Dt.length-2].e[0],Ve=!0;else{for(var Mt=ve,gt=Dt.length-1,Ue=!0,mt,_t,Vt;Ue&&(mt=Dt[Mt],_t=Dt[Mt+1],!(_t.t-this.offsetTime>he));)Mt<gt-1?Mt+=1:Ue=!1;if(Vt=this.keyframesMetadata[Mt]||{},Ve=mt.h===1,ve=Mt,!Ve){if(he>=_t.t-this.offsetTime)Ft=1;else if(he<mt.t-this.offsetTime)Ft=0;else{var xt;Vt.__fnct?xt=Vt.__fnct:(xt=BezierFactory.getBezierEasing(mt.o.x,mt.o.y,mt.i.x,mt.i.y).get,Vt.__fnct=xt),Ft=xt((he-(mt.t-this.offsetTime))/(_t.t-this.offsetTime-(mt.t-this.offsetTime)))}Be=_t.s?_t.s[0]:mt.e[0]}Pe=mt.s[0]}for(kt=g._length,Ot=Pe.i[0].length,b.lastIndex=ve,et=0;et<kt;et+=1)for(yt=0;yt<Ot;yt+=1)wt=Ve?Pe.i[et][yt]:Pe.i[et][yt]+(Be.i[et][yt]-Pe.i[et][yt])*Ft,g.i[et][yt]=wt,wt=Ve?Pe.o[et][yt]:Pe.o[et][yt]+(Be.o[et][yt]-Pe.o[et][yt])*Ft,g.o[et][yt]=wt,wt=Ve?Pe.v[et][yt]:Pe.v[et][yt]+(Be.v[et][yt]-Pe.v[et][yt])*Ft,g.v[et][yt]=wt}function i(){var he=this.comp.renderedFrame-this.offsetTime,g=this.keyframes[0].t-this.offsetTime,b=this.keyframes[this.keyframes.length-1].t-this.offsetTime,ve=this._caching.lastFrame;return ve!==r&&(ve<g&&he<g||ve>b&&he>b)||(this._caching.lastIndex=ve<he?this._caching.lastIndex:0,this.interpolateShape(he,this.pv,this._caching)),this._caching.lastFrame=he,this.pv}function n(){this.paths=this.localShapeCollection}function s(he,g){if(he._length!==g._length||he.c!==g.c)return!1;var b,ve=he._length;for(b=0;b<ve;b+=1)if(he.v[b][0]!==g.v[b][0]||he.v[b][1]!==g.v[b][1]||he.o[b][0]!==g.o[b][0]||he.o[b][1]!==g.o[b][1]||he.i[b][0]!==g.i[b][0]||he.i[b][1]!==g.i[b][1])return!1;return!0}function o(he){s(this.v,he)||(this.v=shapePool.clone(he),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function a(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var he;this.kf?he=this.pv:this.data.ks?he=this.data.ks.k:he=this.data.pt.k;var g,b=this.effectsSequence.length;for(g=0;g<b;g+=1)he=this.effectsSequence[g](he);this.setVValue(he),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function c(he,g,b){this.propType="shape",this.comp=he.comp,this.container=he,this.elem=he,this.data=g,this.k=!1,this.kf=!1,this._mdf=!1;var ve=b===3?g.pt.k:g.ks.k;this.v=shapePool.clone(ve),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=n,this.effectsSequence=[]}function u(he){this.effectsSequence.push(he),this.container.addDynamicProperty(this)}c.prototype.interpolateShape=e,c.prototype.getValue=a,c.prototype.setVValue=o,c.prototype.addEffect=u;function f(he,g,b){this.propType="shape",this.comp=he.comp,this.elem=he,this.container=he,this.offsetTime=he.data.st,this.keyframes=b===3?g.pt.k:g.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var ve=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,ve),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=r,this.reset=n,this._caching={lastFrame:r,lastIndex:0},this.effectsSequence=[i.bind(this)]}f.prototype.getValue=a,f.prototype.interpolateShape=e,f.prototype.setVValue=o,f.prototype.addEffect=u;var d=function(){var he=roundCorner;function g(b,ve){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=ve.d,this.elem=b,this.comp=b.comp,this.frameId=-1,this.initDynamicPropertyContainer(b),this.p=PropertyFactory.getProp(b,ve.p,1,0,this),this.s=PropertyFactory.getProp(b,ve.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return g.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var b=this.p.v[0],ve=this.p.v[1],Pe=this.s.v[0]/2,Be=this.s.v[1]/2,Ve=this.d!==3,et=this.v;et.v[0][0]=b,et.v[0][1]=ve-Be,et.v[1][0]=Ve?b+Pe:b-Pe,et.v[1][1]=ve,et.v[2][0]=b,et.v[2][1]=ve+Be,et.v[3][0]=Ve?b-Pe:b+Pe,et.v[3][1]=ve,et.i[0][0]=Ve?b-Pe*he:b+Pe*he,et.i[0][1]=ve-Be,et.i[1][0]=Ve?b+Pe:b-Pe,et.i[1][1]=ve-Be*he,et.i[2][0]=Ve?b+Pe*he:b-Pe*he,et.i[2][1]=ve+Be,et.i[3][0]=Ve?b-Pe:b+Pe,et.i[3][1]=ve+Be*he,et.o[0][0]=Ve?b+Pe*he:b-Pe*he,et.o[0][1]=ve-Be,et.o[1][0]=Ve?b+Pe:b-Pe,et.o[1][1]=ve+Be*he,et.o[2][0]=Ve?b-Pe*he:b+Pe*he,et.o[2][1]=ve+Be,et.o[3][0]=Ve?b-Pe:b+Pe,et.o[3][1]=ve-Be*he}},extendPrototype([DynamicPropertyContainer],g),g}(),m=function(){function he(g,b){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=g,this.comp=g.comp,this.data=b,this.frameId=-1,this.d=b.d,this.initDynamicPropertyContainer(g),b.sy===1?(this.ir=PropertyFactory.getProp(g,b.ir,0,0,this),this.is=PropertyFactory.getProp(g,b.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(g,b.pt,0,0,this),this.p=PropertyFactory.getProp(g,b.p,1,0,this),this.r=PropertyFactory.getProp(g,b.r,0,degToRads,this),this.or=PropertyFactory.getProp(g,b.or,0,0,this),this.os=PropertyFactory.getProp(g,b.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return he.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var g=Math.floor(this.pt.v)*2,b=Math.PI*2/g,ve=!0,Pe=this.or.v,Be=this.ir.v,Ve=this.os.v,et=this.is.v,yt=2*Math.PI*Pe/(g*2),kt=2*Math.PI*Be/(g*2),Ot,Ft,wt,Dt,Mt=-Math.PI/2;Mt+=this.r.v;var gt=this.data.d===3?-1:1;for(this.v._length=0,Ot=0;Ot<g;Ot+=1){Ft=ve?Pe:Be,wt=ve?Ve:et,Dt=ve?yt:kt;var Ue=Ft*Math.cos(Mt),mt=Ft*Math.sin(Mt),_t=Ue===0&&mt===0?0:mt/Math.sqrt(Ue*Ue+mt*mt),Vt=Ue===0&&mt===0?0:-Ue/Math.sqrt(Ue*Ue+mt*mt);Ue+=+this.p.v[0],mt+=+this.p.v[1],this.v.setTripleAt(Ue,mt,Ue-_t*Dt*wt*gt,mt-Vt*Dt*wt*gt,Ue+_t*Dt*wt*gt,mt+Vt*Dt*wt*gt,Ot,!0),ve=!ve,Mt+=b*gt}},convertPolygonToPath:function(){var g=Math.floor(this.pt.v),b=Math.PI*2/g,ve=this.or.v,Pe=this.os.v,Be=2*Math.PI*ve/(g*4),Ve,et=-Math.PI*.5,yt=this.data.d===3?-1:1;for(et+=this.r.v,this.v._length=0,Ve=0;Ve<g;Ve+=1){var kt=ve*Math.cos(et),Ot=ve*Math.sin(et),Ft=kt===0&&Ot===0?0:Ot/Math.sqrt(kt*kt+Ot*Ot),wt=kt===0&&Ot===0?0:-kt/Math.sqrt(kt*kt+Ot*Ot);kt+=+this.p.v[0],Ot+=+this.p.v[1],this.v.setTripleAt(kt,Ot,kt-Ft*Be*Pe*yt,Ot-wt*Be*Pe*yt,kt+Ft*Be*Pe*yt,Ot+wt*Be*Pe*yt,Ve,!0),et+=b*yt}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],he),he}(),_=function(){function he(g,b){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=g,this.comp=g.comp,this.frameId=-1,this.d=b.d,this.initDynamicPropertyContainer(g),this.p=PropertyFactory.getProp(g,b.p,1,0,this),this.s=PropertyFactory.getProp(g,b.s,1,0,this),this.r=PropertyFactory.getProp(g,b.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return he.prototype={convertRectToPath:function(){var g=this.p.v[0],b=this.p.v[1],ve=this.s.v[0]/2,Pe=this.s.v[1]/2,Be=bmMin(ve,Pe,this.r.v),Ve=Be*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(g+ve,b-Pe+Be,g+ve,b-Pe+Be,g+ve,b-Pe+Ve,0,!0),this.v.setTripleAt(g+ve,b+Pe-Be,g+ve,b+Pe-Ve,g+ve,b+Pe-Be,1,!0),Be!==0?(this.v.setTripleAt(g+ve-Be,b+Pe,g+ve-Be,b+Pe,g+ve-Ve,b+Pe,2,!0),this.v.setTripleAt(g-ve+Be,b+Pe,g-ve+Ve,b+Pe,g-ve+Be,b+Pe,3,!0),this.v.setTripleAt(g-ve,b+Pe-Be,g-ve,b+Pe-Be,g-ve,b+Pe-Ve,4,!0),this.v.setTripleAt(g-ve,b-Pe+Be,g-ve,b-Pe+Ve,g-ve,b-Pe+Be,5,!0),this.v.setTripleAt(g-ve+Be,b-Pe,g-ve+Be,b-Pe,g-ve+Ve,b-Pe,6,!0),this.v.setTripleAt(g+ve-Be,b-Pe,g+ve-Ve,b-Pe,g+ve-Be,b-Pe,7,!0)):(this.v.setTripleAt(g-ve,b+Pe,g-ve+Ve,b+Pe,g-ve,b+Pe,2),this.v.setTripleAt(g-ve,b-Pe,g-ve,b-Pe+Ve,g-ve,b-Pe,3))):(this.v.setTripleAt(g+ve,b-Pe+Be,g+ve,b-Pe+Ve,g+ve,b-Pe+Be,0,!0),Be!==0?(this.v.setTripleAt(g+ve-Be,b-Pe,g+ve-Be,b-Pe,g+ve-Ve,b-Pe,1,!0),this.v.setTripleAt(g-ve+Be,b-Pe,g-ve+Ve,b-Pe,g-ve+Be,b-Pe,2,!0),this.v.setTripleAt(g-ve,b-Pe+Be,g-ve,b-Pe+Be,g-ve,b-Pe+Ve,3,!0),this.v.setTripleAt(g-ve,b+Pe-Be,g-ve,b+Pe-Ve,g-ve,b+Pe-Be,4,!0),this.v.setTripleAt(g-ve+Be,b+Pe,g-ve+Be,b+Pe,g-ve+Ve,b+Pe,5,!0),this.v.setTripleAt(g+ve-Be,b+Pe,g+ve-Ve,b+Pe,g+ve-Be,b+Pe,6,!0),this.v.setTripleAt(g+ve,b+Pe-Be,g+ve,b+Pe-Be,g+ve,b+Pe-Ve,7,!0)):(this.v.setTripleAt(g-ve,b-Pe,g-ve+Ve,b-Pe,g-ve,b-Pe,1,!0),this.v.setTripleAt(g-ve,b+Pe,g-ve,b+Pe-Ve,g-ve,b+Pe,2,!0),this.v.setTripleAt(g+ve,b+Pe,g+ve-Ve,b+Pe,g+ve,b+Pe,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:n},extendPrototype([DynamicPropertyContainer],he),he}();function ye(he,g,b){var ve;if(b===3||b===4){var Pe=b===3?g.pt:g.ks,Be=Pe.k;Be.length?ve=new f(he,g,b):ve=new c(he,g,b)}else b===5?ve=new _(he,g):b===6?ve=new d(he,g):b===7&&(ve=new m(he,g));return ve.k&&he.addDynamicProperty(ve),ve}function Se(){return c}function Ce(){return f}var Le={};return Le.getShapeProp=ye,Le.getConstructorFunction=Se,Le.getKeyframedConstructorFunction=Ce,Le}(),ShapeModifiers=function(){var r={},e={};r.registerModifier=i,r.getModifier=n;function i(s,o){e[s]||(e[s]=o)}function n(s,o,a){return new e[s](o,a)}return r}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(r){if(!this.closed){r.sh.container.addDynamicProperty(r.sh);var e={shape:r.sh,data:r,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&r.setAsAnimated()}},ShapeModifier.prototype.init=function(r,e){this.shapes=[],this.elem=r,this.initDynamicPropertyContainer(r),this.initModifierProperties(r,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(r,e){this.s=PropertyFactory.getProp(r,e.s,0,.01,this),this.e=PropertyFactory.getProp(r,e.e,0,.01,this),this.o=PropertyFactory.getProp(r,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(r){r.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(r,e,i,n,s){var o=[];e<=1?o.push({s:r,e}):r>=1?o.push({s:r-1,e:e-1}):(o.push({s:r,e:1}),o.push({s:0,e:e-1}));var a=[],c,u=o.length,f;for(c=0;c<u;c+=1)if(f=o[c],!(f.e*s<n||f.s*s>n+i)){var d,m;f.s*s<=n?d=0:d=(f.s*s-n)/i,f.e*s>=n+i?m=1:m=(f.e*s-n)/i,a.push([d,m])}return a.length||a.push([0,0]),a},TrimModifier.prototype.releasePathsData=function(r){var e,i=r.length;for(e=0;e<i;e+=1)segmentsLengthPool.release(r[e]);return r.length=0,r},TrimModifier.prototype.processShapes=function(r){var e,i;if(this._mdf||r){var n=this.o.v%360/360;if(n<0&&(n+=1),this.s.v>1?e=1+n:this.s.v<0?e=0+n:e=this.s.v+n,this.e.v>1?i=1+n:this.e.v<0?i=0+n:i=this.e.v+n,e>i){var s=e;e=i,i=s}e=Math.round(e*1e4)*1e-4,i=Math.round(i*1e4)*1e-4,this.sValue=e,this.eValue=i}else e=this.sValue,i=this.eValue;var o,a,c=this.shapes.length,u,f,d,m,_,ye=0;if(i===e)for(a=0;a<c;a+=1)this.shapes[a].localShapeCollection.releaseShapes(),this.shapes[a].shape._mdf=!0,this.shapes[a].shape.paths=this.shapes[a].localShapeCollection,this._mdf&&(this.shapes[a].pathsData.length=0);else if(i===1&&e===0||i===0&&e===1){if(this._mdf)for(a=0;a<c;a+=1)this.shapes[a].pathsData.length=0,this.shapes[a].shape._mdf=!0}else{var Se=[],Ce,Le;for(a=0;a<c;a+=1)if(Ce=this.shapes[a],!Ce.shape._mdf&&!this._mdf&&!r&&this.m!==2)Ce.shape.paths=Ce.localShapeCollection;else{if(o=Ce.shape.paths,f=o._length,_=0,!Ce.shape._mdf&&Ce.pathsData.length)_=Ce.totalShapeLength;else{for(d=this.releasePathsData(Ce.pathsData),u=0;u<f;u+=1)m=bez.getSegmentsLength(o.shapes[u]),d.push(m),_+=m.totalLength;Ce.totalShapeLength=_,Ce.pathsData=d}ye+=_,Ce.shape._mdf=!0}var he=e,g=i,b=0,ve;for(a=c-1;a>=0;a-=1)if(Ce=this.shapes[a],Ce.shape._mdf){for(Le=Ce.localShapeCollection,Le.releaseShapes(),this.m===2&&c>1?(ve=this.calculateShapeEdges(e,i,Ce.totalShapeLength,b,ye),b+=Ce.totalShapeLength):ve=[[he,g]],f=ve.length,u=0;u<f;u+=1){he=ve[u][0],g=ve[u][1],Se.length=0,g<=1?Se.push({s:Ce.totalShapeLength*he,e:Ce.totalShapeLength*g}):he>=1?Se.push({s:Ce.totalShapeLength*(he-1),e:Ce.totalShapeLength*(g-1)}):(Se.push({s:Ce.totalShapeLength*he,e:Ce.totalShapeLength}),Se.push({s:0,e:Ce.totalShapeLength*(g-1)}));var Pe=this.addShapes(Ce,Se[0]);if(Se[0].s!==Se[0].e){if(Se.length>1){var Be=Ce.shape.paths.shapes[Ce.shape.paths._length-1];if(Be.c){var Ve=Pe.pop();this.addPaths(Pe,Le),Pe=this.addShapes(Ce,Se[1],Ve)}else this.addPaths(Pe,Le),Pe=this.addShapes(Ce,Se[1])}this.addPaths(Pe,Le)}}Ce.shape.paths=Le}}},TrimModifier.prototype.addPaths=function(r,e){var i,n=r.length;for(i=0;i<n;i+=1)e.addShape(r[i])},TrimModifier.prototype.addSegment=function(r,e,i,n,s,o,a){s.setXYAt(e[0],e[1],"o",o),s.setXYAt(i[0],i[1],"i",o+1),a&&s.setXYAt(r[0],r[1],"v",o),s.setXYAt(n[0],n[1],"v",o+1)},TrimModifier.prototype.addSegmentFromArray=function(r,e,i,n){e.setXYAt(r[1],r[5],"o",i),e.setXYAt(r[2],r[6],"i",i+1),n&&e.setXYAt(r[0],r[4],"v",i),e.setXYAt(r[3],r[7],"v",i+1)},TrimModifier.prototype.addShapes=function(r,e,i){var n=r.pathsData,s=r.shape.paths.shapes,o,a=r.shape.paths._length,c,u,f=0,d,m,_,ye,Se=[],Ce,Le=!0;for(i?(m=i._length,Ce=i._length):(i=shapePool.newElement(),m=0,Ce=0),Se.push(i),o=0;o<a;o+=1){for(_=n[o].lengths,i.c=s[o].c,u=s[o].c?_.length:_.length+1,c=1;c<u;c+=1)if(d=_[c-1],f+d.addedLength<e.s)f+=d.addedLength,i.c=!1;else if(f>e.e){i.c=!1;break}else e.s<=f&&e.e>=f+d.addedLength?(this.addSegment(s[o].v[c-1],s[o].o[c-1],s[o].i[c],s[o].v[c],i,m,Le),Le=!1):(ye=bez.getNewSegment(s[o].v[c-1],s[o].v[c],s[o].o[c-1],s[o].i[c],(e.s-f)/d.addedLength,(e.e-f)/d.addedLength,_[c-1]),this.addSegmentFromArray(ye,i,m,Le),Le=!1,i.c=!1),f+=d.addedLength,m+=1;if(s[o].c&&_.length){if(d=_[c-1],f<=e.e){var he=_[c-1].addedLength;e.s<=f&&e.e>=f+he?(this.addSegment(s[o].v[c-1],s[o].o[c-1],s[o].i[0],s[o].v[0],i,m,Le),Le=!1):(ye=bez.getNewSegment(s[o].v[c-1],s[o].v[0],s[o].o[c-1],s[o].i[0],(e.s-f)/he,(e.e-f)/he,_[c-1]),this.addSegmentFromArray(ye,i,m,Le),Le=!1,i.c=!1)}else i.c=!1;f+=d.addedLength,m+=1}if(i._length&&(i.setXYAt(i.v[Ce][0],i.v[Ce][1],"i",Ce),i.setXYAt(i.v[i._length-1][0],i.v[i._length-1][1],"o",i._length-1)),f>e.e)break;o<a-1&&(i=shapePool.newElement(),Le=!0,Se.push(i),m=0)}return Se},ShapeModifiers.registerModifier("tm",TrimModifier);function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(r,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(r,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(r,e){var i=shapePool.newElement();i.c=r.c;var n,s=r._length,o,a,c,u,f,d,m=0,_,ye,Se,Ce,Le,he;for(n=0;n<s;n+=1)o=r.v[n],c=r.o[n],a=r.i[n],o[0]===c[0]&&o[1]===c[1]&&o[0]===a[0]&&o[1]===a[1]?(n===0||n===s-1)&&!r.c?(i.setTripleAt(o[0],o[1],c[0],c[1],a[0],a[1],m),m+=1):(n===0?u=r.v[s-1]:u=r.v[n-1],f=Math.sqrt(Math.pow(o[0]-u[0],2)+Math.pow(o[1]-u[1],2)),d=f?Math.min(f/2,e)/f:0,Le=o[0]+(u[0]-o[0])*d,_=Le,he=o[1]-(o[1]-u[1])*d,ye=he,Se=_-(_-o[0])*roundCorner,Ce=ye-(ye-o[1])*roundCorner,i.setTripleAt(_,ye,Se,Ce,Le,he,m),m+=1,n===s-1?u=r.v[0]:u=r.v[n+1],f=Math.sqrt(Math.pow(o[0]-u[0],2)+Math.pow(o[1]-u[1],2)),d=f?Math.min(f/2,e)/f:0,Se=o[0]+(u[0]-o[0])*d,_=Se,Ce=o[1]+(u[1]-o[1])*d,ye=Ce,Le=_-(_-o[0])*roundCorner,he=ye-(ye-o[1])*roundCorner,i.setTripleAt(_,ye,Se,Ce,Le,he,m),m+=1):(i.setTripleAt(r.v[n][0],r.v[n][1],r.o[n][0],r.o[n][1],r.i[n][0],r.i[n][1],m),m+=1);return i},RoundCornersModifier.prototype.processShapes=function(r){var e,i,n=this.shapes.length,s,o,a=this.rd.v;if(a!==0){var c,u;for(i=0;i<n;i+=1){if(c=this.shapes[i],u=c.localShapeCollection,!(!c.shape._mdf&&!this._mdf&&!r))for(u.releaseShapes(),c.shape._mdf=!0,e=c.shape.paths.shapes,o=c.shape.paths._length,s=0;s<o;s+=1)u.addShape(this.processPath(e[s],a));c.shape.paths=c.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier);function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(r,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(r,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(r,e){var i=e/100,n=[0,0],s=r._length,o=0;for(o=0;o<s;o+=1)n[0]+=r.v[o][0],n[1]+=r.v[o][1];n[0]/=s,n[1]/=s;var a=shapePool.newElement();a.c=r.c;var c,u,f,d,m,_;for(o=0;o<s;o+=1)c=r.v[o][0]+(n[0]-r.v[o][0])*i,u=r.v[o][1]+(n[1]-r.v[o][1])*i,f=r.o[o][0]+(n[0]-r.o[o][0])*-i,d=r.o[o][1]+(n[1]-r.o[o][1])*-i,m=r.i[o][0]+(n[0]-r.i[o][0])*-i,_=r.i[o][1]+(n[1]-r.i[o][1])*-i,a.setTripleAt(c,u,f,d,m,_,o);return a},PuckerAndBloatModifier.prototype.processShapes=function(r){var e,i,n=this.shapes.length,s,o,a=this.amount.v;if(a!==0){var c,u;for(i=0;i<n;i+=1){if(c=this.shapes[i],u=c.localShapeCollection,!(!c.shape._mdf&&!this._mdf&&!r))for(u.releaseShapes(),c.shape._mdf=!0,e=c.shape.paths.shapes,o=c.shape.paths._length,s=0;s<o;s+=1)u.addShape(this.processPath(e[s],a));c.shape.paths=c.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier);function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(r,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(r,e.c,0,null,this),this.o=PropertyFactory.getProp(r,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(r,e.tr,this),this.so=PropertyFactory.getProp(r,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(r,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(r,e,i,n,s,o){var a=o?-1:1,c=n.s.v[0]+(1-n.s.v[0])*(1-s),u=n.s.v[1]+(1-n.s.v[1])*(1-s);r.translate(n.p.v[0]*a*s,n.p.v[1]*a*s,n.p.v[2]),e.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),e.rotate(-n.r.v*a*s),e.translate(n.a.v[0],n.a.v[1],n.a.v[2]),i.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),i.scale(o?1/c:c,o?1/u:u),i.translate(n.a.v[0],n.a.v[1],n.a.v[2])},RepeaterModifier.prototype.init=function(r,e,i,n){for(this.elem=r,this.arr=e,this.pos=i,this.elemsData=n,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(r),this.initModifierProperties(r,e[i]);i>0;)i-=1,this._elements.unshift(e[i]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(r){var e,i=r.length;for(e=0;e<i;e+=1)r[e]._processed=!1,r[e].ty==="gr"&&this.resetElements(r[e].it)},RepeaterModifier.prototype.cloneElements=function(r){var e=JSON.parse(JSON.stringify(r));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(r,e){var i,n=r.length;for(i=0;i<n;i+=1)r[i]._render=e,r[i].ty==="gr"&&this.changeGroupRender(r[i].it,e)},RepeaterModifier.prototype.processShapes=function(r){var e,i,n,s,o,a=!1;if(this._mdf||r){var c=Math.ceil(this.c.v);if(this._groups.length<c){for(;this._groups.length<c;){var u={it:this.cloneElements(this._elements),ty:"gr"};u.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,u),this._groups.splice(0,0,u),this._currentCopies+=1}this.elem.reloadShapes(),a=!0}o=0;var f;for(n=0;n<=this._groups.length-1;n+=1){if(f=o<c,this._groups[n]._render=f,this.changeGroupRender(this._groups[n].it,f),!f){var d=this.elemsData[n].it,m=d[d.length-1];m.transform.op.v!==0?(m.transform.op._mdf=!0,m.transform.op.v=0):m.transform.op._mdf=!1}o+=1}this._currentCopies=c;var _=this.o.v,ye=_%1,Se=_>0?Math.floor(_):Math.ceil(_),Ce=this.pMatrix.props,Le=this.rMatrix.props,he=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var g=0;if(_>0){for(;g<Se;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),g+=1;ye&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,ye,!1),g+=ye)}else if(_<0){for(;g>Se;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),g-=1;ye&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-ye,!0),g-=ye)}n=this.data.m===1?0:this._currentCopies-1,s=this.data.m===1?1:-1,o=this._currentCopies;for(var b,ve;o;){if(e=this.elemsData[n].it,i=e[e.length-1].transform.mProps.v.props,ve=i.length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(n/(this._currentCopies-1)),g!==0){for((n!==0&&s===1||n!==this._currentCopies-1&&s===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(Le[0],Le[1],Le[2],Le[3],Le[4],Le[5],Le[6],Le[7],Le[8],Le[9],Le[10],Le[11],Le[12],Le[13],Le[14],Le[15]),this.matrix.transform(he[0],he[1],he[2],he[3],he[4],he[5],he[6],he[7],he[8],he[9],he[10],he[11],he[12],he[13],he[14],he[15]),this.matrix.transform(Ce[0],Ce[1],Ce[2],Ce[3],Ce[4],Ce[5],Ce[6],Ce[7],Ce[8],Ce[9],Ce[10],Ce[11],Ce[12],Ce[13],Ce[14],Ce[15]),b=0;b<ve;b+=1)i[b]=this.matrix.props[b];this.matrix.reset()}else for(this.matrix.reset(),b=0;b<ve;b+=1)i[b]=this.matrix.props[b];g+=1,o-=1,n+=s}}else for(o=this._currentCopies,n=0,s=1;o;)e=this.elemsData[n].it,i=e[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,o-=1,n+=s;return a},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier);function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(r){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=r,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var r;for(r=0;r<this._length;r+=1)shapePool.release(this.shapes[r]);this._length=0};function DashProperty(r,e,i,n){this.elem=r,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=i,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(n);var s,o=e.length||0,a;for(s=0;s<o;s+=1)a=PropertyFactory.getProp(r,e[s].v,0,0,this),this.k=a.k||this.k,this.dataProps[s]={n:e[s].n,p:a};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(r){if(!(this.elem.globalData.frameId===this.frameId&&!r)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||r,this._mdf)){var e=0,i=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),e=0;e<i;e+=1)this.dataProps[e].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function GradientProperty(r,e,i){this.data=e,this.c=createTypedArray("uint8c",e.p*4);var n=e.k.k[0].s?e.k.k[0].s.length-e.p*4:e.k.k.length-e.p*4;this.o=createTypedArray("float32",n),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=n,this.initDynamicPropertyContainer(i),this.prop=PropertyFactory.getProp(r,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(r,e){for(var i=0,n=this.o.length/2,s;i<n;){if(s=Math.abs(r[i*4]-r[e*4+i*2]),s>.01)return!1;i+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var r=0,e=this.data.k.k.length;r<e;){if(!this.comparePoints(this.data.k.k[r].s,this.data.p))return!1;r+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(r){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||r){var e,i=this.data.p*4,n,s;for(e=0;e<i;e+=1)n=e%4===0?100:255,s=Math.round(this.prop.v[e]*n),this.c[e]!==s&&(this.c[e]=s,this._cmdf=!r);if(this.o.length)for(i=this.prop.v.length,e=this.data.p*4;e<i;e+=1)n=e%2===0?100:1,s=e%2===0?Math.round(this.prop.v[e]*100):this.prop.v[e],this.o[e-this.data.p*4]!==s&&(this.o[e-this.data.p*4]=s,this._omdf=!r);this._mdf=!r}},extendPrototype([DynamicPropertyContainer],GradientProperty);var buildShapeString=function(r,e,i,n){if(e===0)return"";var s=r.o,o=r.i,a=r.v,c,u=" M"+n.applyToPointStringified(a[0][0],a[0][1]);for(c=1;c<e;c+=1)u+=" C"+n.applyToPointStringified(s[c-1][0],s[c-1][1])+" "+n.applyToPointStringified(o[c][0],o[c][1])+" "+n.applyToPointStringified(a[c][0],a[c][1]);return i&&e&&(u+=" C"+n.applyToPointStringified(s[c-1][0],s[c-1][1])+" "+n.applyToPointStringified(o[0][0],o[0][1])+" "+n.applyToPointStringified(a[0][0],a[0][1]),u+="z"),u},audioControllerFactory=function(){function r(e){this.audios=[],this.audioFactory=e,this._volume=1,this._isMuted=!1}return r.prototype={addAudio:function(e){this.audios.push(e)},pause:function(){var e,i=this.audios.length;for(e=0;e<i;e+=1)this.audios[e].pause()},resume:function(){var e,i=this.audios.length;for(e=0;e<i;e+=1)this.audios[e].resume()},setRate:function(e){var i,n=this.audios.length;for(i=0;i<n;i+=1)this.audios[i].setRate(e)},createAudio:function(e){return this.audioFactory?this.audioFactory(e):Howl?new Howl({src:[e]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(e){this.audioFactory=e},setVolume:function(e){this._volume=e,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var e,i=this.audios.length;for(e=0;e<i;e+=1)this.audios[e].volume(this._volume*(this._isMuted?0:1))}},function(){return new r}}(),ImagePreloader=function(){var r=function(){var he=createTag("canvas");he.width=1,he.height=1;var g=he.getContext("2d");return g.fillStyle="rgba(0,0,0,0)",g.fillRect(0,0,1,1),he}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function i(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(he,g,b){var ve="";if(he.e)ve=he.p;else if(g){var Pe=he.p;Pe.indexOf("images/")!==-1&&(Pe=Pe.split("/")[1]),ve=g+Pe}else ve=b,ve+=he.u?he.u:"",ve+=he.p;return ve}function s(he){var g=0,b=setInterval(function(){var ve=he.getBBox();(ve.width||g>500)&&(this._imageLoaded(),clearInterval(b)),g+=1}.bind(this),50)}function o(he){var g=n(he,this.assetsPath,this.path),b=createNS("image");isSafari?this.testImageLoaded(b):b.addEventListener("load",this._imageLoaded,!1),b.addEventListener("error",function(){ve.img=r,this._imageLoaded()}.bind(this),!1),b.setAttributeNS("http://www.w3.org/1999/xlink","href",g),this._elementHelper.append?this._elementHelper.append(b):this._elementHelper.appendChild(b);var ve={img:b,assetData:he};return ve}function a(he){var g=n(he,this.assetsPath,this.path),b=createTag("img");b.crossOrigin="anonymous",b.addEventListener("load",this._imageLoaded,!1),b.addEventListener("error",function(){ve.img=r,this._imageLoaded()}.bind(this),!1),b.src=g;var ve={img:b,assetData:he};return ve}function c(he){var g={assetData:he},b=n(he,this.assetsPath,this.path);return dataManager.loadData(b,function(ve){g.img=ve,this._footageLoaded()}.bind(this),function(){g.img={},this._footageLoaded()}.bind(this)),g}function u(he,g){this.imagesLoadedCb=g;var b,ve=he.length;for(b=0;b<ve;b+=1)he[b].layers||(!he[b].t||he[b].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(he[b]))):he[b].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(he[b]))))}function f(he){this.path=he||""}function d(he){this.assetsPath=he||""}function m(he){for(var g=0,b=this.images.length;g<b;){if(this.images[g].assetData===he)return this.images[g].img;g+=1}return null}function _(){this.imagesLoadedCb=null,this.images.length=0}function ye(){return this.totalImages===this.loadedAssets}function Se(){return this.totalFootages===this.loadedFootagesCount}function Ce(he,g){he==="svg"?(this._elementHelper=g,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function Le(){this._imageLoaded=e.bind(this),this._footageLoaded=i.bind(this),this.testImageLoaded=s.bind(this),this.createFootageData=c.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return Le.prototype={loadAssets:u,setAssetsPath:d,setPath:f,loadedImages:ye,loadedFootages:Se,destroy:_,getAsset:m,createImgData:a,createImageData:o,imageLoaded:e,footageLoaded:i,setCacheType:Ce},Le}(),featureSupport=function(){var r={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(r.maskType=!1),r}(),filtersFactory=function(){var r={};r.createFilter=e,r.createAlphaToLuminanceFilter=i;function e(n,s){var o=createNS("filter");return o.setAttribute("id",n),s!==!0&&(o.setAttribute("filterUnits","objectBoundingBox"),o.setAttribute("x","0%"),o.setAttribute("y","0%"),o.setAttribute("width","100%"),o.setAttribute("height","100%")),o}function i(){var n=createNS("feColorMatrix");return n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),n}return r}();function TextAnimatorProperty(r,e,i){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=r,this._renderType=e,this._elem=i,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(i)}TextAnimatorProperty.prototype.searchProperties=function(){var r,e=this._textData.a.length,i,n=PropertyFactory.getProp;for(r=0;r<e;r+=1)i=this._textData.a[r],this._animatorsData[r]=new TextAnimatorDataProperty(this._elem,i,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:n(this._elem,this._textData.p.a,0,0,this),f:n(this._elem,this._textData.p.f,0,0,this),l:n(this._elem,this._textData.p.l,0,0,this),r:n(this._elem,this._textData.p.r,0,0,this),p:n(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=n(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(r,e){if(this.lettersChangedFlag=e,!(!this._mdf&&!this._isFirstFrame&&!e&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var i=this._moreOptions.alignment.v,n=this._animatorsData,s=this._textData,o=this.mHelper,a=this._renderType,c=this.renderedLetters.length,u,f,d,m,_=r.l,ye,Se,Ce,Le,he,g,b,ve,Pe,Be,Ve,et,yt,kt,Ot;if(this._hasMaskedPath){if(Ot=this._pathData.m,!this._pathData.n||this._pathData._mdf){var Ft=Ot.v;this._pathData.r.v&&(Ft=Ft.reverse()),ye={tLength:0,segments:[]},m=Ft._length-1;var wt;for(et=0,d=0;d<m;d+=1)wt=bez.buildBezierData(Ft.v[d],Ft.v[d+1],[Ft.o[d][0]-Ft.v[d][0],Ft.o[d][1]-Ft.v[d][1]],[Ft.i[d+1][0]-Ft.v[d+1][0],Ft.i[d+1][1]-Ft.v[d+1][1]]),ye.tLength+=wt.segmentLength,ye.segments.push(wt),et+=wt.segmentLength;d=m,Ot.v.c&&(wt=bez.buildBezierData(Ft.v[d],Ft.v[0],[Ft.o[d][0]-Ft.v[d][0],Ft.o[d][1]-Ft.v[d][1]],[Ft.i[0][0]-Ft.v[0][0],Ft.i[0][1]-Ft.v[0][1]]),ye.tLength+=wt.segmentLength,ye.segments.push(wt),et+=wt.segmentLength),this._pathData.pi=ye}if(ye=this._pathData.pi,Se=this._pathData.f.v,b=0,g=1,Le=0,he=!0,Be=ye.segments,Se<0&&Ot.v.c)for(ye.tLength<Math.abs(Se)&&(Se=-Math.abs(Se)%ye.tLength),b=Be.length-1,Pe=Be[b].points,g=Pe.length-1;Se<0;)Se+=Pe[g].partialLength,g-=1,g<0&&(b-=1,Pe=Be[b].points,g=Pe.length-1);Pe=Be[b].points,ve=Pe[g-1],Ce=Pe[g],Ve=Ce.partialLength}m=_.length,u=0,f=0;var Dt=r.finalSize*1.2*.714,Mt=!0,gt,Ue,mt,_t,Vt;_t=n.length;var xt,cr=-1,yr,_r,Nt,or=Se,rr=b,lr=g,br=-1,Er,dr,pr,ot,vt,St,Wt,Ht,ir="",sr=this.defaultPropsArray,tr;if(r.j===2||r.j===1){var nr=0,er=0,hr=r.j===2?-.5:-1,ar=0,ur=!0;for(d=0;d<m;d+=1)if(_[d].n){for(nr&&(nr+=er);ar<d;)_[ar].animatorJustifyOffset=nr,ar+=1;nr=0,ur=!0}else{for(mt=0;mt<_t;mt+=1)gt=n[mt].a,gt.t.propType&&(ur&&r.j===2&&(er+=gt.t.v*hr),Ue=n[mt].s,xt=Ue.getMult(_[d].anIndexes[mt],s.a[mt].s.totalChars),xt.length?nr+=gt.t.v*xt[0]*hr:nr+=gt.t.v*xt*hr);ur=!1}for(nr&&(nr+=er);ar<d;)_[ar].animatorJustifyOffset=nr,ar+=1}for(d=0;d<m;d+=1){if(o.reset(),Er=1,_[d].n)u=0,f+=r.yOffset,f+=Mt?1:0,Se=or,Mt=!1,this._hasMaskedPath&&(b=rr,g=lr,Pe=Be[b].points,ve=Pe[g-1],Ce=Pe[g],Ve=Ce.partialLength,Le=0),ir="",Ht="",St="",tr="",sr=this.defaultPropsArray;else{if(this._hasMaskedPath){if(br!==_[d].line){switch(r.j){case 1:Se+=et-r.lineWidths[_[d].line];break;case 2:Se+=(et-r.lineWidths[_[d].line])/2;break}br=_[d].line}cr!==_[d].ind&&(_[cr]&&(Se+=_[cr].extra),Se+=_[d].an/2,cr=_[d].ind),Se+=i[0]*_[d].an*.005;var vr=0;for(mt=0;mt<_t;mt+=1)gt=n[mt].a,gt.p.propType&&(Ue=n[mt].s,xt=Ue.getMult(_[d].anIndexes[mt],s.a[mt].s.totalChars),xt.length?vr+=gt.p.v[0]*xt[0]:vr+=gt.p.v[0]*xt),gt.a.propType&&(Ue=n[mt].s,xt=Ue.getMult(_[d].anIndexes[mt],s.a[mt].s.totalChars),xt.length?vr+=gt.a.v[0]*xt[0]:vr+=gt.a.v[0]*xt);for(he=!0,this._pathData.a.v&&(Se=_[0].an*.5+(et-this._pathData.f.v-_[0].an*.5-_[_.length-1].an*.5)*cr/(m-1),Se+=this._pathData.f.v);he;)Le+Ve>=Se+vr||!Pe?(yt=(Se+vr-Le)/Ce.partialLength,_r=ve.point[0]+(Ce.point[0]-ve.point[0])*yt,Nt=ve.point[1]+(Ce.point[1]-ve.point[1])*yt,o.translate(-i[0]*_[d].an*.005,-(i[1]*Dt)*.01),he=!1):Pe&&(Le+=Ce.partialLength,g+=1,g>=Pe.length&&(g=0,b+=1,Be[b]?Pe=Be[b].points:Ot.v.c?(g=0,b=0,Pe=Be[b].points):(Le-=Ce.partialLength,Pe=null)),Pe&&(ve=Ce,Ce=Pe[g],Ve=Ce.partialLength));yr=_[d].an/2-_[d].add,o.translate(-yr,0,0)}else yr=_[d].an/2-_[d].add,o.translate(-yr,0,0),o.translate(-i[0]*_[d].an*.005,-i[1]*Dt*.01,0);for(mt=0;mt<_t;mt+=1)gt=n[mt].a,gt.t.propType&&(Ue=n[mt].s,xt=Ue.getMult(_[d].anIndexes[mt],s.a[mt].s.totalChars),(u!==0||r.j!==0)&&(this._hasMaskedPath?xt.length?Se+=gt.t.v*xt[0]:Se+=gt.t.v*xt:xt.length?u+=gt.t.v*xt[0]:u+=gt.t.v*xt));for(r.strokeWidthAnim&&(pr=r.sw||0),r.strokeColorAnim&&(r.sc?dr=[r.sc[0],r.sc[1],r.sc[2]]:dr=[0,0,0]),r.fillColorAnim&&r.fc&&(ot=[r.fc[0],r.fc[1],r.fc[2]]),mt=0;mt<_t;mt+=1)gt=n[mt].a,gt.a.propType&&(Ue=n[mt].s,xt=Ue.getMult(_[d].anIndexes[mt],s.a[mt].s.totalChars),xt.length?o.translate(-gt.a.v[0]*xt[0],-gt.a.v[1]*xt[1],gt.a.v[2]*xt[2]):o.translate(-gt.a.v[0]*xt,-gt.a.v[1]*xt,gt.a.v[2]*xt));for(mt=0;mt<_t;mt+=1)gt=n[mt].a,gt.s.propType&&(Ue=n[mt].s,xt=Ue.getMult(_[d].anIndexes[mt],s.a[mt].s.totalChars),xt.length?o.scale(1+(gt.s.v[0]-1)*xt[0],1+(gt.s.v[1]-1)*xt[1],1):o.scale(1+(gt.s.v[0]-1)*xt,1+(gt.s.v[1]-1)*xt,1));for(mt=0;mt<_t;mt+=1){if(gt=n[mt].a,Ue=n[mt].s,xt=Ue.getMult(_[d].anIndexes[mt],s.a[mt].s.totalChars),gt.sk.propType&&(xt.length?o.skewFromAxis(-gt.sk.v*xt[0],gt.sa.v*xt[1]):o.skewFromAxis(-gt.sk.v*xt,gt.sa.v*xt)),gt.r.propType&&(xt.length?o.rotateZ(-gt.r.v*xt[2]):o.rotateZ(-gt.r.v*xt)),gt.ry.propType&&(xt.length?o.rotateY(gt.ry.v*xt[1]):o.rotateY(gt.ry.v*xt)),gt.rx.propType&&(xt.length?o.rotateX(gt.rx.v*xt[0]):o.rotateX(gt.rx.v*xt)),gt.o.propType&&(xt.length?Er+=(gt.o.v*xt[0]-Er)*xt[0]:Er+=(gt.o.v*xt-Er)*xt),r.strokeWidthAnim&&gt.sw.propType&&(xt.length?pr+=gt.sw.v*xt[0]:pr+=gt.sw.v*xt),r.strokeColorAnim&&gt.sc.propType)for(vt=0;vt<3;vt+=1)xt.length?dr[vt]+=(gt.sc.v[vt]-dr[vt])*xt[0]:dr[vt]+=(gt.sc.v[vt]-dr[vt])*xt;if(r.fillColorAnim&&r.fc){if(gt.fc.propType)for(vt=0;vt<3;vt+=1)xt.length?ot[vt]+=(gt.fc.v[vt]-ot[vt])*xt[0]:ot[vt]+=(gt.fc.v[vt]-ot[vt])*xt;gt.fh.propType&&(xt.length?ot=addHueToRGB(ot,gt.fh.v*xt[0]):ot=addHueToRGB(ot,gt.fh.v*xt)),gt.fs.propType&&(xt.length?ot=addSaturationToRGB(ot,gt.fs.v*xt[0]):ot=addSaturationToRGB(ot,gt.fs.v*xt)),gt.fb.propType&&(xt.length?ot=addBrightnessToRGB(ot,gt.fb.v*xt[0]):ot=addBrightnessToRGB(ot,gt.fb.v*xt))}}for(mt=0;mt<_t;mt+=1)gt=n[mt].a,gt.p.propType&&(Ue=n[mt].s,xt=Ue.getMult(_[d].anIndexes[mt],s.a[mt].s.totalChars),this._hasMaskedPath?xt.length?o.translate(0,gt.p.v[1]*xt[0],-gt.p.v[2]*xt[1]):o.translate(0,gt.p.v[1]*xt,-gt.p.v[2]*xt):xt.length?o.translate(gt.p.v[0]*xt[0],gt.p.v[1]*xt[1],-gt.p.v[2]*xt[2]):o.translate(gt.p.v[0]*xt,gt.p.v[1]*xt,-gt.p.v[2]*xt));if(r.strokeWidthAnim&&(St=pr<0?0:pr),r.strokeColorAnim&&(Wt="rgb("+Math.round(dr[0]*255)+","+Math.round(dr[1]*255)+","+Math.round(dr[2]*255)+")"),r.fillColorAnim&&r.fc&&(Ht="rgb("+Math.round(ot[0]*255)+","+Math.round(ot[1]*255)+","+Math.round(ot[2]*255)+")"),this._hasMaskedPath){if(o.translate(0,-r.ls),o.translate(0,i[1]*Dt*.01+f,0),this._pathData.p.v){kt=(Ce.point[1]-ve.point[1])/(Ce.point[0]-ve.point[0]);var wr=Math.atan(kt)*180/Math.PI;Ce.point[0]<ve.point[0]&&(wr+=180),o.rotate(-wr*Math.PI/180)}o.translate(_r,Nt,0),Se-=i[0]*_[d].an*.005,_[d+1]&&cr!==_[d+1].ind&&(Se+=_[d].an/2,Se+=r.tr*.001*r.finalSize)}else{switch(o.translate(u,f,0),r.ps&&o.translate(r.ps[0],r.ps[1]+r.ascent,0),r.j){case 1:o.translate(_[d].animatorJustifyOffset+r.justifyOffset+(r.boxWidth-r.lineWidths[_[d].line]),0,0);break;case 2:o.translate(_[d].animatorJustifyOffset+r.justifyOffset+(r.boxWidth-r.lineWidths[_[d].line])/2,0,0);break}o.translate(0,-r.ls),o.translate(yr,0,0),o.translate(i[0]*_[d].an*.005,i[1]*Dt*.01,0),u+=_[d].l+r.tr*.001*r.finalSize}a==="html"?ir=o.toCSS():a==="svg"?ir=o.to2dCSS():sr=[o.props[0],o.props[1],o.props[2],o.props[3],o.props[4],o.props[5],o.props[6],o.props[7],o.props[8],o.props[9],o.props[10],o.props[11],o.props[12],o.props[13],o.props[14],o.props[15]],tr=Er}c<=d?(Vt=new LetterProps(tr,St,Wt,Ht,ir,sr),this.renderedLetters.push(Vt),c+=1,this.lettersChangedFlag=!0):(Vt=this.renderedLetters[d],this.lettersChangedFlag=Vt.update(tr,St,Wt,Ht,ir,sr)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function TextAnimatorDataProperty(r,e,i){var n={propType:!1},s=PropertyFactory.getProp,o=e.a;this.a={r:o.r?s(r,o.r,0,degToRads,i):n,rx:o.rx?s(r,o.rx,0,degToRads,i):n,ry:o.ry?s(r,o.ry,0,degToRads,i):n,sk:o.sk?s(r,o.sk,0,degToRads,i):n,sa:o.sa?s(r,o.sa,0,degToRads,i):n,s:o.s?s(r,o.s,1,.01,i):n,a:o.a?s(r,o.a,1,0,i):n,o:o.o?s(r,o.o,0,.01,i):n,p:o.p?s(r,o.p,1,0,i):n,sw:o.sw?s(r,o.sw,0,0,i):n,sc:o.sc?s(r,o.sc,1,0,i):n,fc:o.fc?s(r,o.fc,1,0,i):n,fh:o.fh?s(r,o.fh,0,0,i):n,fs:o.fs?s(r,o.fs,0,.01,i):n,fb:o.fb?s(r,o.fb,0,.01,i):n,t:o.t?s(r,o.t,0,0,i):n},this.s=TextSelectorProp.getTextSelectorProp(r,e.s,i),this.s.t=e.s.t}function LetterProps(r,e,i,n,s,o){this.o=r,this.sw=e,this.sc=i,this.fc=n,this.m=s,this.p=o,this._mdf={o:!0,sw:!!e,sc:!!i,fc:!!n,m:!0,p:!0}}LetterProps.prototype.update=function(r,e,i,n,s,o){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var a=!1;return this.o!==r&&(this.o=r,this._mdf.o=!0,a=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,a=!0),this.sc!==i&&(this.sc=i,this._mdf.sc=!0,a=!0),this.fc!==n&&(this.fc=n,this._mdf.fc=!0,a=!0),this.m!==s&&(this.m=s,this._mdf.m=!0,a=!0),o.length&&(this.p[0]!==o[0]||this.p[1]!==o[1]||this.p[4]!==o[4]||this.p[5]!==o[5]||this.p[12]!==o[12]||this.p[13]!==o[13])&&(this.p=o,this._mdf.p=!0,a=!0),a};function TextProperty(r,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=e,this.elem=r,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(r,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r},TextProperty.prototype.setCurrentData=function(r){r.__complete||this.completeTextData(r),this.currentData=r,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(r){this.effectsSequence.push(r),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(r){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!r)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,i=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var n,s=this.effectsSequence.length,o=r||this.data.d.k[this.keysIndex].s;for(n=0;n<s;n+=1)i!==this.keysIndex?o=this.effectsSequence[n](o,o.t):o=this.effectsSequence[n](this.currentData,o.t);e!==o&&this.setCurrentData(o),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var r=this.data.d.k,e=this.elem.comp.renderedFrame,i=0,n=r.length;i<=n-1&&!(i===n-1||r[i+1].t>e);)i+=1;return this.keysIndex!==i&&(this.keysIndex=i),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(r){for(var e=[],i=0,n=r.length,s,o,a=!1;i<n;)s=r.charCodeAt(i),FontManager.isCombinedCharacter(s)?e[e.length-1]+=r.charAt(i):s>=55296&&s<=56319?(o=r.charCodeAt(i+1),o>=56320&&o<=57343?(a||FontManager.isModifier(s,o)?(e[e.length-1]+=r.substr(i,2),a=!1):e.push(r.substr(i,2)),i+=1):e.push(r.charAt(i))):s>56319?(o=r.charCodeAt(i+1),FontManager.isZeroWidthJoiner(s,o)?(a=!0,e[e.length-1]+=r.substr(i,2),i+=1):e.push(r.charAt(i))):FontManager.isZeroWidthJoiner(s)?(e[e.length-1]+=r.charAt(i),a=!0):e.push(r.charAt(i)),i+=1;return e},TextProperty.prototype.completeTextData=function(r){r.__complete=!0;var e=this.elem.globalData.fontManager,i=this.data,n=[],s,o,a,c=0,u,f=i.m.g,d=0,m=0,_=0,ye=[],Se=0,Ce=0,Le,he,g=e.getFontByName(r.f),b,ve=0,Pe=getFontProperties(g);r.fWeight=Pe.weight,r.fStyle=Pe.style,r.finalSize=r.s,r.finalText=this.buildFinalText(r.t),o=r.finalText.length,r.finalLineHeight=r.lh;var Be=r.tr/1e3*r.finalSize,Ve;if(r.sz)for(var et=!0,yt=r.sz[0],kt=r.sz[1],Ot,Ft;et;){Ft=this.buildFinalText(r.t),Ot=0,Se=0,o=Ft.length,Be=r.tr/1e3*r.finalSize;var wt=-1;for(s=0;s<o;s+=1)Ve=Ft[s].charCodeAt(0),a=!1,Ft[s]===" "?wt=s:(Ve===13||Ve===3)&&(Se=0,a=!0,Ot+=r.finalLineHeight||r.finalSize*1.2),e.chars?(b=e.getCharData(Ft[s],g.fStyle,g.fFamily),ve=a?0:b.w*r.finalSize/100):ve=e.measureText(Ft[s],r.f,r.finalSize),Se+ve>yt&&Ft[s]!==" "?(wt===-1?o+=1:s=wt,Ot+=r.finalLineHeight||r.finalSize*1.2,Ft.splice(s,wt===s?1:0,"\r"),wt=-1,Se=0):(Se+=ve,Se+=Be);Ot+=g.ascent*r.finalSize/100,this.canResize&&r.finalSize>this.minimumFontSize&&kt<Ot?(r.finalSize-=1,r.finalLineHeight=r.finalSize*r.lh/r.s):(r.finalText=Ft,o=r.finalText.length,et=!1)}Se=-Be,ve=0;var Dt=0,Mt;for(s=0;s<o;s+=1)if(a=!1,Mt=r.finalText[s],Ve=Mt.charCodeAt(0),Ve===13||Ve===3?(Dt=0,ye.push(Se),Ce=Se>Ce?Se:Ce,Se=-2*Be,u="",a=!0,_+=1):u=Mt,e.chars?(b=e.getCharData(Mt,g.fStyle,e.getFontByName(r.f).fFamily),ve=a?0:b.w*r.finalSize/100):ve=e.measureText(u,r.f,r.finalSize),Mt===" "?Dt+=ve+Be:(Se+=ve+Be+Dt,Dt=0),n.push({l:ve,an:ve,add:d,n:a,anIndexes:[],val:u,line:_,animatorJustifyOffset:0}),f==2){if(d+=ve,u===""||u===" "||s===o-1){for((u===""||u===" ")&&(d-=ve);m<=s;)n[m].an=d,n[m].ind=c,n[m].extra=ve,m+=1;c+=1,d=0}}else if(f==3){if(d+=ve,u===""||s===o-1){for(u===""&&(d-=ve);m<=s;)n[m].an=d,n[m].ind=c,n[m].extra=ve,m+=1;d=0,c+=1}}else n[c].ind=c,n[c].extra=0,c+=1;if(r.l=n,Ce=Se>Ce?Se:Ce,ye.push(Se),r.sz)r.boxWidth=r.sz[0],r.justifyOffset=0;else switch(r.boxWidth=Ce,r.j){case 1:r.justifyOffset=-r.boxWidth;break;case 2:r.justifyOffset=-r.boxWidth/2;break;default:r.justifyOffset=0}r.lineWidths=ye;var gt=i.a,Ue,mt;he=gt.length;var _t,Vt,xt=[];for(Le=0;Le<he;Le+=1){for(Ue=gt[Le],Ue.a.sc&&(r.strokeColorAnim=!0),Ue.a.sw&&(r.strokeWidthAnim=!0),(Ue.a.fc||Ue.a.fh||Ue.a.fs||Ue.a.fb)&&(r.fillColorAnim=!0),Vt=0,_t=Ue.s.b,s=0;s<o;s+=1)mt=n[s],mt.anIndexes[Le]=Vt,(_t==1&&mt.val!==""||_t==2&&mt.val!==""&&mt.val!==" "||_t==3&&(mt.n||mt.val==" "||s==o-1)||_t==4&&(mt.n||s==o-1))&&(Ue.s.rn===1&&xt.push(Vt),Vt+=1);i.a[Le].s.totalChars=Vt;var cr=-1,yr;if(Ue.s.rn===1)for(s=0;s<o;s+=1)mt=n[s],cr!=mt.anIndexes[Le]&&(cr=mt.anIndexes[Le],yr=xt.splice(Math.floor(Math.random()*xt.length),1)[0]),mt.anIndexes[Le]=yr}r.yOffset=r.finalLineHeight||r.finalSize*1.2,r.ls=r.ls||0,r.ascent=g.ascent*r.finalSize/100},TextProperty.prototype.updateDocumentData=function(r,e){e=e===void 0?this.keysIndex:e;var i=this.copyData({},this.data.d.k[e].s);i=this.copyData(i,r),this.data.d.k[e].s=i,this.recalculate(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(r){var e=this.data.d.k[r].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(r){this.canResize=r,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(r){this.minimumFontSize=Math.floor(r)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var r=Math.max,e=Math.min,i=Math.floor;function n(o,a){this._currentTextLength=-1,this.k=!1,this.data=a,this.elem=o,this.comp=o.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(o),this.s=PropertyFactory.getProp(o,a.s||{k:0},0,0,this),"e"in a?this.e=PropertyFactory.getProp(o,a.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(o,a.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(o,a.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(o,a.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(o,a.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(o,a.a,0,.01,this),this.dynamicProperties.length||this.getValue()}n.prototype={getMult:function(o){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var a=0,c=0,u=1,f=1;this.ne.v>0?a=this.ne.v/100:c=-this.ne.v/100,this.xe.v>0?u=1-this.xe.v/100:f=1+this.xe.v/100;var d=BezierFactory.getBezierEasing(a,c,u,f).get,m=0,_=this.finalS,ye=this.finalE,Se=this.data.sh;if(Se===2)ye===_?m=o>=ye?1:0:m=r(0,e(.5/(ye-_)+(o-_)/(ye-_),1)),m=d(m);else if(Se===3)ye===_?m=o>=ye?0:1:m=1-r(0,e(.5/(ye-_)+(o-_)/(ye-_),1)),m=d(m);else if(Se===4)ye===_?m=0:(m=r(0,e(.5/(ye-_)+(o-_)/(ye-_),1)),m<.5?m*=2:m=1-2*(m-.5)),m=d(m);else if(Se===5){if(ye===_)m=0;else{var Ce=ye-_;o=e(r(0,o+.5-_),ye-_);var Le=-Ce/2+o,he=Ce/2;m=Math.sqrt(1-Le*Le/(he*he))}m=d(m)}else Se===6?(ye===_?m=0:(o=e(r(0,o+.5-_),ye-_),m=(1+Math.cos(Math.PI+Math.PI*2*o/(ye-_)))/2),m=d(m)):(o>=i(_)&&(o-_<0?m=r(0,e(e(ye,1)-(_-o),1)):m=r(0,e(ye-o,1))),m=d(m));if(this.sm.v!==100){var g=this.sm.v*.01;g===0&&(g=1e-8);var b=.5-g*.5;m<b?m=0:(m=(m-b)/g,m>1&&(m=1))}return m*this.a.v},getValue:function(o){this.iterateDynamicProperties(),this._mdf=o||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,o&&this.data.r===2&&(this.e.v=this._currentTextLength);var a=this.data.r===2?1:100/this.data.totalChars,c=this.o.v/a,u=this.s.v/a+c,f=this.e.v/a+c;if(u>f){var d=u;u=f,f=d}this.finalS=u,this.finalE=f}},extendPrototype([DynamicPropertyContainer],n);function s(o,a,c){return new n(o,a)}return{getTextSelectorProp:s}}(),poolFactory=function(){return function(r,e,i){var n=0,s=r,o=createSizedArray(s),a={newElement:c,release:u};function c(){var f;return n?(n-=1,f=o[n]):f=e(),f}function u(f){n===s&&(o=pooling.double(o),s*=2),i&&i(f),o[n]=f,n+=1}return a}}(),pooling=function(){function r(e){return e.concat(createSizedArray(e.length))}return{double:r}}(),pointPool=function(){function r(){return createTypedArray("float32",2)}return poolFactory(8,r)}(),shapePool=function(){function r(){return new ShapePath}function e(s){var o=s._length,a;for(a=0;a<o;a+=1)pointPool.release(s.v[a]),pointPool.release(s.i[a]),pointPool.release(s.o[a]),s.v[a]=null,s.i[a]=null,s.o[a]=null;s._length=0,s.c=!1}function i(s){var o=n.newElement(),a,c=s._length===void 0?s.v.length:s._length;for(o.setLength(c),o.c=s.c,a=0;a<c;a+=1)o.setTripleAt(s.v[a][0],s.v[a][1],s.o[a][0],s.o[a][1],s.i[a][0],s.i[a][1],a);return o}var n=poolFactory(4,r,e);return n.clone=i,n}(),shapeCollectionPool=function(){var r={newShapeCollection:s,release:o},e=0,i=4,n=createSizedArray(i);function s(){var a;return e?(e-=1,a=n[e]):a=new ShapeCollection,a}function o(a){var c,u=a._length;for(c=0;c<u;c+=1)shapePool.release(a.shapes[c]);a._length=0,e===i&&(n=pooling.double(n),i*=2),n[e]=a,e+=1}return r}(),segmentsLengthPool=function(){function r(){return{lengths:[],totalLength:0}}function e(i){var n,s=i.lengths.length;for(n=0;n<s;n+=1)bezierLengthPool.release(i.lengths[n]);i.lengths.length=0}return poolFactory(8,r,e)}(),bezierLengthPool=function(){function r(){return{addedLength:0,percents:createTypedArray("float32",defaultCurveSegments),lengths:createTypedArray("float32",defaultCurveSegments)}}return poolFactory(8,r)}(),markerParser=function(){function r(e){for(var i=e.split(`\r
`),n={},s,o=0,a=0;a<i.length;a+=1)s=i[a].split(":"),s.length===2&&(n[s[0]]=s[1].trim(),o+=1);if(o===0)throw new Error;return n}return function(e){for(var i=[],n=0;n<e.length;n+=1){var s=e[n],o={time:s.tm,duration:s.dr};try{o.payload=JSON.parse(e[n].cm)}catch{try{o.payload=r(e[n].cm)}catch{o.payload={name:e[n]}}}i.push(o)}return i}}();function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(r){var e,i=this.layers.length,n;for(this.completeLayers=!0,e=i-1;e>=0;e-=1)this.elements[e]||(n=this.layers[e],n.ip-n.st<=r-this.layers[e].st&&n.op-n.st>r-this.layers[e].st&&this.buildItem(e)),this.completeLayers=this.elements[e]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(r){switch(r.ty){case 2:return this.createImage(r);case 0:return this.createComp(r);case 1:return this.createSolid(r);case 3:return this.createNull(r);case 4:return this.createShape(r);case 5:return this.createText(r);case 6:return this.createAudio(r);case 13:return this.createCamera(r);case 15:return this.createFootage(r);default:return this.createNull(r)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(r){return new AudioElement(r,this.globalData,this)},BaseRenderer.prototype.createFootage=function(r){return new FootageElement(r,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var r,e=this.layers.length;for(r=0;r<e;r+=1)this.buildItem(r);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(r){this.completeLayers=!1;var e,i=r.length,n,s=this.layers.length;for(e=0;e<i;e+=1)for(n=0;n<s;){if(this.layers[n].id===r[e].id){this.layers[n]=r[e];break}n+=1}},BaseRenderer.prototype.setProjectInterface=function(r){this.globalData.projectInterface=r},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(r,e,i){for(var n=this.elements,s=this.layers,o=0,a=s.length;o<a;)s[o].ind==e&&(!n[o]||n[o]===!0?(this.buildItem(o),this.addPendingElement(r)):(i.push(n[o]),n[o].setAsParent(),s[o].parent!==void 0?this.buildElementParenting(r,s[o].parent,i):r.setHierarchy(i))),o+=1},BaseRenderer.prototype.addPendingElement=function(r){this.pendingElements.push(r)},BaseRenderer.prototype.searchExtraCompositions=function(r){var e,i=r.length;for(e=0;e<i;e+=1)if(r[e].xt){var n=this.createComp(r[e]);n.initExpressions(),this.globalData.projectInterface.registerComposition(n)}},BaseRenderer.prototype.setupGlobalData=function(r,e){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(r.chars),this.globalData.fontManager.addFonts(r.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=r.fr,this.globalData.nm=r.nm,this.globalData.compSize={w:r.w,h:r.h}};function SVGRenderer(r,e){this.animationItem=r,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var i="";if(e&&e.title){var n=createNS("title"),s=createElementID();n.setAttribute("id",s),n.textContent=e.title,this.svgElement.appendChild(n),i+=s}if(e&&e.description){var o=createNS("desc"),a=createElementID();o.setAttribute("id",a),o.textContent=e.description,this.svgElement.appendChild(o),i+=" "+a}i&&this.svgElement.setAttribute("aria-labelledby",i);var c=createNS("defs");this.svgElement.appendChild(c);var u=createNS("g");this.svgElement.appendChild(u),this.layerElement=u,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&e.hideOnTransparent===!1),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"}},this.globalData={_mdf:!1,frameNum:-1,defs:c,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([BaseRenderer],SVGRenderer),SVGRenderer.prototype.createNull=function(r){return new NullElement(r,this.globalData,this)},SVGRenderer.prototype.createShape=function(r){return new SVGShapeElement(r,this.globalData,this)},SVGRenderer.prototype.createText=function(r){return new SVGTextLottieElement(r,this.globalData,this)},SVGRenderer.prototype.createImage=function(r){return new IImageElement(r,this.globalData,this)},SVGRenderer.prototype.createComp=function(r){return new SVGCompElement(r,this.globalData,this)},SVGRenderer.prototype.createSolid=function(r){return new ISolidElement(r,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(r){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+r.w+" "+r.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",r.w),this.svgElement.setAttribute("height",r.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(r,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=r;var i=createNS("clipPath"),n=createNS("rect");n.setAttribute("width",r.w),n.setAttribute("height",r.h),n.setAttribute("x",0),n.setAttribute("y",0);var s=createElementID();i.setAttribute("id",s),i.appendChild(n),this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+s+")"),e.appendChild(i),this.layers=r.layers,this.elements=createSizedArray(r.layers.length)},SVGRenderer.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var r,e=this.layers?this.layers.length:0;for(r=0;r<e;r+=1)this.elements[r]&&this.elements[r].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(r){var e=this.elements;if(!(e[r]||this.layers[r].ty===99)){e[r]=!0;var i=this.createItem(this.layers[r]);e[r]=i,expressionsPlugin&&(this.layers[r].ty===0&&this.globalData.projectInterface.registerComposition(i),i.initExpressions()),this.appendElementInPos(i,r),this.layers[r].tt&&(!this.elements[r-1]||this.elements[r-1]===!0?(this.buildItem(r-1),this.addPendingElement(i)):i.setMatte(e[r-1].layerId))}},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var r=this.pendingElements.pop();if(r.checkParenting(),r.data.tt)for(var e=0,i=this.elements.length;e<i;){if(this.elements[e]===r){r.setMatte(this.elements[e-1].layerId);break}e+=1}}},SVGRenderer.prototype.renderFrame=function(r){if(!(this.renderedFrame===r||this.destroyed)){r===null?r=this.renderedFrame:this.renderedFrame=r,this.globalData.frameNum=r,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=r,this.globalData._mdf=!1;var e,i=this.layers.length;for(this.completeLayers||this.checkLayers(r),e=i-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(r-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<i;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(r,e){var i=r.getBaseElement();if(!!i){for(var n=0,s;n<e;)this.elements[n]&&this.elements[n]!==!0&&this.elements[n].getBaseElement()&&(s=this.elements[n].getBaseElement()),n+=1;s?this.layerElement.insertBefore(i,s):this.layerElement.appendChild(i)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"};function CanvasRenderer(r,e){this.animationItem=r,this.renderConfig={clearCanvas:e&&e.clearCanvas!==void 0?e.clearCanvas:!0,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||""},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}extendPrototype([BaseRenderer],CanvasRenderer),CanvasRenderer.prototype.createShape=function(r){return new CVShapeElement(r,this.globalData,this)},CanvasRenderer.prototype.createText=function(r){return new CVTextElement(r,this.globalData,this)},CanvasRenderer.prototype.createImage=function(r){return new CVImageElement(r,this.globalData,this)},CanvasRenderer.prototype.createComp=function(r){return new CVCompElement(r,this.globalData,this)},CanvasRenderer.prototype.createSolid=function(r){return new CVSolidElement(r,this.globalData,this)},CanvasRenderer.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRenderer.prototype.ctxTransform=function(r){if(!(r[0]===1&&r[1]===0&&r[4]===0&&r[5]===1&&r[12]===0&&r[13]===0)){if(!this.renderConfig.clearCanvas){this.canvasContext.transform(r[0],r[1],r[4],r[5],r[12],r[13]);return}this.transformMat.cloneFromProps(r);var e=this.contextData.cTr.props;this.transformMat.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var i=this.contextData.cTr.props;this.canvasContext.setTransform(i[0],i[1],i[4],i[5],i[12],i[13])}},CanvasRenderer.prototype.ctxOpacity=function(r){if(!this.renderConfig.clearCanvas){this.canvasContext.globalAlpha*=r<0?0:r,this.globalData.currentGlobalAlpha=this.contextData.cO;return}this.contextData.cO*=r<0?0:r,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRenderer.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRenderer.prototype.save=function(r){if(!this.renderConfig.clearCanvas){this.canvasContext.save();return}r&&this.canvasContext.save();var e=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var i,n=this.contextData.saved[this.contextData.cArrPos];for(i=0;i<16;i+=1)n[i]=e[i];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1},CanvasRenderer.prototype.restore=function(r){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}r&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var e=this.contextData.saved[this.contextData.cArrPos],i,n=this.contextData.cTr.props;for(i=0;i<16;i+=1)n[i]=e[i];this.canvasContext.setTransform(e[0],e[1],e[4],e[5],e[12],e[13]),e=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=e,this.globalData.currentGlobalAlpha!==e&&(this.canvasContext.globalAlpha=e,this.globalData.currentGlobalAlpha=e)},CanvasRenderer.prototype.configAnimation=function(r){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var e=this.animationItem.container.style;e.width="100%",e.height="100%";var i="0px 0px 0px";e.transformOrigin=i,e.mozTransformOrigin=i,e.webkitTransformOrigin=i,e["-webkit-transform"]=i,e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=r,this.layers=r.layers,this.transformCanvas={w:r.w,h:r.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(r,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(r.layers.length),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){this.reset();var r,e;this.animationItem.wrapper&&this.animationItem.container?(r=this.animationItem.wrapper.offsetWidth,e=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",r*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",e*this.renderConfig.dpr)):(r=this.canvasContext.canvas.width*this.renderConfig.dpr,e=this.canvasContext.canvas.height*this.renderConfig.dpr);var i,n;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var s=this.renderConfig.preserveAspectRatio.split(" "),o=s[1]||"meet",a=s[0]||"xMidYMid",c=a.substr(0,4),u=a.substr(4);i=r/e,n=this.transformCanvas.w/this.transformCanvas.h,n>i&&o==="meet"||n<i&&o==="slice"?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr)),c==="xMid"&&(n<i&&o==="meet"||n>i&&o==="slice")?this.transformCanvas.tx=(r-this.transformCanvas.w*(e/this.transformCanvas.h))/2*this.renderConfig.dpr:c==="xMax"&&(n<i&&o==="meet"||n>i&&o==="slice")?this.transformCanvas.tx=(r-this.transformCanvas.w*(e/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,u==="YMid"&&(n>i&&o==="meet"||n<i&&o==="slice")?this.transformCanvas.ty=(e-this.transformCanvas.h*(r/this.transformCanvas.w))/2*this.renderConfig.dpr:u==="YMax"&&(n>i&&o==="meet"||n<i&&o==="slice")?this.transformCanvas.ty=(e-this.transformCanvas.h*(r/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRenderer.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var r,e=this.layers?this.layers.length:0;for(r=e-1;r>=0;r-=1)this.elements[r]&&this.elements[r].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(r,e){if(!(this.renderedFrame===r&&this.renderConfig.clearCanvas===!0&&!e||this.destroyed||r===-1)){this.renderedFrame=r,this.globalData.frameNum=r-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=r;var i,n=this.layers.length;for(this.completeLayers||this.checkLayers(r),i=0;i<n;i+=1)(this.completeLayers||this.elements[i])&&this.elements[i].prepareFrame(r-this.layers[i].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),i=n-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&this.elements[i].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRenderer.prototype.buildItem=function(r){var e=this.elements;if(!(e[r]||this.layers[r].ty===99)){var i=this.createItem(this.layers[r],this,this.globalData);e[r]=i,i.initExpressions()}},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var r=this.pendingElements.pop();r.checkParenting()}},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"};function HybridRenderer(r,e){this.animationItem=r,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&e.hideOnTransparent===!1),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var r=this.pendingElements.pop();r.checkParenting()}},HybridRenderer.prototype.appendElementInPos=function(r,e){var i=r.getBaseElement();if(!!i){var n=this.layers[e];if(!n.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(i,e);else{for(var s=0,o,a,c;s<e;)this.elements[s]&&this.elements[s]!==!0&&this.elements[s].getBaseElement&&(a=this.elements[s],c=this.layers[s].ddd?this.getThreeDContainerByPos(s):a.getBaseElement(),o=c||o),s+=1;o?(!n.ddd||!this.supports3d)&&this.layerElement.insertBefore(i,o):(!n.ddd||!this.supports3d)&&this.layerElement.appendChild(i)}else this.addTo3dContainer(i,e)}},HybridRenderer.prototype.createShape=function(r){return this.supports3d?new HShapeElement(r,this.globalData,this):new SVGShapeElement(r,this.globalData,this)},HybridRenderer.prototype.createText=function(r){return this.supports3d?new HTextElement(r,this.globalData,this):new SVGTextLottieElement(r,this.globalData,this)},HybridRenderer.prototype.createCamera=function(r){return this.camera=new HCameraElement(r,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(r){return this.supports3d?new HImageElement(r,this.globalData,this):new IImageElement(r,this.globalData,this)},HybridRenderer.prototype.createComp=function(r){return this.supports3d?new HCompElement(r,this.globalData,this):new SVGCompElement(r,this.globalData,this)},HybridRenderer.prototype.createSolid=function(r){return this.supports3d?new HSolidElement(r,this.globalData,this):new ISolidElement(r,this.globalData,this)},HybridRenderer.prototype.createNull=SVGRenderer.prototype.createNull,HybridRenderer.prototype.getThreeDContainerByPos=function(r){for(var e=0,i=this.threeDElements.length;e<i;){if(this.threeDElements[e].startPos<=r&&this.threeDElements[e].endPos>=r)return this.threeDElements[e].perspectiveElem;e+=1}return null},HybridRenderer.prototype.createThreeDContainer=function(r,e){var i=createTag("div"),n,s;styleDiv(i);var o=createTag("div");if(styleDiv(o),e==="3d"){n=i.style,n.width=this.globalData.compSize.w+"px",n.height=this.globalData.compSize.h+"px";var a="50% 50%";n.webkitTransformOrigin=a,n.mozTransformOrigin=a,n.transformOrigin=a,s=o.style;var c="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";s.transform=c,s.webkitTransform=c}i.appendChild(o);var u={container:o,perspectiveElem:i,startPos:r,endPos:r,type:e};return this.threeDElements.push(u),u},HybridRenderer.prototype.build3dContainers=function(){var r,e=this.layers.length,i,n="";for(r=0;r<e;r+=1)this.layers[r].ddd&&this.layers[r].ty!==3?(n!=="3d"&&(n="3d",i=this.createThreeDContainer(r,"3d")),i.endPos=Math.max(i.endPos,r)):(n!=="2d"&&(n="2d",i=this.createThreeDContainer(r,"2d")),i.endPos=Math.max(i.endPos,r));for(e=this.threeDElements.length,r=e-1;r>=0;r-=1)this.resizerElem.appendChild(this.threeDElements[r].perspectiveElem)},HybridRenderer.prototype.addTo3dContainer=function(r,e){for(var i=0,n=this.threeDElements.length;i<n;){if(e<=this.threeDElements[i].endPos){for(var s=this.threeDElements[i].startPos,o;s<e;)this.elements[s]&&this.elements[s].getBaseElement&&(o=this.elements[s].getBaseElement()),s+=1;o?this.threeDElements[i].container.insertBefore(r,o):this.threeDElements[i].container.appendChild(r);break}i+=1}},HybridRenderer.prototype.configAnimation=function(r){var e=createTag("div"),i=this.animationItem.wrapper,n=e.style;n.width=r.w+"px",n.height=r.h+"px",this.resizerElem=e,styleDiv(e),n.transformStyle="flat",n.mozTransformStyle="flat",n.webkitTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),i.appendChild(e),n.overflow="hidden";var s=createNS("svg");s.setAttribute("width","1"),s.setAttribute("height","1"),styleDiv(s),this.resizerElem.appendChild(s);var o=createNS("defs");s.appendChild(o),this.data=r,this.setupGlobalData(r,s),this.globalData.defs=o,this.layers=r.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var r,e=this.layers?this.layers.length:0;for(r=0;r<e;r+=1)this.elements[r].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var r=this.animationItem.wrapper.offsetWidth,e=this.animationItem.wrapper.offsetHeight,i=r/e,n=this.globalData.compSize.w/this.globalData.compSize.h,s,o,a,c;n>i?(s=r/this.globalData.compSize.w,o=r/this.globalData.compSize.w,a=0,c=(e-this.globalData.compSize.h*(r/this.globalData.compSize.w))/2):(s=e/this.globalData.compSize.h,o=e/this.globalData.compSize.h,a=(r-this.globalData.compSize.w*(e/this.globalData.compSize.h))/2,c=0);var u=this.resizerElem.style;u.webkitTransform="matrix3d("+s+",0,0,0,0,"+o+",0,0,0,0,1,0,"+a+","+c+",0,1)",u.transform=u.webkitTransform},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var r=this.globalData.compSize.w,e=this.globalData.compSize.h,i,n=this.threeDElements.length;for(i=0;i<n;i+=1){var s=this.threeDElements[i].perspectiveElem.style;s.webkitPerspective=Math.sqrt(Math.pow(r,2)+Math.pow(e,2))+"px",s.perspective=s.webkitPerspective}}},HybridRenderer.prototype.searchExtraCompositions=function(r){var e,i=r.length,n=createTag("div");for(e=0;e<i;e+=1)if(r[e].xt){var s=this.createComp(r[e],n,this.globalData.comp,null);s.initExpressions(),this.globalData.projectInterface.registerComposition(s)}};function MaskElement(r,e,i){this.data=r,this.element=e,this.globalData=i,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var n=this.globalData.defs,s,o=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(o),this.solidPath="";var a,c=this.masksProperties,u=0,f=[],d,m,_=createElementID(),ye,Se,Ce,Le,he="clipPath",g="clip-path";for(s=0;s<o;s+=1)if((c[s].mode!=="a"&&c[s].mode!=="n"||c[s].inv||c[s].o.k!==100||c[s].o.x)&&(he="mask",g="mask"),(c[s].mode==="s"||c[s].mode==="i")&&u===0?(ye=createNS("rect"),ye.setAttribute("fill","#ffffff"),ye.setAttribute("width",this.element.comp.data.w||0),ye.setAttribute("height",this.element.comp.data.h||0),f.push(ye)):ye=null,a=createNS("path"),c[s].mode==="n")this.viewData[s]={op:PropertyFactory.getProp(this.element,c[s].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,c[s],3),elem:a,lastPath:""},n.appendChild(a);else{u+=1,a.setAttribute("fill",c[s].mode==="s"?"#000000":"#ffffff"),a.setAttribute("clip-rule","nonzero");var b;if(c[s].x.k!==0?(he="mask",g="mask",Le=PropertyFactory.getProp(this.element,c[s].x,0,null,this.element),b=createElementID(),Se=createNS("filter"),Se.setAttribute("id",b),Ce=createNS("feMorphology"),Ce.setAttribute("operator","erode"),Ce.setAttribute("in","SourceGraphic"),Ce.setAttribute("radius","0"),Se.appendChild(Ce),n.appendChild(Se),a.setAttribute("stroke",c[s].mode==="s"?"#000000":"#ffffff")):(Ce=null,Le=null),this.storedData[s]={elem:a,x:Le,expan:Ce,lastPath:"",lastOperator:"",filterId:b,lastRadius:0},c[s].mode==="i"){m=f.length;var ve=createNS("g");for(d=0;d<m;d+=1)ve.appendChild(f[d]);var Pe=createNS("mask");Pe.setAttribute("mask-type","alpha"),Pe.setAttribute("id",_+"_"+u),Pe.appendChild(a),n.appendChild(Pe),ve.setAttribute("mask","url("+locationHref+"#"+_+"_"+u+")"),f.length=0,f.push(ve)}else f.push(a);c[s].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[s]={elem:a,lastPath:"",op:PropertyFactory.getProp(this.element,c[s].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,c[s],3),invRect:ye},this.viewData[s].prop.k||this.drawPath(c[s],this.viewData[s].prop.v,this.viewData[s])}for(this.maskElement=createNS(he),o=f.length,s=0;s<o;s+=1)this.maskElement.appendChild(f[s]);u>0&&(this.maskElement.setAttribute("id",_),this.element.maskedElement.setAttribute(g,"url("+locationHref+"#"+_+")"),n.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(r){return this.viewData[r].prop},MaskElement.prototype.renderFrame=function(r){var e=this.element.finalTransform.mat,i,n=this.masksProperties.length;for(i=0;i<n;i+=1)if((this.viewData[i].prop._mdf||r)&&this.drawPath(this.masksProperties[i],this.viewData[i].prop.v,this.viewData[i]),(this.viewData[i].op._mdf||r)&&this.viewData[i].elem.setAttribute("fill-opacity",this.viewData[i].op.v),this.masksProperties[i].mode!=="n"&&(this.viewData[i].invRect&&(this.element.finalTransform.mProp._mdf||r)&&this.viewData[i].invRect.setAttribute("transform",e.getInverseMatrix().to2dCSS()),this.storedData[i].x&&(this.storedData[i].x._mdf||r))){var s=this.storedData[i].expan;this.storedData[i].x.v<0?(this.storedData[i].lastOperator!=="erode"&&(this.storedData[i].lastOperator="erode",this.storedData[i].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[i].filterId+")")),s.setAttribute("radius",-this.storedData[i].x.v)):(this.storedData[i].lastOperator!=="dilate"&&(this.storedData[i].lastOperator="dilate",this.storedData[i].elem.setAttribute("filter",null)),this.storedData[i].elem.setAttribute("stroke-width",this.storedData[i].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var r="M0,0 ";return r+=" h"+this.globalData.compSize.w,r+=" v"+this.globalData.compSize.h,r+=" h-"+this.globalData.compSize.w,r+=" v-"+this.globalData.compSize.h+" ",r},MaskElement.prototype.drawPath=function(r,e,i){var n=" M"+e.v[0][0]+","+e.v[0][1],s,o;for(o=e._length,s=1;s<o;s+=1)n+=" C"+e.o[s-1][0]+","+e.o[s-1][1]+" "+e.i[s][0]+","+e.i[s][1]+" "+e.v[s][0]+","+e.v[s][1];if(e.c&&o>1&&(n+=" C"+e.o[s-1][0]+","+e.o[s-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),i.lastPath!==n){var a="";i.elem&&(e.c&&(a=r.inv?this.solidPath+n:n),i.elem.setAttribute("d",a)),i.lastPath=n}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(r){this.hierarchy=r},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(r,e){var i,n=this.dynamicProperties.length;for(i=0;i<n;i+=1)(e||this._isParent&&this.dynamicProperties[i].propType==="transform")&&(this.dynamicProperties[i].getValue(),this.dynamicProperties[i]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(r){this.dynamicProperties.indexOf(r)===-1&&this.dynamicProperties.push(r)}};function TransformElement(){}TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var r,e=this.finalTransform.mat,i=0,n=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;i<n;){if(this.hierarchy[i].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}i+=1}if(this.finalTransform._matMdf)for(r=this.finalTransform.mProp.v.props,e.cloneFromProps(r),i=0;i<n;i+=1)r=this.hierarchy[i].finalTransform.mProp.v.props,e.transform(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15])}},globalToLocal:function(r){var e=[];e.push(this.finalTransform);for(var i=!0,n=this.comp;i;)n.finalTransform?(n.data.hasMask&&e.splice(0,0,n.finalTransform),n=n.comp):i=!1;var s,o=e.length,a;for(s=0;s<o;s+=1)a=e[s].mat.applyToPointArray(0,0,0),r=[r[0]-a[0],r[1]-a[1],0];return r},mHelper:new Matrix};function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(r){this.renderableComponents.indexOf(r)===-1&&this.renderableComponents.push(r)},removeRenderableComponent:function(r){this.renderableComponents.indexOf(r)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(r),1)},prepareRenderableFrame:function(r){this.checkLayerLimits(r)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(r){this.data.ip-this.data.st<=r&&this.data.op-this.data.st>r?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var r,e=this.renderableComponents.length;for(r=0;r<e;r+=1)this.renderableComponents[r].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};function RenderableDOMElement(){}(function(){var r={initElement:function(e,i,n){this.initFrame(),this.initBaseData(e,i,n),this.initTransform(e,i,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var e=this.baseElement||this.layerElement;e.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var e=this.baseElement||this.layerElement;e.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(r)],RenderableDOMElement)})();function ProcessedElement(r,e){this.elem=r,this.pos=e}function SVGStyleData(r,e){this.data=r,this.type=r.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=r.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function SVGShapeData(r,e,i){this.caches=[],this.styles=[],this.transformers=r,this.lStr="",this.sh=i,this.lvl=e,this._isAnimated=!!i.k;for(var n=0,s=r.length;n<s;){if(r[n].mProps.dynamicProperties.length){this._isAnimated=!0;break}n+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGTransformData(r,e,i){this.transform={mProps:r,op:e,container:i},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function SVGStrokeStyleData(r,e,i){this.initDynamicPropertyContainer(r),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(r,e.o,0,.01,this),this.w=PropertyFactory.getProp(r,e.w,0,null,this),this.d=new DashProperty(r,e.d||{},"svg",this),this.c=PropertyFactory.getProp(r,e.c,1,255,this),this.style=i,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(r,e,i){this.initDynamicPropertyContainer(r),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(r,e.o,0,.01,this),this.c=PropertyFactory.getProp(r,e.c,1,255,this),this.style=i}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGGradientFillStyleData(r,e,i){this.initDynamicPropertyContainer(r),this.getValue=this.iterateDynamicProperties,this.initGradientData(r,e,i)}SVGGradientFillStyleData.prototype.initGradientData=function(r,e,i){this.o=PropertyFactory.getProp(r,e.o,0,.01,this),this.s=PropertyFactory.getProp(r,e.s,1,null,this),this.e=PropertyFactory.getProp(r,e.e,1,null,this),this.h=PropertyFactory.getProp(r,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(r,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(r,e.g,this),this.style=i,this.stops=[],this.setGradientData(i.pElem,e),this.setGradientOpacity(e,i),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(r,e){var i=createElementID(),n=createNS(e.t===1?"linearGradient":"radialGradient");n.setAttribute("id",i),n.setAttribute("spreadMethod","pad"),n.setAttribute("gradientUnits","userSpaceOnUse");var s=[],o,a,c;for(c=e.g.p*4,a=0;a<c;a+=4)o=createNS("stop"),n.appendChild(o),s.push(o);r.setAttribute(e.ty==="gf"?"fill":"stroke","url("+locationHref+"#"+i+")"),this.gf=n,this.cst=s},SVGGradientFillStyleData.prototype.setGradientOpacity=function(r,e){if(this.g._hasOpacity&&!this.g._collapsable){var i,n,s,o=createNS("mask"),a=createNS("path");o.appendChild(a);var c=createElementID(),u=createElementID();o.setAttribute("id",u);var f=createNS(r.t===1?"linearGradient":"radialGradient");f.setAttribute("id",c),f.setAttribute("spreadMethod","pad"),f.setAttribute("gradientUnits","userSpaceOnUse"),s=r.g.k.k[0].s?r.g.k.k[0].s.length:r.g.k.k.length;var d=this.stops;for(n=r.g.p*4;n<s;n+=2)i=createNS("stop"),i.setAttribute("stop-color","rgb(255,255,255)"),f.appendChild(i),d.push(i);a.setAttribute(r.ty==="gf"?"fill":"stroke","url("+locationHref+"#"+c+")"),r.ty==="gs"&&(a.setAttribute("stroke-linecap",lineCapEnum[r.lc||2]),a.setAttribute("stroke-linejoin",lineJoinEnum[r.lj||2]),r.lj===1&&a.setAttribute("stroke-miterlimit",r.ml)),this.of=f,this.ms=o,this.ost=d,this.maskId=u,e.msElem=a}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(r,e,i){this.initDynamicPropertyContainer(r),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(r,e.w,0,null,this),this.d=new DashProperty(r,e.d||{},"svg",this),this.initGradientData(r,e,i),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}var SVGElementsRenderer=function(){var r=new Matrix,e=new Matrix,i={createRenderFunction:n};function n(d){switch(d.ty){case"fl":return a;case"gf":return u;case"gs":return c;case"st":return f;case"sh":case"el":case"rc":case"sr":return o;case"tr":return s;default:return null}}function s(d,m,_){(_||m.transform.op._mdf)&&m.transform.container.setAttribute("opacity",m.transform.op.v),(_||m.transform.mProps._mdf)&&m.transform.container.setAttribute("transform",m.transform.mProps.v.to2dCSS())}function o(d,m,_){var ye,Se,Ce,Le,he,g,b=m.styles.length,ve=m.lvl,Pe,Be,Ve,et,yt;for(g=0;g<b;g+=1){if(Le=m.sh._mdf||_,m.styles[g].lvl<ve){for(Be=e.reset(),et=ve-m.styles[g].lvl,yt=m.transformers.length-1;!Le&&et>0;)Le=m.transformers[yt].mProps._mdf||Le,et-=1,yt-=1;if(Le)for(et=ve-m.styles[g].lvl,yt=m.transformers.length-1;et>0;)Ve=m.transformers[yt].mProps.v.props,Be.transform(Ve[0],Ve[1],Ve[2],Ve[3],Ve[4],Ve[5],Ve[6],Ve[7],Ve[8],Ve[9],Ve[10],Ve[11],Ve[12],Ve[13],Ve[14],Ve[15]),et-=1,yt-=1}else Be=r;if(Pe=m.sh.paths,Se=Pe._length,Le){for(Ce="",ye=0;ye<Se;ye+=1)he=Pe.shapes[ye],he&&he._length&&(Ce+=buildShapeString(he,he._length,he.c,Be));m.caches[g]=Ce}else Ce=m.caches[g];m.styles[g].d+=d.hd===!0?"":Ce,m.styles[g]._mdf=Le||m.styles[g]._mdf}}function a(d,m,_){var ye=m.style;(m.c._mdf||_)&&ye.pElem.setAttribute("fill","rgb("+bmFloor(m.c.v[0])+","+bmFloor(m.c.v[1])+","+bmFloor(m.c.v[2])+")"),(m.o._mdf||_)&&ye.pElem.setAttribute("fill-opacity",m.o.v)}function c(d,m,_){u(d,m,_),f(d,m,_)}function u(d,m,_){var ye=m.gf,Se=m.g._hasOpacity,Ce=m.s.v,Le=m.e.v;if(m.o._mdf||_){var he=d.ty==="gf"?"fill-opacity":"stroke-opacity";m.style.pElem.setAttribute(he,m.o.v)}if(m.s._mdf||_){var g=d.t===1?"x1":"cx",b=g==="x1"?"y1":"cy";ye.setAttribute(g,Ce[0]),ye.setAttribute(b,Ce[1]),Se&&!m.g._collapsable&&(m.of.setAttribute(g,Ce[0]),m.of.setAttribute(b,Ce[1]))}var ve,Pe,Be,Ve;if(m.g._cmdf||_){ve=m.cst;var et=m.g.c;for(Be=ve.length,Pe=0;Pe<Be;Pe+=1)Ve=ve[Pe],Ve.setAttribute("offset",et[Pe*4]+"%"),Ve.setAttribute("stop-color","rgb("+et[Pe*4+1]+","+et[Pe*4+2]+","+et[Pe*4+3]+")")}if(Se&&(m.g._omdf||_)){var yt=m.g.o;for(m.g._collapsable?ve=m.cst:ve=m.ost,Be=ve.length,Pe=0;Pe<Be;Pe+=1)Ve=ve[Pe],m.g._collapsable||Ve.setAttribute("offset",yt[Pe*2]+"%"),Ve.setAttribute("stop-opacity",yt[Pe*2+1])}if(d.t===1)(m.e._mdf||_)&&(ye.setAttribute("x2",Le[0]),ye.setAttribute("y2",Le[1]),Se&&!m.g._collapsable&&(m.of.setAttribute("x2",Le[0]),m.of.setAttribute("y2",Le[1])));else{var kt;if((m.s._mdf||m.e._mdf||_)&&(kt=Math.sqrt(Math.pow(Ce[0]-Le[0],2)+Math.pow(Ce[1]-Le[1],2)),ye.setAttribute("r",kt),Se&&!m.g._collapsable&&m.of.setAttribute("r",kt)),m.e._mdf||m.h._mdf||m.a._mdf||_){kt||(kt=Math.sqrt(Math.pow(Ce[0]-Le[0],2)+Math.pow(Ce[1]-Le[1],2)));var Ot=Math.atan2(Le[1]-Ce[1],Le[0]-Ce[0]),Ft=m.h.v;Ft>=1?Ft=.99:Ft<=-1&&(Ft=-.99);var wt=kt*Ft,Dt=Math.cos(Ot+m.a.v)*wt+Ce[0],Mt=Math.sin(Ot+m.a.v)*wt+Ce[1];ye.setAttribute("fx",Dt),ye.setAttribute("fy",Mt),Se&&!m.g._collapsable&&(m.of.setAttribute("fx",Dt),m.of.setAttribute("fy",Mt))}}}function f(d,m,_){var ye=m.style,Se=m.d;Se&&(Se._mdf||_)&&Se.dashStr&&(ye.pElem.setAttribute("stroke-dasharray",Se.dashStr),ye.pElem.setAttribute("stroke-dashoffset",Se.dashoffset[0])),m.c&&(m.c._mdf||_)&&ye.pElem.setAttribute("stroke","rgb("+bmFloor(m.c.v[0])+","+bmFloor(m.c.v[1])+","+bmFloor(m.c.v[2])+")"),(m.o._mdf||_)&&ye.pElem.setAttribute("stroke-opacity",m.o.v),(m.w._mdf||_)&&(ye.pElem.setAttribute("stroke-width",m.w.v),ye.msElem&&ye.msElem.setAttribute("stroke-width",m.w.v))}return i}();function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(r){var e,i=r.length,n="_";for(e=0;e<i;e+=1)n+=r[e].transform.key+"_";var s=this.sequences[n];return s||(s={transforms:[].concat(r),finalTransform:new Matrix,_mdf:!1},this.sequences[n]=s,this.sequenceList.push(s)),s},processSequence:function(r,e){for(var i=0,n=r.transforms.length,s=e;i<n&&!e;){if(r.transforms[i].transform.mProps._mdf){s=!0;break}i+=1}if(s){var o;for(r.finalTransform.reset(),i=n-1;i>=0;i-=1)o=r.transforms[i].transform.mProps.v.props,r.finalTransform.transform(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14],o[15])}r._mdf=s},processSequences:function(r){var e,i=this.sequenceList.length;for(e=0;e<i;e+=1)this.processSequence(this.sequenceList[e],r)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};function CVShapeData(r,e,i,n){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var s=4;e.ty==="rc"?s=5:e.ty==="el"?s=6:e.ty==="sr"&&(s=7),this.sh=ShapePropertyFactory.getShapeProp(r,e,s,r);var o,a=i.length,c;for(o=0;o<a;o+=1)i[o].closed||(c={transforms:n.addTransformSequence(i[o].transforms),trNodes:[]},this.styledShapes.push(c),i[o].elements.push(c))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var r=0,e=this.data.masksProperties.length;r<e;){if(this.data.masksProperties[r].mode!=="n"&&this.data.masksProperties[r].cl!==!1)return!0;r+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var r=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(r),this.data.ty===0||this.data.xt?this.compInterface=CompExpressionInterface(this):this.data.ty===4?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var r=getBlendMode(this.data.bm),e=this.baseElement||this.layerElement;e.style["mix-blend-mode"]=r},initBaseData:function(r,e,i){this.globalData=e,this.comp=i,this.data=r,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function NullElement(r,e,i){this.initFrame(),this.initBaseData(r,e,i),this.initFrame(),this.initTransform(r,e,i),this.initHierarchy()}NullElement.prototype.prepareFrame=function(r){this.prepareProperties(r,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var r=null,e,i,n;if(this.data.td){if(this.data.td==3||this.data.td==1){var s=createNS("mask");s.setAttribute("id",this.layerId),s.setAttribute("mask-type",this.data.td==3?"luminance":"alpha"),s.appendChild(this.layerElement),r=s,this.globalData.defs.appendChild(s),!featureSupport.maskType&&this.data.td==1&&(s.setAttribute("mask-type","luminance"),e=createElementID(),i=filtersFactory.createFilter(e),this.globalData.defs.appendChild(i),i.appendChild(filtersFactory.createAlphaToLuminanceFilter()),n=createNS("g"),n.appendChild(this.layerElement),r=n,s.appendChild(n),n.setAttribute("filter","url("+locationHref+"#"+e+")"))}else if(this.data.td==2){var o=createNS("mask");o.setAttribute("id",this.layerId),o.setAttribute("mask-type","alpha");var a=createNS("g");o.appendChild(a),e=createElementID(),i=filtersFactory.createFilter(e);var c=createNS("feComponentTransfer");c.setAttribute("in","SourceGraphic"),i.appendChild(c);var u=createNS("feFuncA");u.setAttribute("type","table"),u.setAttribute("tableValues","1.0 0.0"),c.appendChild(u),this.globalData.defs.appendChild(i);var f=createNS("rect");f.setAttribute("width",this.comp.data.w),f.setAttribute("height",this.comp.data.h),f.setAttribute("x","0"),f.setAttribute("y","0"),f.setAttribute("fill","#ffffff"),f.setAttribute("opacity","0"),a.setAttribute("filter","url("+locationHref+"#"+e+")"),a.appendChild(f),a.appendChild(this.layerElement),r=a,featureSupport.maskType||(o.setAttribute("mask-type","luminance"),i.appendChild(filtersFactory.createAlphaToLuminanceFilter()),n=createNS("g"),a.appendChild(f),n.appendChild(this.layerElement),r=n,a.appendChild(n)),this.globalData.defs.appendChild(o)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),r=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var d=createNS("clipPath"),m=createNS("path");m.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var _=createElementID();if(d.setAttribute("id",_),d.appendChild(m),this.globalData.defs.appendChild(d),this.checkMasks()){var ye=createNS("g");ye.setAttribute("clip-path","url("+locationHref+"#"+_+")"),ye.appendChild(this.layerElement),this.transformedElement=ye,r?r.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+_+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(r){!this.matteElement||this.matteElement.setAttribute("mask","url("+locationHref+"#"+r+")")}};function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(r){var e,i=this.shapeModifiers.length;for(e=0;e<i;e+=1)this.shapeModifiers[e].addShape(r)},isShapeInAnimatedModifiers:function(r){for(var e=0,i=this.shapeModifiers.length;e<i;)if(this.shapeModifiers[e].isAnimatedWithShape(r))return!0;return!1},renderModifiers:function(){if(!!this.shapeModifiers.length){var r,e=this.shapes.length;for(r=0;r<e;r+=1)this.shapes[r].sh.reset();e=this.shapeModifiers.length;var i;for(r=e-1;r>=0&&(i=this.shapeModifiers[r].processShapes(this._isFirstFrame),!i);r-=1);}},searchProcessedElement:function(r){for(var e=this.processedElements,i=0,n=e.length;i<n;){if(e[i].elem===r)return e[i].pos;i+=1}return 0},addProcessedElement:function(r,e){for(var i=this.processedElements,n=i.length;n;)if(n-=1,i[n].elem===r){i[n].pos=e;return}i.push(new ProcessedElement(r,e))},prepareFrame:function(r){this.prepareRenderableFrame(r),this.prepareProperties(r,this.isInRange)}};function ITextElement(){}ITextElement.prototype.initElement=function(r,e,i){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(r,e,i),this.textProperty=new TextProperty(this,r.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(r.t,this.renderType,this),this.initTransform(r,e,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(r){this._mdf=!1,this.prepareRenderableFrame(r),this.prepareProperties(r,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(r,e){var i,n=e.length,s,o="";for(i=0;i<n;i+=1)s=e[i].ks.k,o+=buildShapeString(s,s.i.length,!0,r);return o},ITextElement.prototype.updateDocumentData=function(r,e){this.textProperty.updateDocumentData(r,e)},ITextElement.prototype.canResizeFont=function(r){this.textProperty.canResizeFont(r)},ITextElement.prototype.setMinimumFontSize=function(r){this.textProperty.setMinimumFontSize(r)},ITextElement.prototype.applyTextPropertiesToMatrix=function(r,e,i,n,s){switch(r.ps&&e.translate(r.ps[0],r.ps[1]+r.ascent,0),e.translate(0,-r.ls,0),r.j){case 1:e.translate(r.justifyOffset+(r.boxWidth-r.lineWidths[i]),0,0);break;case 2:e.translate(r.justifyOffset+(r.boxWidth-r.lineWidths[i])/2,0,0);break}e.translate(n,s,0)},ITextElement.prototype.buildColor=function(r){return"rgb("+Math.round(r[0]*255)+","+Math.round(r[1]*255)+","+Math.round(r[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(r,e,i){this.initFrame(),this.initBaseData(r,e,i),this.initTransform(r,e,i),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!e.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(r){if(this._mdf=!1,this.prepareRenderableFrame(r),this.prepareProperties(r,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=r/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var i,n=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),i=n-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&(this.elements[i].prepareFrame(this.renderedFrame-this.layers[i].st),this.elements[i]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var r,e=this.layers.length;for(r=0;r<e;r+=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame()},ICompElement.prototype.setElements=function(r){this.elements=r},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var r,e=this.layers.length;for(r=0;r<e;r+=1)this.elements[r]&&this.elements[r].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function IImageElement(r,e,i){this.assetData=e.getAssetData(r.refId),this.initElement(r,e,i),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var r=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",r),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ISolidElement(r,e,i){this.initElement(r,e,i)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var r=createNS("rect");r.setAttribute("width",this.data.sw),r.setAttribute("height",this.data.sh),r.setAttribute("fill",this.data.sc),this.layerElement.appendChild(r)};function AudioElement(r,e,i){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(r.refId),this.initBaseData(r,e,i),this._isPlaying=!1,this._canPlay=!1;var n=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(n),this._currentTime=0,this.globalData.audioController.addAudio(this),this.tm=r.tm?PropertyFactory.getProp(this,r.tm,0,e.frameRate,this):{_placeholder:!0}}AudioElement.prototype.prepareFrame=function(r){if(this.prepareRenderableFrame(r,!0),this.prepareProperties(r,!0),this.tm._placeholder)this._currentTime=r/this.data.sr;else{var e=this.tm.v;this._currentTime=e}},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(r){this.audio.rate(r)},AudioElement.prototype.volume=function(r){this.audio.volume(r)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function FootageElement(r,e,i){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(r.refId),this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(r,e,i)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){this.layerInterface=FootageInterface(this)},FootageElement.prototype.getFootageData=function(){return this.footageData};function SVGCompElement(r,e,i){this.layers=r.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(r,e,i),this.tm=r.tm?PropertyFactory.getProp(this,r.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRenderer,ICompElement,SVGBaseElement],SVGCompElement);function SVGTextLottieElement(r,e,i){this.textSpans=[],this.renderType="svg",this.initElement(r,e,i)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(r){for(var e=0,i=r.length,n=[],s="";e<i;)r[e]===String.fromCharCode(13)||r[e]===String.fromCharCode(3)?(n.push(s),s=""):s+=r[e],e+=1;return n.push(s),n},SVGTextLottieElement.prototype.buildNewText=function(){var r,e,i=this.textProperty.currentData;this.renderedLetters=createSizedArray(i?i.l.length:0),i.fc?this.layerElement.setAttribute("fill",this.buildColor(i.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),i.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(i.sc)),this.layerElement.setAttribute("stroke-width",i.sw)),this.layerElement.setAttribute("font-size",i.finalSize);var n=this.globalData.fontManager.getFontByName(i.f);if(n.fClass)this.layerElement.setAttribute("class",n.fClass);else{this.layerElement.setAttribute("font-family",n.fFamily);var s=i.fWeight,o=i.fStyle;this.layerElement.setAttribute("font-style",o),this.layerElement.setAttribute("font-weight",s)}this.layerElement.setAttribute("aria-label",i.t);var a=i.l||[],c=!!this.globalData.fontManager.chars;e=a.length;var u,f=this.mHelper,d,m="",_=this.data.singleShape,ye=0,Se=0,Ce=!0,Le=i.tr*.001*i.finalSize;if(_&&!c&&!i.sz){var he=this.textContainer,g="start";switch(i.j){case 1:g="end";break;case 2:g="middle";break;default:g="start";break}he.setAttribute("text-anchor",g),he.setAttribute("letter-spacing",Le);var b=this.buildTextContents(i.finalText);for(e=b.length,Se=i.ps?i.ps[1]+i.ascent:0,r=0;r<e;r+=1)u=this.textSpans[r]||createNS("tspan"),u.textContent=b[r],u.setAttribute("x",0),u.setAttribute("y",Se),u.style.display="inherit",he.appendChild(u),this.textSpans[r]=u,Se+=i.finalLineHeight;this.layerElement.appendChild(he)}else{var ve=this.textSpans.length,Pe,Be;for(r=0;r<e;r+=1)(!c||!_||r===0)&&(u=ve>r?this.textSpans[r]:createNS(c?"path":"text"),ve<=r&&(u.setAttribute("stroke-linecap","butt"),u.setAttribute("stroke-linejoin","round"),u.setAttribute("stroke-miterlimit","4"),this.textSpans[r]=u,this.layerElement.appendChild(u)),u.style.display="inherit"),f.reset(),f.scale(i.finalSize/100,i.finalSize/100),_&&(a[r].n&&(ye=-Le,Se+=i.yOffset,Se+=Ce?1:0,Ce=!1),this.applyTextPropertiesToMatrix(i,f,a[r].line,ye,Se),ye+=a[r].l||0,ye+=Le),c?(Be=this.globalData.fontManager.getCharData(i.finalText[r],n.fStyle,this.globalData.fontManager.getFontByName(i.f).fFamily),Pe=Be&&Be.data||{},d=Pe.shapes?Pe.shapes[0].it:[],_?m+=this.createPathShape(f,d):u.setAttribute("d",this.createPathShape(f,d))):(_&&u.setAttribute("transform","translate("+f.props[12]+","+f.props[13]+")"),u.textContent=a[r].val,u.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));_&&u&&u.setAttribute("d",m)}for(;r<this.textSpans.length;)this.textSpans[r].style.display="none",r+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var r=this.layerElement.getBBox();this.bbox={top:r.y,left:r.x,width:r.width,height:r.height}}return this.bbox},SVGTextLottieElement.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var r,e,i=this.textAnimator.renderedLetters,n=this.textProperty.currentData.l;e=n.length;var s,o;for(r=0;r<e;r+=1)n[r].n||(s=i[r],o=this.textSpans[r],s._mdf.m&&o.setAttribute("transform",s.m),s._mdf.o&&o.setAttribute("opacity",s.o),s._mdf.sw&&o.setAttribute("stroke-width",s.sw),s._mdf.sc&&o.setAttribute("stroke",s.sc),s._mdf.fc&&o.setAttribute("fill",s.fc))}};function SVGShapeElement(r,e,i){this.shapes=[],this.shapesData=r.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(r,e,i),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var r,e=this.shapes.length,i,n,s=this.stylesList.length,o,a=[],c=!1;for(n=0;n<s;n+=1){for(o=this.stylesList[n],c=!1,a.length=0,r=0;r<e;r+=1)i=this.shapes[r],i.styles.indexOf(o)!==-1&&(a.push(i),c=i._isAnimated||c);a.length>1&&c&&this.setShapesAsAnimated(a)}},SVGShapeElement.prototype.setShapesAsAnimated=function(r){var e,i=r.length;for(e=0;e<i;e+=1)r[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(r,e){var i,n=new SVGStyleData(r,e),s=n.pElem;if(r.ty==="st")i=new SVGStrokeStyleData(this,r,n);else if(r.ty==="fl")i=new SVGFillStyleData(this,r,n);else if(r.ty==="gf"||r.ty==="gs"){var o=r.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;i=new o(this,r,n),this.globalData.defs.appendChild(i.gf),i.maskId&&(this.globalData.defs.appendChild(i.ms),this.globalData.defs.appendChild(i.of),s.setAttribute("mask","url("+locationHref+"#"+i.maskId+")"))}return(r.ty==="st"||r.ty==="gs")&&(s.setAttribute("stroke-linecap",lineCapEnum[r.lc||2]),s.setAttribute("stroke-linejoin",lineJoinEnum[r.lj||2]),s.setAttribute("fill-opacity","0"),r.lj===1&&s.setAttribute("stroke-miterlimit",r.ml)),r.r===2&&s.setAttribute("fill-rule","evenodd"),r.ln&&s.setAttribute("id",r.ln),r.cl&&s.setAttribute("class",r.cl),r.bm&&(s.style["mix-blend-mode"]=getBlendMode(r.bm)),this.stylesList.push(n),this.addToAnimatedContents(r,i),i},SVGShapeElement.prototype.createGroupElement=function(r){var e=new ShapeGroupData;return r.ln&&e.gr.setAttribute("id",r.ln),r.cl&&e.gr.setAttribute("class",r.cl),r.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(r.bm)),e},SVGShapeElement.prototype.createTransformElement=function(r,e){var i=TransformPropertyFactory.getTransformProperty(this,r,this),n=new SVGTransformData(i,i.o,e);return this.addToAnimatedContents(r,n),n},SVGShapeElement.prototype.createShapeElement=function(r,e,i){var n=4;r.ty==="rc"?n=5:r.ty==="el"?n=6:r.ty==="sr"&&(n=7);var s=ShapePropertyFactory.getShapeProp(this,r,n,this),o=new SVGShapeData(e,i,s);return this.shapes.push(o),this.addShapeToModifiers(o),this.addToAnimatedContents(r,o),o},SVGShapeElement.prototype.addToAnimatedContents=function(r,e){for(var i=0,n=this.animatedContents.length;i<n;){if(this.animatedContents[i].element===e)return;i+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(r),element:e,data:r})},SVGShapeElement.prototype.setElementStyles=function(r){var e=r.styles,i,n=this.stylesList.length;for(i=0;i<n;i+=1)this.stylesList[i].closed||e.push(this.stylesList[i])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var r,e=this.itemsData.length;for(r=0;r<e;r+=1)this.prevViewData[r]=this.itemsData[r];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,r=0;r<e;r+=1)this.dynamicProperties[r].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(r,e,i,n,s,o,a){var c=[].concat(o),u,f=r.length-1,d,m,_=[],ye=[],Se,Ce,Le;for(u=f;u>=0;u-=1){if(Le=this.searchProcessedElement(r[u]),Le?e[u]=i[Le-1]:r[u]._render=a,r[u].ty==="fl"||r[u].ty==="st"||r[u].ty==="gf"||r[u].ty==="gs")Le?e[u].style.closed=!1:e[u]=this.createStyleElement(r[u],s),r[u]._render&&e[u].style.pElem.parentNode!==n&&n.appendChild(e[u].style.pElem),_.push(e[u].style);else if(r[u].ty==="gr"){if(!Le)e[u]=this.createGroupElement(r[u]);else for(m=e[u].it.length,d=0;d<m;d+=1)e[u].prevViewData[d]=e[u].it[d];this.searchShapes(r[u].it,e[u].it,e[u].prevViewData,e[u].gr,s+1,c,a),r[u]._render&&e[u].gr.parentNode!==n&&n.appendChild(e[u].gr)}else r[u].ty==="tr"?(Le||(e[u]=this.createTransformElement(r[u],n)),Se=e[u].transform,c.push(Se)):r[u].ty==="sh"||r[u].ty==="rc"||r[u].ty==="el"||r[u].ty==="sr"?(Le||(e[u]=this.createShapeElement(r[u],c,s)),this.setElementStyles(e[u])):r[u].ty==="tm"||r[u].ty==="rd"||r[u].ty==="ms"||r[u].ty==="pb"?(Le?(Ce=e[u],Ce.closed=!1):(Ce=ShapeModifiers.getModifier(r[u].ty),Ce.init(this,r[u]),e[u]=Ce,this.shapeModifiers.push(Ce)),ye.push(Ce)):r[u].ty==="rp"&&(Le?(Ce=e[u],Ce.closed=!0):(Ce=ShapeModifiers.getModifier(r[u].ty),e[u]=Ce,Ce.init(this,r,u,e),this.shapeModifiers.push(Ce),a=!1),ye.push(Ce));this.addProcessedElement(r[u],u+1)}for(f=_.length,u=0;u<f;u+=1)_[u].closed=!0;for(f=ye.length,u=0;u<f;u+=1)ye[u].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var r,e=this.stylesList.length;for(r=0;r<e;r+=1)this.stylesList[r].reset();for(this.renderShape(),r=0;r<e;r+=1)(this.stylesList[r]._mdf||this._isFirstFrame)&&(this.stylesList[r].msElem&&(this.stylesList[r].msElem.setAttribute("d",this.stylesList[r].d),this.stylesList[r].d="M0 0"+this.stylesList[r].d),this.stylesList[r].pElem.setAttribute("d",this.stylesList[r].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var r,e=this.animatedContents.length,i;for(r=0;r<e;r+=1)i=this.animatedContents[r],(this._isFirstFrame||i.element._isAnimated)&&i.data!==!0&&i.fn(i.data,i.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function SVGTintFilter(r,e){this.filterManager=e;var i=createNS("feColorMatrix");if(i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),i.setAttribute("result","f1"),r.appendChild(i),i=createNS("feColorMatrix"),i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),i.setAttribute("result","f2"),r.appendChild(i),this.matrixFilter=i,e.effectElements[2].p.v!==100||e.effectElements[2].p.k){var n=createNS("feMerge");r.appendChild(n);var s;s=createNS("feMergeNode"),s.setAttribute("in","SourceGraphic"),n.appendChild(s),s=createNS("feMergeNode"),s.setAttribute("in","f2"),n.appendChild(s)}}SVGTintFilter.prototype.renderFrame=function(r){if(r||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",i[0]-e[0]+" 0 0 0 "+e[0]+" "+(i[1]-e[1])+" 0 0 0 "+e[1]+" "+(i[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 "+n+" 0")}};function SVGFillFilter(r,e){this.filterManager=e;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),r.appendChild(i),this.matrixFilter=i}SVGFillFilter.prototype.renderFrame=function(r){if(r||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,i=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+i+" 0")}};function SVGGaussianBlurEffect(r,e){r.setAttribute("x","-100%"),r.setAttribute("y","-100%"),r.setAttribute("width","300%"),r.setAttribute("height","300%"),this.filterManager=e;var i=createNS("feGaussianBlur");r.appendChild(i),this.feGaussianBlur=i}SVGGaussianBlurEffect.prototype.renderFrame=function(r){if(r||this.filterManager._mdf){var e=.3,i=this.filterManager.effectElements[0].p.v*e,n=this.filterManager.effectElements[1].p.v,s=n==3?0:i,o=n==2?0:i;this.feGaussianBlur.setAttribute("stdDeviation",s+" "+o);var a=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",a)}};function SVGStrokeEffect(r,e){this.initialized=!1,this.filterManager=e,this.elem=r,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var r=this.elem.layerElement.children||this.elem.layerElement.childNodes,e,i,n,s;for(this.filterManager.effectElements[1].p.v===1?(s=this.elem.maskManager.masksProperties.length,n=0):(n=this.filterManager.effectElements[0].p.v-1,s=n+1),i=createNS("g"),i.setAttribute("fill","none"),i.setAttribute("stroke-linecap","round"),i.setAttribute("stroke-dashoffset",1),n;n<s;n+=1)e=createNS("path"),i.appendChild(e),this.paths.push({p:e,m:n});if(this.filterManager.effectElements[10].p.v===3){var o=createNS("mask"),a=createElementID();o.setAttribute("id",a),o.setAttribute("mask-type","alpha"),o.appendChild(i),this.elem.globalData.defs.appendChild(o);var c=createNS("g");for(c.setAttribute("mask","url("+locationHref+"#"+a+")");r[0];)c.appendChild(r[0]);this.elem.layerElement.appendChild(c),this.masker=o,i.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(r=this.elem.layerElement.children||this.elem.layerElement.childNodes;r.length;)this.elem.layerElement.removeChild(r[0]);this.elem.layerElement.appendChild(i),this.elem.layerElement.removeAttribute("mask"),i.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=i},SVGStrokeEffect.prototype.renderFrame=function(r){this.initialized||this.initialize();var e,i=this.paths.length,n,s;for(e=0;e<i;e+=1)if(this.paths[e].m!==-1&&(n=this.elem.maskManager.viewData[this.paths[e].m],s=this.paths[e].p,(r||this.filterManager._mdf||n.prop._mdf)&&s.setAttribute("d",n.lastPath),r||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||n.prop._mdf)){var o;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var a=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,c=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,u=s.getTotalLength();o="0 0 0 "+u*a+" ";var f=u*(c-a),d=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,m=Math.floor(f/d),_;for(_=0;_<m;_+=1)o+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";o+="0 "+u*10+" 0 0"}else o="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;s.setAttribute("stroke-dasharray",o)}if((r||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(r||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(r||this.filterManager.effectElements[3].p._mdf)){var ye=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(ye[0]*255)+","+bmFloor(ye[1]*255)+","+bmFloor(ye[2]*255)+")")}};function SVGTritoneFilter(r,e){this.filterManager=e;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),i.setAttribute("result","f1"),r.appendChild(i);var n=createNS("feComponentTransfer");n.setAttribute("color-interpolation-filters","sRGB"),r.appendChild(n),this.matrixFilter=n;var s=createNS("feFuncR");s.setAttribute("type","table"),n.appendChild(s),this.feFuncR=s;var o=createNS("feFuncG");o.setAttribute("type","table"),n.appendChild(o),this.feFuncG=o;var a=createNS("feFuncB");a.setAttribute("type","table"),n.appendChild(a),this.feFuncB=a}SVGTritoneFilter.prototype.renderFrame=function(r){if(r||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v,s=n[0]+" "+i[0]+" "+e[0],o=n[1]+" "+i[1]+" "+e[1],a=n[2]+" "+i[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",s),this.feFuncG.setAttribute("tableValues",o),this.feFuncB.setAttribute("tableValues",a)}};function SVGProLevelsFilter(r,e){this.filterManager=e;var i=this.filterManager.effectElements,n=createNS("feComponentTransfer");(i[10].p.k||i[10].p.v!==0||i[11].p.k||i[11].p.v!==1||i[12].p.k||i[12].p.v!==1||i[13].p.k||i[13].p.v!==0||i[14].p.k||i[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",n)),(i[17].p.k||i[17].p.v!==0||i[18].p.k||i[18].p.v!==1||i[19].p.k||i[19].p.v!==1||i[20].p.k||i[20].p.v!==0||i[21].p.k||i[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",n)),(i[24].p.k||i[24].p.v!==0||i[25].p.k||i[25].p.v!==1||i[26].p.k||i[26].p.v!==1||i[27].p.k||i[27].p.v!==0||i[28].p.k||i[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",n)),(i[31].p.k||i[31].p.v!==0||i[32].p.k||i[32].p.v!==1||i[33].p.k||i[33].p.v!==1||i[34].p.k||i[34].p.v!==0||i[35].p.k||i[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",n)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(n.setAttribute("color-interpolation-filters","sRGB"),r.appendChild(n),n=createNS("feComponentTransfer")),(i[3].p.k||i[3].p.v!==0||i[4].p.k||i[4].p.v!==1||i[5].p.k||i[5].p.v!==1||i[6].p.k||i[6].p.v!==0||i[7].p.k||i[7].p.v!==1)&&(n.setAttribute("color-interpolation-filters","sRGB"),r.appendChild(n),this.feFuncRComposed=this.createFeFunc("feFuncR",n),this.feFuncGComposed=this.createFeFunc("feFuncG",n),this.feFuncBComposed=this.createFeFunc("feFuncB",n))}SVGProLevelsFilter.prototype.createFeFunc=function(r,e){var i=createNS(r);return i.setAttribute("type","table"),e.appendChild(i),i},SVGProLevelsFilter.prototype.getTableValue=function(r,e,i,n,s){for(var o=0,a=256,c,u=Math.min(r,e),f=Math.max(r,e),d=Array.call(null,{length:a}),m,_=0,ye=s-n,Se=e-r;o<=256;)c=o/256,c<=u?m=Se<0?s:n:c>=f?m=Se<0?n:s:m=n+ye*Math.pow((c-r)/Se,1/i),d[_]=m,_+=1,o+=256/(a-1);return d.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(r){if(r||this.filterManager._mdf){var e,i=this.filterManager.effectElements;this.feFuncRComposed&&(r||i[3].p._mdf||i[4].p._mdf||i[5].p._mdf||i[6].p._mdf||i[7].p._mdf)&&(e=this.getTableValue(i[3].p.v,i[4].p.v,i[5].p.v,i[6].p.v,i[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(r||i[10].p._mdf||i[11].p._mdf||i[12].p._mdf||i[13].p._mdf||i[14].p._mdf)&&(e=this.getTableValue(i[10].p.v,i[11].p.v,i[12].p.v,i[13].p.v,i[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(r||i[17].p._mdf||i[18].p._mdf||i[19].p._mdf||i[20].p._mdf||i[21].p._mdf)&&(e=this.getTableValue(i[17].p.v,i[18].p.v,i[19].p.v,i[20].p.v,i[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(r||i[24].p._mdf||i[25].p._mdf||i[26].p._mdf||i[27].p._mdf||i[28].p._mdf)&&(e=this.getTableValue(i[24].p.v,i[25].p.v,i[26].p.v,i[27].p.v,i[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(r||i[31].p._mdf||i[32].p._mdf||i[33].p._mdf||i[34].p._mdf||i[35].p._mdf)&&(e=this.getTableValue(i[31].p.v,i[32].p.v,i[33].p.v,i[34].p.v,i[35].p.v),this.feFuncA.setAttribute("tableValues",e))}};function SVGDropShadowEffect(r,e){var i=e.container.globalData.renderConfig.filterSize;r.setAttribute("x",i.x),r.setAttribute("y",i.y),r.setAttribute("width",i.width),r.setAttribute("height",i.height),this.filterManager=e;var n=createNS("feGaussianBlur");n.setAttribute("in","SourceAlpha"),n.setAttribute("result","drop_shadow_1"),n.setAttribute("stdDeviation","0"),this.feGaussianBlur=n,r.appendChild(n);var s=createNS("feOffset");s.setAttribute("dx","25"),s.setAttribute("dy","0"),s.setAttribute("in","drop_shadow_1"),s.setAttribute("result","drop_shadow_2"),this.feOffset=s,r.appendChild(s);var o=createNS("feFlood");o.setAttribute("flood-color","#00ff00"),o.setAttribute("flood-opacity","1"),o.setAttribute("result","drop_shadow_3"),this.feFlood=o,r.appendChild(o);var a=createNS("feComposite");a.setAttribute("in","drop_shadow_3"),a.setAttribute("in2","drop_shadow_2"),a.setAttribute("operator","in"),a.setAttribute("result","drop_shadow_4"),r.appendChild(a);var c=createNS("feMerge");r.appendChild(c);var u;u=createNS("feMergeNode"),c.appendChild(u),u=createNS("feMergeNode"),u.setAttribute("in","SourceGraphic"),this.feMergeNode=u,this.feMerge=c,this.originalNodeAdded=!1,c.appendChild(u)}SVGDropShadowEffect.prototype.renderFrame=function(r){if(r||this.filterManager._mdf){if((r||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),r||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(e[0]*255),Math.round(e[1]*255),Math.round(e[2]*255)))}if((r||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),r||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var i=this.filterManager.effectElements[3].p.v,n=(this.filterManager.effectElements[2].p.v-90)*degToRads,s=i*Math.cos(n),o=i*Math.sin(n);this.feOffset.setAttribute("dx",s),this.feOffset.setAttribute("dy",o)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(r,e,i){this.initialized=!1,this.filterManager=e,this.filterElem=r,this.elem=i,i.matteElement=createNS("g"),i.matteElement.appendChild(i.layerElement),i.matteElement.appendChild(i.transformedElement),i.baseElement=i.matteElement}SVGMatte3Effect.prototype.findSymbol=function(r){for(var e=0,i=_svgMatteSymbols.length;e<i;){if(_svgMatteSymbols[e]===r)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(r,e){var i=r.layerElement.parentNode;if(!!i){for(var n=i.children,s=0,o=n.length;s<o&&n[s]!==r.layerElement;)s+=1;var a;s<=o-2&&(a=n[s+1]);var c=createNS("use");c.setAttribute("href","#"+e),a?i.insertBefore(c,a):i.appendChild(c)}},SVGMatte3Effect.prototype.setElementAsMask=function(r,e){if(!this.findSymbol(e)){var i=createElementID(),n=createNS("mask");n.setAttribute("id",e.layerId),n.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var s=r.globalData.defs;s.appendChild(n);var o=createNS("symbol");o.setAttribute("id",i),this.replaceInParent(e,i),o.appendChild(e.layerElement),s.appendChild(o);var a=createNS("use");a.setAttribute("href","#"+i),n.appendChild(a),e.data.hd=!1,e.show()}r.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var r=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,i=0,n=e.length;i<n;)e[i]&&e[i].data.ind===r&&this.setElementAsMask(this.elem,e[i]),i+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGEffects(r){var e,i=r.data.ef?r.data.ef.length:0,n=createElementID(),s=filtersFactory.createFilter(n,!0),o=0;this.filters=[];var a;for(e=0;e<i;e+=1)a=null,r.data.ef[e].ty===20?(o+=1,a=new SVGTintFilter(s,r.effectsManager.effectElements[e])):r.data.ef[e].ty===21?(o+=1,a=new SVGFillFilter(s,r.effectsManager.effectElements[e])):r.data.ef[e].ty===22?a=new SVGStrokeEffect(r,r.effectsManager.effectElements[e]):r.data.ef[e].ty===23?(o+=1,a=new SVGTritoneFilter(s,r.effectsManager.effectElements[e])):r.data.ef[e].ty===24?(o+=1,a=new SVGProLevelsFilter(s,r.effectsManager.effectElements[e])):r.data.ef[e].ty===25?(o+=1,a=new SVGDropShadowEffect(s,r.effectsManager.effectElements[e])):r.data.ef[e].ty===28?a=new SVGMatte3Effect(s,r.effectsManager.effectElements[e],r):r.data.ef[e].ty===29&&(o+=1,a=new SVGGaussianBlurEffect(s,r.effectsManager.effectElements[e])),a&&this.filters.push(a);o&&(r.globalData.defs.appendChild(s),r.layerElement.setAttribute("filter","url("+locationHref+"#"+n+")")),this.filters.length&&r.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(r){var e,i=this.filters.length;for(e=0;e<i;e+=1)this.filters[e].renderFrame(r)};function CVContextData(){this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1;var r,e=15;for(this.savedOp=createTypedArray("float32",e),r=0;r<e;r+=1)this.saved[r]=createTypedArray("float32",16);this._length=e}CVContextData.prototype.duplicate=function(){var r=this._length*2,e=this.savedOp;this.savedOp=createTypedArray("float32",r),this.savedOp.set(e);var i=0;for(i=this._length;i<r;i+=1)this.saved[i]=createTypedArray("float32",16);this._length=r},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1};function CVBaseElement(){}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects},createContent:function(){},setBlendMode:function(){var r=this.globalData;if(r.blendMode!==this.data.bm){r.blendMode=this.data.bm;var e=getBlendMode(this.data.bm);r.canvasContext.globalCompositeOperation=e}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!(this.hidden||this.data.hd)){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var r=this.data.ty===0;this.globalData.renderer.save(r),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(r),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVImageElement(r,e,i){this.assetData=e.getAssetData(r.refId),this.img=e.imageLoader.getAsset(this.assetData),this.initElement(r,e,i)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var r=createTag("canvas");r.width=this.assetData.w,r.height=this.assetData.h;var e=r.getContext("2d"),i=this.img.width,n=this.img.height,s=i/n,o=this.assetData.w/this.assetData.h,a,c,u=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;s>o&&u==="xMidYMid slice"||s<o&&u!=="xMidYMid slice"?(c=n,a=c*o):(a=i,c=a/o),e.drawImage(this.img,(i-a)/2,(n-c)/2,a,c,0,0,this.assetData.w,this.assetData.h),this.img=r}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVCompElement(r,e,i){this.completeLayers=!1,this.layers=r.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(r,e,i),this.tm=r.tm?PropertyFactory.getProp(this,r.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRenderer,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var r=this.canvasContext;r.beginPath(),r.moveTo(0,0),r.lineTo(this.data.w,0),r.lineTo(this.data.w,this.data.h),r.lineTo(0,this.data.h),r.lineTo(0,0),r.clip();var e,i=this.layers.length;for(e=i-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},CVCompElement.prototype.destroy=function(){var r,e=this.layers.length;for(r=e-1;r>=0;r-=1)this.elements[r]&&this.elements[r].destroy();this.layers=null,this.elements=null};function CVMaskElement(r,e){this.data=r,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var i,n=this.masksProperties.length,s=!1;for(i=0;i<n;i+=1)this.masksProperties[i].mode!=="n"&&(s=!0),this.viewData[i]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[i],3);this.hasMasks=s,s&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(!!this.hasMasks){var r=this.element.finalTransform.mat,e=this.element.canvasContext,i,n=this.masksProperties.length,s,o,a;for(e.beginPath(),i=0;i<n;i+=1)if(this.masksProperties[i].mode!=="n"){this.masksProperties[i].inv&&(e.moveTo(0,0),e.lineTo(this.element.globalData.compSize.w,0),e.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),e.lineTo(0,this.element.globalData.compSize.h),e.lineTo(0,0)),a=this.viewData[i].v,s=r.applyToPointArray(a.v[0][0],a.v[0][1],0),e.moveTo(s[0],s[1]);var c,u=a._length;for(c=1;c<u;c+=1)o=r.applyToTriplePoints(a.o[c-1],a.i[c],a.v[c]),e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);o=r.applyToTriplePoints(a.o[c-1],a.i[0],a.v[0]),e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5])}this.element.globalData.renderer.save(!0),e.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVShapeElement(r,e,i){this.shapes=[],this.shapesData=r.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(r,e,i)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(r,e){var i={data:r,type:r.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:r.hd===!0},n={};if(r.ty==="fl"||r.ty==="st"?(n.c=PropertyFactory.getProp(this,r.c,1,255,this),n.c.k||(i.co="rgb("+bmFloor(n.c.v[0])+","+bmFloor(n.c.v[1])+","+bmFloor(n.c.v[2])+")")):(r.ty==="gf"||r.ty==="gs")&&(n.s=PropertyFactory.getProp(this,r.s,1,null,this),n.e=PropertyFactory.getProp(this,r.e,1,null,this),n.h=PropertyFactory.getProp(this,r.h||{k:0},0,.01,this),n.a=PropertyFactory.getProp(this,r.a||{k:0},0,degToRads,this),n.g=new GradientProperty(this,r.g,this)),n.o=PropertyFactory.getProp(this,r.o,0,.01,this),r.ty==="st"||r.ty==="gs"){if(i.lc=lineCapEnum[r.lc||2],i.lj=lineJoinEnum[r.lj||2],r.lj==1&&(i.ml=r.ml),n.w=PropertyFactory.getProp(this,r.w,0,null,this),n.w.k||(i.wi=n.w.v),r.d){var s=new DashProperty(this,r.d,"canvas",this);n.d=s,n.d.k||(i.da=n.d.dashArray,i.do=n.d.dashoffset[0])}}else i.r=r.r===2?"evenodd":"nonzero";return this.stylesList.push(i),n.style=i,n},CVShapeElement.prototype.createGroupElement=function(){var r={it:[],prevViewData:[]};return r},CVShapeElement.prototype.createTransformElement=function(r){var e={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,r.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,r,this)}};return e},CVShapeElement.prototype.createShapeElement=function(r){var e=new CVShapeData(this,r,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var r,e=this.itemsData.length;for(r=0;r<e;r+=1)this.prevViewData[r]=this.itemsData[r];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,r=0;r<e;r+=1)this.dynamicProperties[r].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(r){var e,i=this.stylesList.length;for(e=0;e<i;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(r)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var r,e=this.stylesList.length;for(r=0;r<e;r+=1)this.stylesList[r].closed||this.stylesList[r].transforms.pop()},CVShapeElement.prototype.closeStyles=function(r){var e,i=r.length;for(e=0;e<i;e+=1)r[e].closed=!0},CVShapeElement.prototype.searchShapes=function(r,e,i,n,s){var o,a=r.length-1,c,u,f=[],d=[],m,_,ye,Se=[].concat(s);for(o=a;o>=0;o-=1){if(m=this.searchProcessedElement(r[o]),m?e[o]=i[m-1]:r[o]._shouldRender=n,r[o].ty==="fl"||r[o].ty==="st"||r[o].ty==="gf"||r[o].ty==="gs")m?e[o].style.closed=!1:e[o]=this.createStyleElement(r[o],Se),f.push(e[o].style);else if(r[o].ty==="gr"){if(!m)e[o]=this.createGroupElement(r[o]);else for(u=e[o].it.length,c=0;c<u;c+=1)e[o].prevViewData[c]=e[o].it[c];this.searchShapes(r[o].it,e[o].it,e[o].prevViewData,n,Se)}else r[o].ty==="tr"?(m||(ye=this.createTransformElement(r[o]),e[o]=ye),Se.push(e[o]),this.addTransformToStyleList(e[o])):r[o].ty==="sh"||r[o].ty==="rc"||r[o].ty==="el"||r[o].ty==="sr"?m||(e[o]=this.createShapeElement(r[o])):r[o].ty==="tm"||r[o].ty==="rd"||r[o].ty==="pb"?(m?(_=e[o],_.closed=!1):(_=ShapeModifiers.getModifier(r[o].ty),_.init(this,r[o]),e[o]=_,this.shapeModifiers.push(_)),d.push(_)):r[o].ty==="rp"&&(m?(_=e[o],_.closed=!0):(_=ShapeModifiers.getModifier(r[o].ty),e[o]=_,_.init(this,r,o,e),this.shapeModifiers.push(_),n=!1),d.push(_));this.addProcessedElement(r[o],o+1)}for(this.removeTransformFromStyleList(),this.closeStyles(f),a=d.length,o=0;o<a;o+=1)d[o].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(r,e){(r._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=r.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var r,e=this.stylesList.length,i,n,s,o,a,c,u=this.globalData.renderer,f=this.globalData.canvasContext,d,m;for(r=0;r<e;r+=1)if(m=this.stylesList[r],d=m.type,!((d==="st"||d==="gs")&&m.wi===0||!m.data._shouldRender||m.coOp===0||this.globalData.currentGlobalAlpha===0)){for(u.save(),a=m.elements,d==="st"||d==="gs"?(f.strokeStyle=d==="st"?m.co:m.grd,f.lineWidth=m.wi,f.lineCap=m.lc,f.lineJoin=m.lj,f.miterLimit=m.ml||0):f.fillStyle=d==="fl"?m.co:m.grd,u.ctxOpacity(m.coOp),d!=="st"&&d!=="gs"&&f.beginPath(),u.ctxTransform(m.preTransforms.finalTransform.props),n=a.length,i=0;i<n;i+=1){for((d==="st"||d==="gs")&&(f.beginPath(),m.da&&(f.setLineDash(m.da),f.lineDashOffset=m.do)),c=a[i].trNodes,o=c.length,s=0;s<o;s+=1)c[s].t==="m"?f.moveTo(c[s].p[0],c[s].p[1]):c[s].t==="c"?f.bezierCurveTo(c[s].pts[0],c[s].pts[1],c[s].pts[2],c[s].pts[3],c[s].pts[4],c[s].pts[5]):f.closePath();(d==="st"||d==="gs")&&(f.stroke(),m.da&&f.setLineDash(this.dashResetter))}d!=="st"&&d!=="gs"&&f.fill(m.r),u.restore()}},CVShapeElement.prototype.renderShape=function(r,e,i,n){var s,o=e.length-1,a;for(a=r,s=o;s>=0;s-=1)e[s].ty==="tr"?(a=i[s].transform,this.renderShapeTransform(r,a)):e[s].ty==="sh"||e[s].ty==="el"||e[s].ty==="rc"||e[s].ty==="sr"?this.renderPath(e[s],i[s]):e[s].ty==="fl"?this.renderFill(e[s],i[s],a):e[s].ty==="st"?this.renderStroke(e[s],i[s],a):e[s].ty==="gf"||e[s].ty==="gs"?this.renderGradientFill(e[s],i[s],a):e[s].ty==="gr"?this.renderShape(a,e[s].it,i[s].it):e[s].ty;n&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(r,e){if(this._isFirstFrame||e._mdf||r.transforms._mdf){var i=r.trNodes,n=e.paths,s,o,a,c=n._length;i.length=0;var u=r.transforms.finalTransform;for(a=0;a<c;a+=1){var f=n.shapes[a];if(f&&f.v){for(o=f._length,s=1;s<o;s+=1)s===1&&i.push({t:"m",p:u.applyToPointArray(f.v[0][0],f.v[0][1],0)}),i.push({t:"c",pts:u.applyToTriplePoints(f.o[s-1],f.i[s],f.v[s])});o===1&&i.push({t:"m",p:u.applyToPointArray(f.v[0][0],f.v[0][1],0)}),f.c&&o&&(i.push({t:"c",pts:u.applyToTriplePoints(f.o[s-1],f.i[0],f.v[0])}),i.push({t:"z"}))}}r.trNodes=i}},CVShapeElement.prototype.renderPath=function(r,e){if(r.hd!==!0&&r._shouldRender){var i,n=e.styledShapes.length;for(i=0;i<n;i+=1)this.renderStyledShape(e.styledShapes[i],e.sh)}},CVShapeElement.prototype.renderFill=function(r,e,i){var n=e.style;(e.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||i._opMdf||this._isFirstFrame)&&(n.coOp=e.o.v*i.opacity)},CVShapeElement.prototype.renderGradientFill=function(r,e,i){var n=e.style,s;if(!n.grd||e.g._mdf||e.s._mdf||e.e._mdf||r.t!==1&&(e.h._mdf||e.a._mdf)){var o=this.globalData.canvasContext,a=e.s.v,c=e.e.v;if(r.t===1)s=o.createLinearGradient(a[0],a[1],c[0],c[1]);else{var u=Math.sqrt(Math.pow(a[0]-c[0],2)+Math.pow(a[1]-c[1],2)),f=Math.atan2(c[1]-a[1],c[0]-a[0]),d=e.h.v;d>=1?d=.99:d<=-1&&(d=-.99);var m=u*d,_=Math.cos(f+e.a.v)*m+a[0],ye=Math.sin(f+e.a.v)*m+a[1];s=o.createRadialGradient(_,ye,0,a[0],a[1],u)}var Se,Ce=r.g.p,Le=e.g.c,he=1;for(Se=0;Se<Ce;Se+=1)e.g._hasOpacity&&e.g._collapsable&&(he=e.g.o[Se*2+1]),s.addColorStop(Le[Se*4]/100,"rgba("+Le[Se*4+1]+","+Le[Se*4+2]+","+Le[Se*4+3]+","+he+")");n.grd=s}n.coOp=e.o.v*i.opacity},CVShapeElement.prototype.renderStroke=function(r,e,i){var n=e.style,s=e.d;s&&(s._mdf||this._isFirstFrame)&&(n.da=s.dashArray,n.do=s.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||i._opMdf||this._isFirstFrame)&&(n.coOp=e.o.v*i.opacity),(e.w._mdf||this._isFirstFrame)&&(n.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVSolidElement(r,e,i){this.initElement(r,e,i)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var r=this.canvasContext;r.fillStyle=this.data.sc,r.fillRect(0,0,this.data.sw,this.data.sh)};function CVTextElement(r,e,i){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(r,e,i)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r.l?r.l.length:0);var e=!1;r.fc?(e=!0,this.values.fill=this.buildColor(r.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var i=!1;r.sc&&(i=!0,this.values.stroke=this.buildColor(r.sc),this.values.sWidth=r.sw);var n=this.globalData.fontManager.getFontByName(r.f),s,o,a=r.l,c=this.mHelper;this.stroke=i,this.values.fValue=r.finalSize+"px "+this.globalData.fontManager.getFontByName(r.f).fFamily,o=r.finalText.length;var u,f,d,m,_,ye,Se,Ce,Le,he,g=this.data.singleShape,b=r.tr*.001*r.finalSize,ve=0,Pe=0,Be=!0,Ve=0;for(s=0;s<o;s+=1){for(u=this.globalData.fontManager.getCharData(r.finalText[s],n.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily),f=u&&u.data||{},c.reset(),g&&a[s].n&&(ve=-b,Pe+=r.yOffset,Pe+=Be?1:0,Be=!1),_=f.shapes?f.shapes[0].it:[],Se=_.length,c.scale(r.finalSize/100,r.finalSize/100),g&&this.applyTextPropertiesToMatrix(r,c,a[s].line,ve,Pe),Le=createSizedArray(Se),ye=0;ye<Se;ye+=1){for(m=_[ye].ks.k.i.length,Ce=_[ye].ks.k,he=[],d=1;d<m;d+=1)d===1&&he.push(c.applyToX(Ce.v[0][0],Ce.v[0][1],0),c.applyToY(Ce.v[0][0],Ce.v[0][1],0)),he.push(c.applyToX(Ce.o[d-1][0],Ce.o[d-1][1],0),c.applyToY(Ce.o[d-1][0],Ce.o[d-1][1],0),c.applyToX(Ce.i[d][0],Ce.i[d][1],0),c.applyToY(Ce.i[d][0],Ce.i[d][1],0),c.applyToX(Ce.v[d][0],Ce.v[d][1],0),c.applyToY(Ce.v[d][0],Ce.v[d][1],0));he.push(c.applyToX(Ce.o[d-1][0],Ce.o[d-1][1],0),c.applyToY(Ce.o[d-1][0],Ce.o[d-1][1],0),c.applyToX(Ce.i[0][0],Ce.i[0][1],0),c.applyToY(Ce.i[0][0],Ce.i[0][1],0),c.applyToX(Ce.v[0][0],Ce.v[0][1],0),c.applyToY(Ce.v[0][0],Ce.v[0][1],0)),Le[ye]=he}g&&(ve+=a[s].l,ve+=b),this.textSpans[Ve]?this.textSpans[Ve].elem=Le:this.textSpans[Ve]={elem:Le},Ve+=1}},CVTextElement.prototype.renderInnerContent=function(){var r=this.canvasContext;r.font=this.values.fValue,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var e,i,n,s,o,a,c=this.textAnimator.renderedLetters,u=this.textProperty.currentData.l;i=u.length;var f,d=null,m=null,_=null,ye,Se;for(e=0;e<i;e+=1)if(!u[e].n){if(f=c[e],f&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(f.p),this.globalData.renderer.ctxOpacity(f.o)),this.fill){for(f&&f.fc?d!==f.fc&&(d=f.fc,r.fillStyle=f.fc):d!==this.values.fill&&(d=this.values.fill,r.fillStyle=this.values.fill),ye=this.textSpans[e].elem,s=ye.length,this.globalData.canvasContext.beginPath(),n=0;n<s;n+=1)for(Se=ye[n],a=Se.length,this.globalData.canvasContext.moveTo(Se[0],Se[1]),o=2;o<a;o+=6)this.globalData.canvasContext.bezierCurveTo(Se[o],Se[o+1],Se[o+2],Se[o+3],Se[o+4],Se[o+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(f&&f.sw?_!==f.sw&&(_=f.sw,r.lineWidth=f.sw):_!==this.values.sWidth&&(_=this.values.sWidth,r.lineWidth=this.values.sWidth),f&&f.sc?m!==f.sc&&(m=f.sc,r.strokeStyle=f.sc):m!==this.values.stroke&&(m=this.values.stroke,r.strokeStyle=this.values.stroke),ye=this.textSpans[e].elem,s=ye.length,this.globalData.canvasContext.beginPath(),n=0;n<s;n+=1)for(Se=ye[n],a=Se.length,this.globalData.canvasContext.moveTo(Se[0],Se[1]),o=2;o<a;o+=6)this.globalData.canvasContext.bezierCurveTo(Se[o],Se[o+1],Se[o+2],Se[o+3],Se[o+4],Se[o+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}f&&this.globalData.renderer.restore()}};function CVEffects(){}CVEffects.prototype.renderFrame=function(){};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects,this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var r=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var e=this.finalTransform.mat.toCSS();r.transform=e,r.webkitTransform=e}this.finalTransform._opMdf&&(r.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting;function HSolidElement(r,e,i){this.initElement(r,e,i)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var r;this.data.hasMask?(r=createNS("rect"),r.setAttribute("width",this.data.sw),r.setAttribute("height",this.data.sh),r.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(r=createTag("div"),r.style.width=this.data.sw+"px",r.style.height=this.data.sh+"px",r.style.backgroundColor=this.data.sc),this.layerElement.appendChild(r)};function HCompElement(r,e,i){this.layers=r.layers,this.supports3d=!r.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(r,e,i),this.tm=r.tm?PropertyFactory.getProp(this,r.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRenderer,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(r,e){for(var i=0,n;i<e;)this.elements[i]&&this.elements[i].getBaseElement&&(n=this.elements[i].getBaseElement()),i+=1;n?this.layerElement.insertBefore(r,n):this.layerElement.appendChild(r)};function HShapeElement(r,e,i){this.shapes=[],this.shapesData=r.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(r,e,i),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var r;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),r=this.svgElement;else{r=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;r.setAttribute("width",e.w),r.setAttribute("height",e.h),r.appendChild(this.shapesContainer),this.layerElement.appendChild(r)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=r},HShapeElement.prototype.getTransformedPoint=function(r,e){var i,n=r.length;for(i=0;i<n;i+=1)e=r[i].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(r,e){var i=r.sh.v,n=r.transformers,s,o=i._length,a,c,u,f;if(!(o<=1)){for(s=0;s<o-1;s+=1)a=this.getTransformedPoint(n,i.v[s]),c=this.getTransformedPoint(n,i.o[s]),u=this.getTransformedPoint(n,i.i[s+1]),f=this.getTransformedPoint(n,i.v[s+1]),this.checkBounds(a,c,u,f,e);i.c&&(a=this.getTransformedPoint(n,i.v[s]),c=this.getTransformedPoint(n,i.o[s]),u=this.getTransformedPoint(n,i.i[0]),f=this.getTransformedPoint(n,i.v[0]),this.checkBounds(a,c,u,f,e))}},HShapeElement.prototype.checkBounds=function(r,e,i,n,s){this.getBoundsOfCurve(r,e,i,n);var o=this.shapeBoundingBox;s.x=bmMin(o.left,s.x),s.xMax=bmMax(o.right,s.xMax),s.y=bmMin(o.top,s.y),s.yMax=bmMax(o.bottom,s.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(r,e,i,n){for(var s=[[r[0],n[0]],[r[1],n[1]]],o,a,c,u,f,d,m,_=0;_<2;++_)a=6*r[_]-12*e[_]+6*i[_],o=-3*r[_]+9*e[_]-9*i[_]+3*n[_],c=3*e[_]-3*r[_],a|=0,o|=0,c|=0,o===0&&a===0||(o===0?(u=-c/a,u>0&&u<1&&s[_].push(this.calculateF(u,r,e,i,n,_))):(f=a*a-4*c*o,f>=0&&(d=(-a+bmSqrt(f))/(2*o),d>0&&d<1&&s[_].push(this.calculateF(d,r,e,i,n,_)),m=(-a-bmSqrt(f))/(2*o),m>0&&m<1&&s[_].push(this.calculateF(m,r,e,i,n,_)))));this.shapeBoundingBox.left=bmMin.apply(null,s[0]),this.shapeBoundingBox.top=bmMin.apply(null,s[1]),this.shapeBoundingBox.right=bmMax.apply(null,s[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,s[1])},HShapeElement.prototype.calculateF=function(r,e,i,n,s,o){return bmPow(1-r,3)*e[o]+3*bmPow(1-r,2)*r*i[o]+3*(1-r)*bmPow(r,2)*n[o]+bmPow(r,3)*s[o]},HShapeElement.prototype.calculateBoundingBox=function(r,e){var i,n=r.length;for(i=0;i<n;i+=1)r[i]&&r[i].sh?this.calculateShapeBoundingBox(r[i],e):r[i]&&r[i].it&&this.calculateBoundingBox(r[i].it,e)},HShapeElement.prototype.currentBoxContains=function(r){return this.currentBBox.x<=r.x&&this.currentBBox.y<=r.y&&this.currentBBox.width+this.currentBBox.x>=r.x+r.width&&this.currentBBox.height+this.currentBBox.y>=r.y+r.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var r=this.tempBoundingBox,e=999999;if(r.x=e,r.xMax=-e,r.y=e,r.yMax=-e,this.calculateBoundingBox(this.itemsData,r),r.width=r.xMax<r.x?0:r.xMax-r.x,r.height=r.yMax<r.y?0:r.yMax-r.y,this.currentBoxContains(r))return;var i=!1;if(this.currentBBox.w!==r.width&&(this.currentBBox.w=r.width,this.shapeCont.setAttribute("width",r.width),i=!0),this.currentBBox.h!==r.height&&(this.currentBBox.h=r.height,this.shapeCont.setAttribute("height",r.height),i=!0),i||this.currentBBox.x!==r.x||this.currentBBox.y!==r.y){this.currentBBox.w=r.width,this.currentBBox.h=r.height,this.currentBBox.x=r.x,this.currentBBox.y=r.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var n=this.shapeCont.style,s="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";n.transform=s,n.webkitTransform=s}}};function HTextElement(r,e,i){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(r,e,i)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var r=createNS("g");this.maskedElement.appendChild(r),this.innerElem=r}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r.l?r.l.length:0);var e=this.innerElem.style,i=r.fc?this.buildColor(r.fc):"rgba(0,0,0,0)";e.fill=i,e.color=i,r.sc&&(e.stroke=this.buildColor(r.sc),e.strokeWidth=r.sw+"px");var n=this.globalData.fontManager.getFontByName(r.f);if(!this.globalData.fontManager.chars)if(e.fontSize=r.finalSize+"px",e.lineHeight=r.finalSize+"px",n.fClass)this.innerElem.className=n.fClass;else{e.fontFamily=n.fFamily;var s=r.fWeight,o=r.fStyle;e.fontStyle=o,e.fontWeight=s}var a,c,u=r.l;c=u.length;var f,d,m,_=this.mHelper,ye,Se="",Ce=0;for(a=0;a<c;a+=1){if(this.globalData.fontManager.chars?(this.textPaths[Ce]?f=this.textPaths[Ce]:(f=createNS("path"),f.setAttribute("stroke-linecap",lineCapEnum[1]),f.setAttribute("stroke-linejoin",lineJoinEnum[2]),f.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[Ce]?(d=this.textSpans[Ce],m=d.children[0]):(d=createTag("div"),d.style.lineHeight=0,m=createNS("svg"),m.appendChild(f),styleDiv(d)))):this.isMasked?f=this.textPaths[Ce]?this.textPaths[Ce]:createNS("text"):this.textSpans[Ce]?(d=this.textSpans[Ce],f=this.textPaths[Ce]):(d=createTag("span"),styleDiv(d),f=createTag("span"),styleDiv(f),d.appendChild(f)),this.globalData.fontManager.chars){var Le=this.globalData.fontManager.getCharData(r.finalText[a],n.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily),he;if(Le?he=Le.data:he=null,_.reset(),he&&he.shapes&&(ye=he.shapes[0].it,_.scale(r.finalSize/100,r.finalSize/100),Se=this.createPathShape(_,ye),f.setAttribute("d",Se)),this.isMasked)this.innerElem.appendChild(f);else{if(this.innerElem.appendChild(d),he&&he.shapes){document.body.appendChild(m);var g=m.getBBox();m.setAttribute("width",g.width+2),m.setAttribute("height",g.height+2),m.setAttribute("viewBox",g.x-1+" "+(g.y-1)+" "+(g.width+2)+" "+(g.height+2));var b=m.style,ve="translate("+(g.x-1)+"px,"+(g.y-1)+"px)";b.transform=ve,b.webkitTransform=ve,u[a].yOffset=g.y-1}else m.setAttribute("width",1),m.setAttribute("height",1);d.appendChild(m)}}else if(f.textContent=u[a].val,f.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(f);else{this.innerElem.appendChild(d);var Pe=f.style,Be="translate3d(0,"+-r.finalSize/1.2+"px,0)";Pe.transform=Be,Pe.webkitTransform=Be}this.isMasked?this.textSpans[Ce]=f:this.textSpans[Ce]=d,this.textSpans[Ce].style.display="block",this.textPaths[Ce]=f,Ce+=1}for(;Ce<this.textSpans.length;)this.textSpans[Ce].style.display="none",Ce+=1},HTextElement.prototype.renderInnerContent=function(){var r;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),r=this.svgElement.style;var e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";r.transform=e,r.webkitTransform=e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var i,n,s=0,o=this.textAnimator.renderedLetters,a=this.textProperty.currentData.l;n=a.length;var c,u,f;for(i=0;i<n;i+=1)a[i].n?s+=1:(u=this.textSpans[i],f=this.textPaths[i],c=o[s],s+=1,c._mdf.m&&(this.isMasked?u.setAttribute("transform",c.m):(u.style.webkitTransform=c.m,u.style.transform=c.m)),u.style.opacity=c.o,c.sw&&c._mdf.sw&&f.setAttribute("stroke-width",c.sw),c.sc&&c._mdf.sc&&f.setAttribute("stroke",c.sc),c.fc&&c._mdf.fc&&(f.setAttribute("fill",c.fc),f.style.color=c.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var d=this.innerElem.getBBox();this.currentBBox.w!==d.width&&(this.currentBBox.w=d.width,this.svgElement.setAttribute("width",d.width)),this.currentBBox.h!==d.height&&(this.currentBBox.h=d.height,this.svgElement.setAttribute("height",d.height));var m=1;if(this.currentBBox.w!==d.width+m*2||this.currentBBox.h!==d.height+m*2||this.currentBBox.x!==d.x-m||this.currentBBox.y!==d.y-m){this.currentBBox.w=d.width+m*2,this.currentBBox.h=d.height+m*2,this.currentBBox.x=d.x-m,this.currentBBox.y=d.y-m,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),r=this.svgElement.style;var _="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";r.transform=_,r.webkitTransform=_}}}};function HImageElement(r,e,i){this.assetData=e.getAssetData(r.refId),this.initElement(r,e,i)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var r=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",r),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.crossOrigin="anonymous",e.src=r,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HCameraElement(r,e,i){this.initFrame(),this.initBaseData(r,e,i),this.initHierarchy();var n=PropertyFactory.getProp;if(this.pe=n(this,r.pe,0,0,this),r.ks.p.s?(this.px=n(this,r.ks.p.x,1,0,this),this.py=n(this,r.ks.p.y,1,0,this),this.pz=n(this,r.ks.p.z,1,0,this)):this.p=n(this,r.ks.p,1,0,this),r.ks.a&&(this.a=n(this,r.ks.a,1,0,this)),r.ks.or.k.length&&r.ks.or.k[0].to){var s,o=r.ks.or.k.length;for(s=0;s<o;s+=1)r.ks.or.k[s].to=null,r.ks.or.k[s].ti=null}this.or=n(this,r.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=n(this,r.ks.rx,0,degToRads,this),this.ry=n(this,r.ks.ry,0,degToRads,this),this.rz=n(this,r.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var r,e=this.comp.threeDElements.length,i,n,s;for(r=0;r<e;r+=1)if(i=this.comp.threeDElements[r],i.type==="3d"){n=i.perspectiveElem.style,s=i.container.style;var o=this.pe.v+"px",a="0px 0px 0px",c="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";n.perspective=o,n.webkitPerspective=o,s.transformOrigin=a,s.mozTransformOrigin=a,s.webkitTransformOrigin=a,n.transform=c,n.webkitTransform=c}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var r=this._isFirstFrame,e,i;if(this.hierarchy)for(i=this.hierarchy.length,e=0;e<i;e+=1)r=this.hierarchy[e].finalTransform.mProp._mdf||r;if(r||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(i=this.hierarchy.length-1,e=i;e>=0;e-=1){var n=this.hierarchy[e].finalTransform.mProp;this.mat.translate(-n.p.v[0],-n.p.v[1],n.p.v[2]),this.mat.rotateX(-n.or.v[0]).rotateY(-n.or.v[1]).rotateZ(n.or.v[2]),this.mat.rotateX(-n.rx.v).rotateY(-n.ry.v).rotateZ(n.rz.v),this.mat.scale(1/n.s.v[0],1/n.s.v[1],1/n.s.v[2]),this.mat.translate(n.a.v[0],n.a.v[1],n.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var s;this.p?s=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:s=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var o=Math.sqrt(Math.pow(s[0],2)+Math.pow(s[1],2)+Math.pow(s[2],2)),a=[s[0]/o,s[1]/o,s[2]/o],c=Math.sqrt(a[2]*a[2]+a[0]*a[0]),u=Math.atan2(a[1],c),f=Math.atan2(a[0],-a[2]);this.mat.rotateY(f).rotateX(-u)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var d=!this._prevMat.equals(this.mat);if((d||this.pe._mdf)&&this.comp.threeDElements){i=this.comp.threeDElements.length;var m,_,ye;for(e=0;e<i;e+=1)if(m=this.comp.threeDElements[e],m.type==="3d"){if(d){var Se=this.mat.toCSS();ye=m.container.style,ye.transform=Se,ye.webkitTransform=Se}this.pe._mdf&&(_=m.perspectiveElem.style,_.perspective=this.pe.v+"px",_.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(r){this.prepareProperties(r,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};var animationManager=function(){var r={},e=[],i=0,n=0,s=0,o=!0,a=!1;function c(gt){for(var Ue=0,mt=gt.target;Ue<n;)e[Ue].animation===mt&&(e.splice(Ue,1),Ue-=1,n-=1,mt.isPaused||m()),Ue+=1}function u(gt,Ue){if(!gt)return null;for(var mt=0;mt<n;){if(e[mt].elem===gt&&e[mt].elem!==null)return e[mt].animation;mt+=1}var _t=new AnimationItem;return _(_t,gt),_t.setData(gt,Ue),_t}function f(){var gt,Ue=e.length,mt=[];for(gt=0;gt<Ue;gt+=1)mt.push(e[gt].animation);return mt}function d(){s+=1,kt()}function m(){s-=1}function _(gt,Ue){gt.addEventListener("destroy",c),gt.addEventListener("_active",d),gt.addEventListener("_idle",m),e.push({elem:Ue,animation:gt}),n+=1}function ye(gt){var Ue=new AnimationItem;return _(Ue,null),Ue.setParams(gt),Ue}function Se(gt,Ue){var mt;for(mt=0;mt<n;mt+=1)e[mt].animation.setSpeed(gt,Ue)}function Ce(gt,Ue){var mt;for(mt=0;mt<n;mt+=1)e[mt].animation.setDirection(gt,Ue)}function Le(gt){var Ue;for(Ue=0;Ue<n;Ue+=1)e[Ue].animation.play(gt)}function he(gt){var Ue=gt-i,mt;for(mt=0;mt<n;mt+=1)e[mt].animation.advanceTime(Ue);i=gt,s&&!a?window.requestAnimationFrame(he):o=!0}function g(gt){i=gt,window.requestAnimationFrame(he)}function b(gt){var Ue;for(Ue=0;Ue<n;Ue+=1)e[Ue].animation.pause(gt)}function ve(gt,Ue,mt){var _t;for(_t=0;_t<n;_t+=1)e[_t].animation.goToAndStop(gt,Ue,mt)}function Pe(gt){var Ue;for(Ue=0;Ue<n;Ue+=1)e[Ue].animation.stop(gt)}function Be(gt){var Ue;for(Ue=0;Ue<n;Ue+=1)e[Ue].animation.togglePause(gt)}function Ve(gt){var Ue;for(Ue=n-1;Ue>=0;Ue-=1)e[Ue].animation.destroy(gt)}function et(gt,Ue,mt){var _t=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Vt,xt=_t.length;for(Vt=0;Vt<xt;Vt+=1)mt&&_t[Vt].setAttribute("data-bm-type",mt),u(_t[Vt],gt);if(Ue&&xt===0){mt||(mt="svg");var cr=document.getElementsByTagName("body")[0];cr.innerText="";var yr=createTag("div");yr.style.width="100%",yr.style.height="100%",yr.setAttribute("data-bm-type",mt),cr.appendChild(yr),u(yr,gt)}}function yt(){var gt;for(gt=0;gt<n;gt+=1)e[gt].animation.resize()}function kt(){!a&&s&&o&&(window.requestAnimationFrame(g),o=!1)}function Ot(){a=!0}function Ft(){a=!1,kt()}function wt(gt,Ue){var mt;for(mt=0;mt<n;mt+=1)e[mt].animation.setVolume(gt,Ue)}function Dt(gt){var Ue;for(Ue=0;Ue<n;Ue+=1)e[Ue].animation.mute(gt)}function Mt(gt){var Ue;for(Ue=0;Ue<n;Ue+=1)e[Ue].animation.unmute(gt)}return r.registerAnimation=u,r.loadAnimation=ye,r.setSpeed=Se,r.setDirection=Ce,r.play=Le,r.pause=b,r.stop=Pe,r.togglePause=Be,r.searchAnimations=et,r.resize=yt,r.goToAndStop=ve,r.destroy=Ve,r.freeze=Ot,r.unfreeze=Ft,r.setVolume=wt,r.mute=Dt,r.unmute=Mt,r.getRegisteredAnimations=f,r}(),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=subframeEnabled,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(r){(r.wrapper||r.container)&&(this.wrapper=r.wrapper||r.container);var e="svg";switch(r.animType?e=r.animType:r.renderer&&(e=r.renderer),e){case"canvas":this.renderer=new CanvasRenderer(this,r.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,r.rendererSettings);break;default:this.renderer=new HybridRenderer(this,r.rendererSettings);break}this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,r.loop===""||r.loop===null||r.loop===void 0||r.loop===!0?this.loop=!0:r.loop===!1?this.loop=!1:this.loop=parseInt(r.loop,10),this.autoplay="autoplay"in r?r.autoplay:!0,this.name=r.name?r.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(r,"autoloadSegments")?r.autoloadSegments:!0,this.assetsPath=r.assetsPath,this.initialSegment=r.initialSegment,r.audioFactory&&this.audioController.setAudioFactory(r.audioFactory),r.animationData?this.setupAnimation(r.animationData):r.path&&(r.path.lastIndexOf("\\")!==-1?this.path=r.path.substr(0,r.path.lastIndexOf("\\")+1):this.path=r.path.substr(0,r.path.lastIndexOf("/")+1),this.fileName=r.path.substr(r.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(r.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(r){dataManager.completeAnimation(r,this.configAnimation)},AnimationItem.prototype.setData=function(r,e){e&&typeof e!="object"&&(e=JSON.parse(e));var i={wrapper:r,animationData:e},n=r.attributes;i.path=n.getNamedItem("data-animation-path")?n.getNamedItem("data-animation-path").value:n.getNamedItem("data-bm-path")?n.getNamedItem("data-bm-path").value:n.getNamedItem("bm-path")?n.getNamedItem("bm-path").value:"",i.animType=n.getNamedItem("data-anim-type")?n.getNamedItem("data-anim-type").value:n.getNamedItem("data-bm-type")?n.getNamedItem("data-bm-type").value:n.getNamedItem("bm-type")?n.getNamedItem("bm-type").value:n.getNamedItem("data-bm-renderer")?n.getNamedItem("data-bm-renderer").value:n.getNamedItem("bm-renderer")?n.getNamedItem("bm-renderer").value:"canvas";var s=n.getNamedItem("data-anim-loop")?n.getNamedItem("data-anim-loop").value:n.getNamedItem("data-bm-loop")?n.getNamedItem("data-bm-loop").value:n.getNamedItem("bm-loop")?n.getNamedItem("bm-loop").value:"";s==="false"?i.loop=!1:s==="true"?i.loop=!0:s!==""&&(i.loop=parseInt(s,10));var o=n.getNamedItem("data-anim-autoplay")?n.getNamedItem("data-anim-autoplay").value:n.getNamedItem("data-bm-autoplay")?n.getNamedItem("data-bm-autoplay").value:n.getNamedItem("bm-autoplay")?n.getNamedItem("bm-autoplay").value:!0;i.autoplay=o!=="false",i.name=n.getNamedItem("data-name")?n.getNamedItem("data-name").value:n.getNamedItem("data-bm-name")?n.getNamedItem("data-bm-name").value:n.getNamedItem("bm-name")?n.getNamedItem("bm-name").value:"";var a=n.getNamedItem("data-anim-prerender")?n.getNamedItem("data-anim-prerender").value:n.getNamedItem("data-bm-prerender")?n.getNamedItem("data-bm-prerender").value:n.getNamedItem("bm-prerender")?n.getNamedItem("bm-prerender").value:"";a==="false"&&(i.prerender=!1),this.setParams(i)},AnimationItem.prototype.includeLayers=function(r){r.op>this.animationData.op&&(this.animationData.op=r.op,this.totalFrames=Math.floor(r.op-this.animationData.ip));var e=this.animationData.layers,i,n=e.length,s=r.layers,o,a=s.length;for(o=0;o<a;o+=1)for(i=0;i<n;){if(e[i].id===s[o].id){e[i]=s[o];break}i+=1}if((r.chars||r.fonts)&&(this.renderer.globalData.fontManager.addChars(r.chars),this.renderer.globalData.fontManager.addFonts(r.fonts,this.renderer.globalData.defs)),r.assets)for(n=r.assets.length,i=0;i<n;i+=1)this.animationData.assets.push(r.assets[i]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(r){this.animationData=r,expressionsPlugin&&expressionsPlugin.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var r=this.animationData.segments;if(!r||r.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var e=r.shift();this.timeCompleted=e.time*this.frameRate;var i=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(i,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){var r=this.animationData.segments;r||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(r){if(!!this.renderer)try{this.animationData=r,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(r),r.assets||(r.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(r.assets),this.markers=markerParser(r.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){!this.renderer||(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()&&(this.isLoaded=!0,expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(r){this.isSubframeEnabled=!!r},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(r){this.triggerRenderFrameError(r)}},AnimationItem.prototype.play=function(r){r&&this.name!==r||this.isPaused===!0&&(this.isPaused=!1,this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(r){r&&this.name!==r||this.isPaused===!1&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(r){r&&this.name!==r||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(r){r&&this.name!==r||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(r){for(var e,i=0;i<this.markers.length;i+=1)if(e=this.markers[i],e.payload&&e.payload.name===r)return e;return null},AnimationItem.prototype.goToAndStop=function(r,e,i){if(!(i&&this.name!==i)){var n=Number(r);if(isNaN(n)){var s=this.getMarkerData(r);s&&this.goToAndStop(s.time,!0)}else e?this.setCurrentRawFrameValue(r):this.setCurrentRawFrameValue(r*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(r,e,i){if(!(i&&this.name!==i)){var n=Number(r);if(isNaN(n)){var s=this.getMarkerData(r);s&&(s.duration?this.playSegments([s.time,s.time+s.duration],!0):this.goToAndStop(s.time,!0))}else this.goToAndStop(n,e,i);this.play()}},AnimationItem.prototype.advanceTime=function(r){if(!(this.isPaused===!0||this.isLoaded===!1)){var e=this.currentRawFrame+r*this.frameModifier,i=!1;e>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(i=!0,e=this.totalFrames-1):e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):e<0?this.checkSegments(e%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(i=!0,e=0)):this.setCurrentRawFrameValue(e),i&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(r,e){this.playCount=0,r[1]<r[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=r[0]-r[1],this.timeCompleted=this.totalFrames,this.firstFrame=r[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):r[1]>r[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=r[1]-r[0],this.timeCompleted=this.totalFrames,this.firstFrame=r[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(r,e){var i=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<r?i=r:this.currentRawFrame+this.firstFrame>e&&(i=e-r)),this.firstFrame=r,this.totalFrames=e-r,this.timeCompleted=this.totalFrames,i!==-1&&this.goToAndStop(i,!0)},AnimationItem.prototype.playSegments=function(r,e){if(e&&(this.segments.length=0),typeof r[0]=="object"){var i,n=r.length;for(i=0;i<n;i+=1)this.segments.push(r[i])}else this.segments.push(r);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(r){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),r&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(r){return this.segments.length?(this.adjustSegment(this.segments.shift(),r),!0):!1},AnimationItem.prototype.destroy=function(r){r&&this.name!==r||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(r){this.currentRawFrame=r,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(r){this.playSpeed=r,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(r){this.playDirection=r<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(r,e){e&&this.name!==e||this.audioController.setVolume(r)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(r){r&&this.name!==r||this.audioController.mute()},AnimationItem.prototype.unmute=function(r){r&&this.name!==r||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(r){var e="";if(r.e)e=r.p;else if(this.assetsPath){var i=r.p;i.indexOf("images/")!==-1&&(i=i.split("/")[1]),e=this.assetsPath+i}else e=this.path,e+=r.u?r.u:"",e+=r.p;return e},AnimationItem.prototype.getAssetData=function(r){for(var e=0,i=this.assets.length;e<i;){if(r===this.assets[e].id)return this.assets[e];e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(r){return r?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.trigger=function(r){if(this._cbs&&this._cbs[r])switch(r){case"enterFrame":case"drawnFrame":this.triggerEvent(r,new BMEnterFrameEvent(r,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(r,new BMCompleteLoopEvent(r,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(r,new BMCompleteEvent(r,this.frameMult));break;case"segmentStart":this.triggerEvent(r,new BMSegmentStartEvent(r,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(r,new BMDestroyEvent(r,this));break;default:this.triggerEvent(r)}r==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(r,this.currentFrame,this.totalFrames,this.frameMult)),r==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(r,this.loop,this.playCount,this.frameMult)),r==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(r,this.frameMult)),r==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(r,this.firstFrame,this.totalFrames)),r==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(r,this))},AnimationItem.prototype.triggerRenderFrameError=function(r){var e=new BMRenderFrameErrorEvent(r,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(r){var e=new BMConfigErrorEvent(r,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var Expressions=function(){var r={};r.initExpressions=e;function e(i){var n=0,s=[];function o(){n+=1}function a(){n-=1,n===0&&u()}function c(f){s.indexOf(f)===-1&&s.push(f)}function u(){var f,d=s.length;for(f=0;f<d;f+=1)s[f].release();s.length=0}i.renderer.compInterface=CompExpressionInterface(i.renderer),i.renderer.globalData.projectInterface.registerComposition(i.renderer),i.renderer.globalData.pushExpression=o,i.renderer.globalData.popExpression=a,i.renderer.globalData.registerExpressionProperty=c}return r}();expressionsPlugin=Expressions;var ExpressionManager=function(){var ob={},Math=BMMath;BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0,elem.data.ip/elem.comp.globalData.frameRate,elem.data.op/elem.comp.globalData.frameRate,elem.data.sw&&elem.data.sw,elem.data.sh&&elem.data.sh,elem.data.nm;var thisLayer,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0];property.kf&&data.k.length,!this.data||this.data.hd,function r(e,i){var n,s,o=this.pv.length?this.pv.length:1,a=createTypedArray("float32",o);e=5;var c=Math.floor(time*e);for(n=0,s=0;n<c;){for(s=0;s<o;s+=1)a[s]+=-i+i*2*BMMath.random();n+=1}var u=time*e,f=u-Math.floor(u),d=createTypedArray("float32",o);if(o>1){for(s=0;s<o;s+=1)d[s]=this.pv[s]+a[s]+(-i+i*2*BMMath.random())*f;return d}return this.pv+a[0]+(-i+i*2*BMMath.random())*f}.bind(this),thisProperty.loopIn&&thisProperty.loopIn.bind(thisProperty),thisProperty.loopOut&&thisProperty.loopOut.bind(thisProperty),thisProperty.smooth&&thisProperty.smooth.bind(thisProperty),this.getValueAtTime&&this.getValueAtTime.bind(this),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this)),elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function seedRandom(r){BMMath.seedrandom(randSeed+r)}var time,value;elem.data.ind;var hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6);elem.globalData;function executeExpression(r){return value=r,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType,thisLayer||(elem.layerInterface.text,thisLayer=elem.layerInterface,elem.comp.compInterface,thisLayer.toWorld.bind(thisLayer),thisLayer.fromWorld.bind(thisLayer),thisLayer.fromComp.bind(thisLayer),thisLayer.toComp.bind(thisLayer),thisLayer.mask&&thisLayer.mask.bind(thisLayer)),transform||(transform=elem.layerInterface("ADBE Transform Group")),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&velocityAtTime(time),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt.propType,scoped_bm_rt)}return executeExpression}return ob.initiateExpression=initiateExpression,ob}(),expressionHelpers=function(){function r(a,c,u){c.x&&(u.k=!0,u.x=!0,u.initiateExpression=ExpressionManager.initiateExpression,u.effectsSequence.push(u.initiateExpression(a,c,u).bind(u)))}function e(a){return a*=this.elem.globalData.frameRate,a-=this.offsetTime,a!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<a?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(a,this._cachingAtTime),this._cachingAtTime.lastFrame=a),this._cachingAtTime.value}function i(a){var c=-.01,u=this.getValueAtTime(a),f=this.getValueAtTime(a+c),d=0;if(u.length){var m;for(m=0;m<u.length;m+=1)d+=Math.pow(f[m]-u[m],2);d=Math.sqrt(d)*100}else d=0;return d}function n(a){if(this.vel!==void 0)return this.vel;var c=-.001,u=this.getValueAtTime(a),f=this.getValueAtTime(a+c),d;if(u.length){d=createTypedArray("float32",u.length);var m;for(m=0;m<u.length;m+=1)d[m]=(f[m]-u[m])/c}else d=(f-u)/c;return d}function s(){return this.pv}function o(a){this.propertyGroup=a}return{searchExpressions:r,getSpeedAtTime:i,getVelocityAtTime:n,getValueAtTime:e,getStaticValueAtTime:s,setGroupProperty:o}}();(function r(){function e(ye,Se,Ce){if(!this.k||!this.keyframes)return this.pv;ye=ye?ye.toLowerCase():"";var Le=this.comp.renderedFrame,he=this.keyframes,g=he[he.length-1].t;if(Le<=g)return this.pv;var b,ve;Ce?(Se?b=Math.abs(g-this.elem.comp.globalData.frameRate*Se):b=Math.max(0,g-this.elem.data.ip),ve=g-b):((!Se||Se>he.length-1)&&(Se=he.length-1),ve=he[he.length-1-Se].t,b=g-ve);var Pe,Be,Ve;if(ye==="pingpong"){var et=Math.floor((Le-ve)/b);if(et%2!==0)return this.getValueAtTime((b-(Le-ve)%b+ve)/this.comp.globalData.frameRate,0)}else if(ye==="offset"){var yt=this.getValueAtTime(ve/this.comp.globalData.frameRate,0),kt=this.getValueAtTime(g/this.comp.globalData.frameRate,0),Ot=this.getValueAtTime(((Le-ve)%b+ve)/this.comp.globalData.frameRate,0),Ft=Math.floor((Le-ve)/b);if(this.pv.length){for(Ve=new Array(yt.length),Be=Ve.length,Pe=0;Pe<Be;Pe+=1)Ve[Pe]=(kt[Pe]-yt[Pe])*Ft+Ot[Pe];return Ve}return(kt-yt)*Ft+Ot}else if(ye==="continue"){var wt=this.getValueAtTime(g/this.comp.globalData.frameRate,0),Dt=this.getValueAtTime((g-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Ve=new Array(wt.length),Be=Ve.length,Pe=0;Pe<Be;Pe+=1)Ve[Pe]=wt[Pe]+(wt[Pe]-Dt[Pe])*((Le-g)/this.comp.globalData.frameRate)/5e-4;return Ve}return wt+(wt-Dt)*((Le-g)/.001)}return this.getValueAtTime(((Le-ve)%b+ve)/this.comp.globalData.frameRate,0)}function i(ye,Se,Ce){if(!this.k)return this.pv;ye=ye?ye.toLowerCase():"";var Le=this.comp.renderedFrame,he=this.keyframes,g=he[0].t;if(Le>=g)return this.pv;var b,ve;Ce?(Se?b=Math.abs(this.elem.comp.globalData.frameRate*Se):b=Math.max(0,this.elem.data.op-g),ve=g+b):((!Se||Se>he.length-1)&&(Se=he.length-1),ve=he[Se].t,b=ve-g);var Pe,Be,Ve;if(ye==="pingpong"){var et=Math.floor((g-Le)/b);if(et%2===0)return this.getValueAtTime(((g-Le)%b+g)/this.comp.globalData.frameRate,0)}else if(ye==="offset"){var yt=this.getValueAtTime(g/this.comp.globalData.frameRate,0),kt=this.getValueAtTime(ve/this.comp.globalData.frameRate,0),Ot=this.getValueAtTime((b-(g-Le)%b+g)/this.comp.globalData.frameRate,0),Ft=Math.floor((g-Le)/b)+1;if(this.pv.length){for(Ve=new Array(yt.length),Be=Ve.length,Pe=0;Pe<Be;Pe+=1)Ve[Pe]=Ot[Pe]-(kt[Pe]-yt[Pe])*Ft;return Ve}return Ot-(kt-yt)*Ft}else if(ye==="continue"){var wt=this.getValueAtTime(g/this.comp.globalData.frameRate,0),Dt=this.getValueAtTime((g+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Ve=new Array(wt.length),Be=Ve.length,Pe=0;Pe<Be;Pe+=1)Ve[Pe]=wt[Pe]+(wt[Pe]-Dt[Pe])*(g-Le)/.001;return Ve}return wt+(wt-Dt)*(g-Le)/.001}return this.getValueAtTime((b-((g-Le)%b+g))/this.comp.globalData.frameRate,0)}function n(ye,Se){if(!this.k)return this.pv;if(ye=(ye||.4)*.5,Se=Math.floor(Se||5),Se<=1)return this.pv;var Ce=this.comp.renderedFrame/this.comp.globalData.frameRate,Le=Ce-ye,he=Ce+ye,g=Se>1?(he-Le)/(Se-1):1,b=0,ve=0,Pe;this.pv.length?Pe=createTypedArray("float32",this.pv.length):Pe=0;for(var Be;b<Se;){if(Be=this.getValueAtTime(Le+b*g),this.pv.length)for(ve=0;ve<this.pv.length;ve+=1)Pe[ve]+=Be[ve];else Pe+=Be;b+=1}if(this.pv.length)for(ve=0;ve<this.pv.length;ve+=1)Pe[ve]/=Se;else Pe/=Se;return Pe}function s(ye){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var Se=this._transformCachingAtTime.v;if(Se.cloneFromProps(this.pre.props),this.appliedTransformations<1){var Ce=this.a.getValueAtTime(ye);Se.translate(-Ce[0]*this.a.mult,-Ce[1]*this.a.mult,Ce[2]*this.a.mult)}if(this.appliedTransformations<2){var Le=this.s.getValueAtTime(ye);Se.scale(Le[0]*this.s.mult,Le[1]*this.s.mult,Le[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var he=this.sk.getValueAtTime(ye),g=this.sa.getValueAtTime(ye);Se.skewFromAxis(-he*this.sk.mult,g*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var b=this.r.getValueAtTime(ye);Se.rotate(-b*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var ve=this.rz.getValueAtTime(ye),Pe=this.ry.getValueAtTime(ye),Be=this.rx.getValueAtTime(ye),Ve=this.or.getValueAtTime(ye);Se.rotateZ(-ve*this.rz.mult).rotateY(Pe*this.ry.mult).rotateX(Be*this.rx.mult).rotateZ(-Ve[2]*this.or.mult).rotateY(Ve[1]*this.or.mult).rotateX(Ve[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var et=this.px.getValueAtTime(ye),yt=this.py.getValueAtTime(ye);if(this.data.p.z){var kt=this.pz.getValueAtTime(ye);Se.translate(et*this.px.mult,yt*this.py.mult,-kt*this.pz.mult)}else Se.translate(et*this.px.mult,yt*this.py.mult,0)}else{var Ot=this.p.getValueAtTime(ye);Se.translate(Ot[0]*this.p.mult,Ot[1]*this.p.mult,-Ot[2]*this.p.mult)}return Se}function o(){return this.v.clone(new Matrix)}var a=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(ye,Se,Ce){var Le=a(ye,Se,Ce);return Le.dynamicProperties.length?Le.getValueAtTime=s.bind(Le):Le.getValueAtTime=o.bind(Le),Le.setGroupProperty=expressionHelpers.setGroupProperty,Le};var c=PropertyFactory.getProp;PropertyFactory.getProp=function(ye,Se,Ce,Le,he){var g=c(ye,Se,Ce,Le,he);g.kf?g.getValueAtTime=expressionHelpers.getValueAtTime.bind(g):g.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(g),g.setGroupProperty=expressionHelpers.setGroupProperty,g.loopOut=e,g.loopIn=i,g.smooth=n,g.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(g),g.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(g),g.numKeys=Se.a===1?Se.k.length:0,g.propertyIndex=Se.ix;var b=0;return Ce!==0&&(b=createTypedArray("float32",Se.a===1?Se.k[0].s.length:Se.k.length)),g._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:b},expressionHelpers.searchExpressions(ye,Se,g),g.k&&he.addDynamicProperty(g),g};function u(ye){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),ye*=this.elem.globalData.frameRate,ye-=this.offsetTime,ye!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<ye?this._caching.lastIndex:0,this._cachingAtTime.lastTime=ye,this.interpolateShape(ye,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var f=ShapePropertyFactory.getConstructorFunction(),d=ShapePropertyFactory.getKeyframedConstructorFunction();function m(){}m.prototype={vertices:function(ye,Se){this.k&&this.getValue();var Ce=this.v;Se!==void 0&&(Ce=this.getValueAtTime(Se,0));var Le,he=Ce._length,g=Ce[ye],b=Ce.v,ve=createSizedArray(he);for(Le=0;Le<he;Le+=1)ye==="i"||ye==="o"?ve[Le]=[g[Le][0]-b[Le][0],g[Le][1]-b[Le][1]]:ve[Le]=[g[Le][0],g[Le][1]];return ve},points:function(ye){return this.vertices("v",ye)},inTangents:function(ye){return this.vertices("i",ye)},outTangents:function(ye){return this.vertices("o",ye)},isClosed:function(){return this.v.c},pointOnPath:function(ye,Se){var Ce=this.v;Se!==void 0&&(Ce=this.getValueAtTime(Se,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(Ce));for(var Le=this._segmentsLength,he=Le.lengths,g=Le.totalLength*ye,b=0,ve=he.length,Pe=0,Be;b<ve;){if(Pe+he[b].addedLength>g){var Ve=b,et=Ce.c&&b===ve-1?0:b+1,yt=(g-Pe)/he[b].addedLength;Be=bez.getPointInSegment(Ce.v[Ve],Ce.v[et],Ce.o[Ve],Ce.i[et],yt,he[b]);break}else Pe+=he[b].addedLength;b+=1}return Be||(Be=Ce.c?[Ce.v[0][0],Ce.v[0][1]]:[Ce.v[Ce._length-1][0],Ce.v[Ce._length-1][1]]),Be},vectorOnPath:function(ye,Se,Ce){ye==1?ye=this.v.c:ye==0&&(ye=.999);var Le=this.pointOnPath(ye,Se),he=this.pointOnPath(ye+.001,Se),g=he[0]-Le[0],b=he[1]-Le[1],ve=Math.sqrt(Math.pow(g,2)+Math.pow(b,2));if(ve===0)return[0,0];var Pe=Ce==="tangent"?[g/ve,b/ve]:[-b/ve,g/ve];return Pe},tangentOnPath:function(ye,Se){return this.vectorOnPath(ye,Se,"tangent")},normalOnPath:function(ye,Se){return this.vectorOnPath(ye,Se,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([m],f),extendPrototype([m],d),d.prototype.getValueAtTime=u,d.prototype.initiateExpression=ExpressionManager.initiateExpression;var _=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(ye,Se,Ce,Le,he){var g=_(ye,Se,Ce,Le,he);return g.propertyIndex=Se.ix,g.lock=!1,Ce===3?expressionHelpers.searchExpressions(ye,Se.pt,g):Ce===4&&expressionHelpers.searchExpressions(ye,Se.ks,g),g.k&&ye.addDynamicProperty(g),g}})(),function r(){function e(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(i,n){var s=this.calculateExpression(n);if(i.t!==s){var o={};return this.copyData(o,i),o.t=s.toString(),o.__complete=!1,o}return i},TextProperty.prototype.searchProperty=function(){var i=this.searchKeyframes(),n=this.searchExpressions();return this.kf=i||n,this.kf},TextProperty.prototype.searchExpressions=e}();var ShapePathInterface=function(){return function(e,i,n){var s=i.sh;function o(c){return c==="Shape"||c==="shape"||c==="Path"||c==="path"||c==="ADBE Vector Shape"||c===2?o.path:null}var a=propertyGroupFactory(o,n);return s.setGroupProperty(PropertyInterface("Path",a)),Object.defineProperties(o,{path:{get:function(){return s.k&&s.getValue(),s}},shape:{get:function(){return s.k&&s.getValue(),s}},_name:{value:e.nm},ix:{value:e.ix},propertyIndex:{value:e.ix},mn:{value:e.mn},propertyGroup:{value:n}}),o}}(),propertyGroupFactory=function(){return function(r,e){return function(i){return i=i===void 0?1:i,i<=0?r:e(i-1)}}}(),PropertyInterface=function(){return function(r,e){var i={_name:r};function n(s){return s=s===void 0?1:s,s<=0?i:e(s-1)}return n}}(),ShapeExpressionInterface=function(){function r(Se,Ce,Le){var he=[],g,b=Se?Se.length:0;for(g=0;g<b;g+=1)Se[g].ty==="gr"?he.push(i(Se[g],Ce[g],Le)):Se[g].ty==="fl"?he.push(n(Se[g],Ce[g],Le)):Se[g].ty==="st"?he.push(a(Se[g],Ce[g],Le)):Se[g].ty==="tm"?he.push(c(Se[g],Ce[g],Le)):Se[g].ty==="tr"||(Se[g].ty==="el"?he.push(f(Se[g],Ce[g],Le)):Se[g].ty==="sr"?he.push(d(Se[g],Ce[g],Le)):Se[g].ty==="sh"?he.push(ShapePathInterface(Se[g],Ce[g],Le)):Se[g].ty==="rc"?he.push(m(Se[g],Ce[g],Le)):Se[g].ty==="rd"?he.push(_(Se[g],Ce[g],Le)):Se[g].ty==="rp"?he.push(ye(Se[g],Ce[g],Le)):Se[g].ty==="gf"?he.push(s(Se[g],Ce[g],Le)):he.push(o(Se[g],Ce[g])));return he}function e(Se,Ce,Le){var he,g=function(Pe){for(var Be=0,Ve=he.length;Be<Ve;){if(he[Be]._name===Pe||he[Be].mn===Pe||he[Be].propertyIndex===Pe||he[Be].ix===Pe||he[Be].ind===Pe)return he[Be];Be+=1}return typeof Pe=="number"?he[Pe-1]:null};g.propertyGroup=propertyGroupFactory(g,Le),he=r(Se.it,Ce.it,g.propertyGroup),g.numProperties=he.length;var b=u(Se.it[Se.it.length-1],Ce.it[Ce.it.length-1],g.propertyGroup);return g.transform=b,g.propertyIndex=Se.cix,g._name=Se.nm,g}function i(Se,Ce,Le){var he=function(Pe){switch(Pe){case"ADBE Vectors Group":case"Contents":case 2:return he.content;default:return he.transform}};he.propertyGroup=propertyGroupFactory(he,Le);var g=e(Se,Ce,he.propertyGroup),b=u(Se.it[Se.it.length-1],Ce.it[Ce.it.length-1],he.propertyGroup);return he.content=g,he.transform=b,Object.defineProperty(he,"_name",{get:function(){return Se.nm}}),he.numProperties=Se.np,he.propertyIndex=Se.ix,he.nm=Se.nm,he.mn=Se.mn,he}function n(Se,Ce,Le){function he(g){return g==="Color"||g==="color"?he.color:g==="Opacity"||g==="opacity"?he.opacity:null}return Object.defineProperties(he,{color:{get:ExpressionPropertyInterface(Ce.c)},opacity:{get:ExpressionPropertyInterface(Ce.o)},_name:{value:Se.nm},mn:{value:Se.mn}}),Ce.c.setGroupProperty(PropertyInterface("Color",Le)),Ce.o.setGroupProperty(PropertyInterface("Opacity",Le)),he}function s(Se,Ce,Le){function he(g){return g==="Start Point"||g==="start point"?he.startPoint:g==="End Point"||g==="end point"?he.endPoint:g==="Opacity"||g==="opacity"?he.opacity:null}return Object.defineProperties(he,{startPoint:{get:ExpressionPropertyInterface(Ce.s)},endPoint:{get:ExpressionPropertyInterface(Ce.e)},opacity:{get:ExpressionPropertyInterface(Ce.o)},type:{get:function(){return"a"}},_name:{value:Se.nm},mn:{value:Se.mn}}),Ce.s.setGroupProperty(PropertyInterface("Start Point",Le)),Ce.e.setGroupProperty(PropertyInterface("End Point",Le)),Ce.o.setGroupProperty(PropertyInterface("Opacity",Le)),he}function o(){function Se(){return null}return Se}function a(Se,Ce,Le){var he=propertyGroupFactory(Ve,Le),g=propertyGroupFactory(Be,he);function b(et){Object.defineProperty(Be,Se.d[et].nm,{get:ExpressionPropertyInterface(Ce.d.dataProps[et].p)})}var ve,Pe=Se.d?Se.d.length:0,Be={};for(ve=0;ve<Pe;ve+=1)b(ve),Ce.d.dataProps[ve].p.setGroupProperty(g);function Ve(et){return et==="Color"||et==="color"?Ve.color:et==="Opacity"||et==="opacity"?Ve.opacity:et==="Stroke Width"||et==="stroke width"?Ve.strokeWidth:null}return Object.defineProperties(Ve,{color:{get:ExpressionPropertyInterface(Ce.c)},opacity:{get:ExpressionPropertyInterface(Ce.o)},strokeWidth:{get:ExpressionPropertyInterface(Ce.w)},dash:{get:function(){return Be}},_name:{value:Se.nm},mn:{value:Se.mn}}),Ce.c.setGroupProperty(PropertyInterface("Color",he)),Ce.o.setGroupProperty(PropertyInterface("Opacity",he)),Ce.w.setGroupProperty(PropertyInterface("Stroke Width",he)),Ve}function c(Se,Ce,Le){function he(b){return b===Se.e.ix||b==="End"||b==="end"?he.end:b===Se.s.ix?he.start:b===Se.o.ix?he.offset:null}var g=propertyGroupFactory(he,Le);return he.propertyIndex=Se.ix,Ce.s.setGroupProperty(PropertyInterface("Start",g)),Ce.e.setGroupProperty(PropertyInterface("End",g)),Ce.o.setGroupProperty(PropertyInterface("Offset",g)),he.propertyIndex=Se.ix,he.propertyGroup=Le,Object.defineProperties(he,{start:{get:ExpressionPropertyInterface(Ce.s)},end:{get:ExpressionPropertyInterface(Ce.e)},offset:{get:ExpressionPropertyInterface(Ce.o)},_name:{value:Se.nm}}),he.mn=Se.mn,he}function u(Se,Ce,Le){function he(b){return Se.a.ix===b||b==="Anchor Point"?he.anchorPoint:Se.o.ix===b||b==="Opacity"?he.opacity:Se.p.ix===b||b==="Position"?he.position:Se.r.ix===b||b==="Rotation"||b==="ADBE Vector Rotation"?he.rotation:Se.s.ix===b||b==="Scale"?he.scale:Se.sk&&Se.sk.ix===b||b==="Skew"?he.skew:Se.sa&&Se.sa.ix===b||b==="Skew Axis"?he.skewAxis:null}var g=propertyGroupFactory(he,Le);return Ce.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",g)),Ce.transform.mProps.p.setGroupProperty(PropertyInterface("Position",g)),Ce.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",g)),Ce.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",g)),Ce.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",g)),Ce.transform.mProps.sk&&(Ce.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",g)),Ce.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",g))),Ce.transform.op.setGroupProperty(PropertyInterface("Opacity",g)),Object.defineProperties(he,{opacity:{get:ExpressionPropertyInterface(Ce.transform.mProps.o)},position:{get:ExpressionPropertyInterface(Ce.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(Ce.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(Ce.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(Ce.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(Ce.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(Ce.transform.mProps.sa)},_name:{value:Se.nm}}),he.ty="tr",he.mn=Se.mn,he.propertyGroup=Le,he}function f(Se,Ce,Le){function he(ve){return Se.p.ix===ve?he.position:Se.s.ix===ve?he.size:null}var g=propertyGroupFactory(he,Le);he.propertyIndex=Se.ix;var b=Ce.sh.ty==="tm"?Ce.sh.prop:Ce.sh;return b.s.setGroupProperty(PropertyInterface("Size",g)),b.p.setGroupProperty(PropertyInterface("Position",g)),Object.defineProperties(he,{size:{get:ExpressionPropertyInterface(b.s)},position:{get:ExpressionPropertyInterface(b.p)},_name:{value:Se.nm}}),he.mn=Se.mn,he}function d(Se,Ce,Le){function he(ve){return Se.p.ix===ve?he.position:Se.r.ix===ve?he.rotation:Se.pt.ix===ve?he.points:Se.or.ix===ve||ve==="ADBE Vector Star Outer Radius"?he.outerRadius:Se.os.ix===ve?he.outerRoundness:Se.ir&&(Se.ir.ix===ve||ve==="ADBE Vector Star Inner Radius")?he.innerRadius:Se.is&&Se.is.ix===ve?he.innerRoundness:null}var g=propertyGroupFactory(he,Le),b=Ce.sh.ty==="tm"?Ce.sh.prop:Ce.sh;return he.propertyIndex=Se.ix,b.or.setGroupProperty(PropertyInterface("Outer Radius",g)),b.os.setGroupProperty(PropertyInterface("Outer Roundness",g)),b.pt.setGroupProperty(PropertyInterface("Points",g)),b.p.setGroupProperty(PropertyInterface("Position",g)),b.r.setGroupProperty(PropertyInterface("Rotation",g)),Se.ir&&(b.ir.setGroupProperty(PropertyInterface("Inner Radius",g)),b.is.setGroupProperty(PropertyInterface("Inner Roundness",g))),Object.defineProperties(he,{position:{get:ExpressionPropertyInterface(b.p)},rotation:{get:ExpressionPropertyInterface(b.r)},points:{get:ExpressionPropertyInterface(b.pt)},outerRadius:{get:ExpressionPropertyInterface(b.or)},outerRoundness:{get:ExpressionPropertyInterface(b.os)},innerRadius:{get:ExpressionPropertyInterface(b.ir)},innerRoundness:{get:ExpressionPropertyInterface(b.is)},_name:{value:Se.nm}}),he.mn=Se.mn,he}function m(Se,Ce,Le){function he(ve){return Se.p.ix===ve?he.position:Se.r.ix===ve?he.roundness:Se.s.ix===ve||ve==="Size"||ve==="ADBE Vector Rect Size"?he.size:null}var g=propertyGroupFactory(he,Le),b=Ce.sh.ty==="tm"?Ce.sh.prop:Ce.sh;return he.propertyIndex=Se.ix,b.p.setGroupProperty(PropertyInterface("Position",g)),b.s.setGroupProperty(PropertyInterface("Size",g)),b.r.setGroupProperty(PropertyInterface("Rotation",g)),Object.defineProperties(he,{position:{get:ExpressionPropertyInterface(b.p)},roundness:{get:ExpressionPropertyInterface(b.r)},size:{get:ExpressionPropertyInterface(b.s)},_name:{value:Se.nm}}),he.mn=Se.mn,he}function _(Se,Ce,Le){function he(ve){return Se.r.ix===ve||ve==="Round Corners 1"?he.radius:null}var g=propertyGroupFactory(he,Le),b=Ce;return he.propertyIndex=Se.ix,b.rd.setGroupProperty(PropertyInterface("Radius",g)),Object.defineProperties(he,{radius:{get:ExpressionPropertyInterface(b.rd)},_name:{value:Se.nm}}),he.mn=Se.mn,he}function ye(Se,Ce,Le){function he(ve){return Se.c.ix===ve||ve==="Copies"?he.copies:Se.o.ix===ve||ve==="Offset"?he.offset:null}var g=propertyGroupFactory(he,Le),b=Ce;return he.propertyIndex=Se.ix,b.c.setGroupProperty(PropertyInterface("Copies",g)),b.o.setGroupProperty(PropertyInterface("Offset",g)),Object.defineProperties(he,{copies:{get:ExpressionPropertyInterface(b.c)},offset:{get:ExpressionPropertyInterface(b.o)},_name:{value:Se.nm}}),he.mn=Se.mn,he}return function(Se,Ce,Le){var he;function g(ve){if(typeof ve=="number")return ve=ve===void 0?1:ve,ve===0?Le:he[ve-1];for(var Pe=0,Be=he.length;Pe<Be;){if(he[Pe]._name===ve)return he[Pe];Pe+=1}return null}function b(){return Le}return g.propertyGroup=propertyGroupFactory(g,b),he=r(Se,Ce,g.propertyGroup),g.numProperties=he.length,g._name="Contents",g}}(),TextExpressionInterface=function(){return function(r){var e,i;function n(s){switch(s){case"ADBE Text Document":return n.sourceText;default:return null}}return Object.defineProperty(n,"sourceText",{get:function(){r.textProperty.getValue();var s=r.textProperty.currentData.t;return s!==e&&(r.textProperty.currentData.t=e,i=new String(s),i.value=s||new String(s)),i}}),n}}(),LayerExpressionInterface=function(){function r(f){var d=new Matrix;if(f!==void 0){var m=this._elem.finalTransform.mProp.getValueAtTime(f);m.clone(d)}else{var _=this._elem.finalTransform.mProp;_.applyToMatrix(d)}return d}function e(f,d){var m=this.getMatrix(d);return m.props[12]=0,m.props[13]=0,m.props[14]=0,this.applyPoint(m,f)}function i(f,d){var m=this.getMatrix(d);return this.applyPoint(m,f)}function n(f,d){var m=this.getMatrix(d);return m.props[12]=0,m.props[13]=0,m.props[14]=0,this.invertPoint(m,f)}function s(f,d){var m=this.getMatrix(d);return this.invertPoint(m,f)}function o(f,d){if(this._elem.hierarchy&&this._elem.hierarchy.length){var m,_=this._elem.hierarchy.length;for(m=0;m<_;m+=1)this._elem.hierarchy[m].finalTransform.mProp.applyToMatrix(f)}return f.applyToPointArray(d[0],d[1],d[2]||0)}function a(f,d){if(this._elem.hierarchy&&this._elem.hierarchy.length){var m,_=this._elem.hierarchy.length;for(m=0;m<_;m+=1)this._elem.hierarchy[m].finalTransform.mProp.applyToMatrix(f)}return f.inversePoint(d)}function c(f){var d=new Matrix;if(d.reset(),this._elem.finalTransform.mProp.applyToMatrix(d),this._elem.hierarchy&&this._elem.hierarchy.length){var m,_=this._elem.hierarchy.length;for(m=0;m<_;m+=1)this._elem.hierarchy[m].finalTransform.mProp.applyToMatrix(d);return d.inversePoint(f)}return d.inversePoint(f)}function u(){return[1,1,1,1]}return function(f){var d;function m(Ce){ye.mask=new MaskManagerInterface(Ce,f)}function _(Ce){ye.effect=Ce}function ye(Ce){switch(Ce){case"ADBE Root Vectors Group":case"Contents":case 2:return ye.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return d;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return ye.effect;case"ADBE Text Properties":return ye.textInterface;default:return null}}ye.getMatrix=r,ye.invertPoint=a,ye.applyPoint=o,ye.toWorld=i,ye.toWorldVec=e,ye.fromWorld=s,ye.fromWorldVec=n,ye.toComp=i,ye.fromComp=c,ye.sampleImage=u,ye.sourceRectAtTime=f.sourceRectAtTime.bind(f),ye._elem=f,d=TransformExpressionInterface(f.finalTransform.mProp);var Se=getDescriptor(d,"anchorPoint");return Object.defineProperties(ye,{hasParent:{get:function(){return f.hierarchy.length}},parent:{get:function(){return f.hierarchy[0].layerInterface}},rotation:getDescriptor(d,"rotation"),scale:getDescriptor(d,"scale"),position:getDescriptor(d,"position"),opacity:getDescriptor(d,"opacity"),anchorPoint:Se,anchor_point:Se,transform:{get:function(){return d}},active:{get:function(){return f.isInRange}}}),ye.startTime=f.data.st,ye.index=f.data.ind,ye.source=f.data.refId,ye.height=f.data.ty===0?f.data.h:100,ye.width=f.data.ty===0?f.data.w:100,ye.inPoint=f.data.ip/f.comp.globalData.frameRate,ye.outPoint=f.data.op/f.comp.globalData.frameRate,ye._name=f.data.nm,ye.registerMaskInterface=m,ye.registerEffectsInterface=_,ye}}(),FootageInterface=function(){var r=function(i){var n="",s=i.getFootageData();function o(){return n="",s=i.getFootageData(),a}function a(c){if(s[c])return n=c,s=s[c],typeof s=="object"?a:s;var u=c.indexOf(n);if(u!==-1){var f=parseInt(c.substr(u+n.length),10);return s=s[f],typeof s=="object"?a:s}return""}return o},e=function(i){function n(s){return s==="Outline"?n.outlineInterface():null}return n._name="Outline",n.outlineInterface=r(i),n};return function(i){function n(s){return s==="Data"?n.dataInterface:null}return n._name="Data",n.dataInterface=e(i),n}}(),CompExpressionInterface=function(){return function(r){function e(i){for(var n=0,s=r.layers.length;n<s;){if(r.layers[n].nm===i||r.layers[n].ind===i)return r.elements[n].layerInterface;n+=1}return null}return Object.defineProperty(e,"_name",{value:r.data.nm}),e.layer=e,e.pixelAspect=1,e.height=r.data.h||r.globalData.compSize.h,e.width=r.data.w||r.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/r.globalData.frameRate,e.displayStartTime=0,e.numLayers=r.layers.length,e}}(),TransformExpressionInterface=function(){return function(r){function e(a){switch(a){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity;default:return null}}Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(r.r||r.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(r.rz||r.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(r.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(r.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(r.s)});var i,n,s,o;return r.p?o=ExpressionPropertyInterface(r.p):(i=ExpressionPropertyInterface(r.px),n=ExpressionPropertyInterface(r.py),r.pz&&(s=ExpressionPropertyInterface(r.pz))),Object.defineProperty(e,"position",{get:function(){return r.p?o():[i(),n(),s?s():0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(r.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(r.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(r.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(r.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(r.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(r.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(r.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(r.or)}),e}}(),ProjectInterface=function(){function r(e){this.compositions.push(e)}return function(){function e(i){for(var n=0,s=this.compositions.length;n<s;){if(this.compositions[n].data&&this.compositions[n].data.nm===i)return this.compositions[n].prepareFrame&&this.compositions[n].data.xt&&this.compositions[n].prepareFrame(this.currentFrame),this.compositions[n].compInterface;n+=1}return null}return e.compositions=[],e.currentFrame=0,e.registerComposition=r,e}}(),EffectsExpressionInterface=function(){var r={createEffectsInterface:e};function e(s,o){if(s.effectsManager){var a=[],c=s.data.ef,u,f=s.effectsManager.effectElements.length;for(u=0;u<f;u+=1)a.push(i(c[u],s.effectsManager.effectElements[u],o,s));var d=s.data.ef||[],m=function(_){for(u=0,f=d.length;u<f;){if(_===d[u].nm||_===d[u].mn||_===d[u].ix)return a[u];u+=1}return null};return Object.defineProperty(m,"numProperties",{get:function(){return d.length}}),m}return null}function i(s,o,a,c){function u(ye){for(var Se=s.ef,Ce=0,Le=Se.length;Ce<Le;){if(ye===Se[Ce].nm||ye===Se[Ce].mn||ye===Se[Ce].ix)return Se[Ce].ty===5?d[Ce]:d[Ce]();Ce+=1}throw new Error}var f=propertyGroupFactory(u,a),d=[],m,_=s.ef.length;for(m=0;m<_;m+=1)s.ef[m].ty===5?d.push(i(s.ef[m],o.effectElements[m],o.effectElements[m].propertyGroup,c)):d.push(n(o.effectElements[m],s.ef[m].ty,c,f));return s.mn==="ADBE Color Control"&&Object.defineProperty(u,"color",{get:function(){return d[0]()}}),Object.defineProperties(u,{numProperties:{get:function(){return s.np}},_name:{value:s.nm},propertyGroup:{value:f}}),u.enabled=s.en!==0,u.active=u.enabled,u}function n(s,o,a,c){var u=ExpressionPropertyInterface(s.p);function f(){return o===10?a.comp.compInterface(s.p.v):u()}return s.p.setGroupProperty&&s.p.setGroupProperty(PropertyInterface("",c)),f}return r}(),MaskManagerInterface=function(){function r(i,n){this._mask=i,this._data=n}Object.defineProperty(r.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(r.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var e=function(i){var n=createSizedArray(i.viewData.length),s,o=i.viewData.length;for(s=0;s<o;s+=1)n[s]=new r(i.viewData[s],i.masksProperties[s]);var a=function(c){for(s=0;s<o;){if(i.masksProperties[s].nm===c)return n[s];s+=1}return null};return a};return e}(),ExpressionPropertyInterface=function(){var r={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function i(a,c,u){Object.defineProperty(a,"velocity",{get:function(){return c.getVelocityAtTime(c.comp.currentFrame)}}),a.numKeys=c.keyframes?c.keyframes.length:0,a.key=function(f){if(!a.numKeys)return 0;var d="";"s"in c.keyframes[f-1]?d=c.keyframes[f-1].s:"e"in c.keyframes[f-2]?d=c.keyframes[f-2].e:d=c.keyframes[f-2].s;var m=u==="unidimensional"?new Number(d):Object.assign({},d);return m.time=c.keyframes[f-1].t/c.elem.comp.globalData.frameRate,m.value=u==="unidimensional"?d[0]:d,m},a.valueAtTime=c.getValueAtTime,a.speedAtTime=c.getSpeedAtTime,a.velocityAtTime=c.getVelocityAtTime,a.propertyGroup=c.propertyGroup}function n(a){(!a||!("pv"in a))&&(a=r);var c=1/a.mult,u=a.pv*c,f=new Number(u);return f.value=u,i(f,a,"unidimensional"),function(){return a.k&&a.getValue(),u=a.v*c,f.value!==u&&(f=new Number(u),f.value=u,i(f,a,"unidimensional")),f}}function s(a){(!a||!("pv"in a))&&(a=e);var c=1/a.mult,u=a.data&&a.data.l||a.pv.length,f=createTypedArray("float32",u),d=createTypedArray("float32",u);return f.value=d,i(f,a,"multidimensional"),function(){a.k&&a.getValue();for(var m=0;m<u;m+=1)d[m]=a.v[m]*c,f[m]=d[m];return f}}function o(){return r}return function(a){return a?a.propType==="unidimensional"?n(a):s(a):o}}(),TextExpressionSelectorPropFactory=function(){function r(e,i){return this.textIndex=e+1,this.textTotal=i,this.v=this.getValue()*this.mult,this.v}return function(e,i){this.pv=1,this.comp=e.comp,this.elem=e,this.mult=.01,this.propType="textSelector",this.textTotal=i.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],this.k=!0,this.x=!0,this.getValue=ExpressionManager.initiateExpression.bind(this)(e,i,this),this.getMult=r,this.getVelocityAtTime=expressionHelpers.getVelocityAtTime,this.kf?this.getValueAtTime=expressionHelpers.getValueAtTime.bind(this):this.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(this),this.setGroupProperty=expressionHelpers.setGroupProperty}}(),propertyGetTextProp=TextSelectorProp.getTextSelectorProp;TextSelectorProp.getTextSelectorProp=function(r,e,i){return e.t===1?new TextExpressionSelectorPropFactory(r,e,i):propertyGetTextProp(r,e,i)};function SliderEffect(r,e,i){this.p=PropertyFactory.getProp(e,r.v,0,0,i)}function AngleEffect(r,e,i){this.p=PropertyFactory.getProp(e,r.v,0,0,i)}function ColorEffect(r,e,i){this.p=PropertyFactory.getProp(e,r.v,1,0,i)}function PointEffect(r,e,i){this.p=PropertyFactory.getProp(e,r.v,1,0,i)}function LayerIndexEffect(r,e,i){this.p=PropertyFactory.getProp(e,r.v,0,0,i)}function MaskIndexEffect(r,e,i){this.p=PropertyFactory.getProp(e,r.v,0,0,i)}function CheckboxEffect(r,e,i){this.p=PropertyFactory.getProp(e,r.v,0,0,i)}function NoValueEffect(){this.p={}}function EffectsManager(r,e){var i=r.ef||[];this.effectElements=[];var n,s=i.length,o;for(n=0;n<s;n+=1)o=new GroupEffect(i[n],e),this.effectElements.push(o)}function GroupEffect(r,e){this.init(r,e)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(r,e){this.data=r,this.effectElements=[],this.initDynamicPropertyContainer(e);var i,n=this.data.ef.length,s,o=this.data.ef;for(i=0;i<n;i+=1){switch(s=null,o[i].ty){case 0:s=new SliderEffect(o[i],e,this);break;case 1:s=new AngleEffect(o[i],e,this);break;case 2:s=new ColorEffect(o[i],e,this);break;case 3:s=new PointEffect(o[i],e,this);break;case 4:case 7:s=new CheckboxEffect(o[i],e,this);break;case 10:s=new LayerIndexEffect(o[i],e,this);break;case 11:s=new MaskIndexEffect(o[i],e,this);break;case 5:s=new EffectsManager(o[i],e);break;default:s=new NoValueEffect(o[i]);break}s&&this.effectElements.push(s)}};var lottie={};function setLocationHref(r){locationHref=r}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(r){subframeEnabled=r}function setIDPrefix(r){idPrefix=r}function loadAnimation(r){return animationManager.loadAnimation(r)}function setQuality(r){if(typeof r=="string")switch(r){case"high":defaultCurveSegments=200;break;default:case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10;break}else!isNaN(r)&&r>1&&(defaultCurveSegments=r)}function inBrowser(){return typeof navigator<"u"}function installPlugin(r,e){r==="expressions"&&(expressionsPlugin=e)}function getFactory(r){switch(r){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocationHref,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=function(r){_useWebWorker=r},lottie.setIDPrefix=setIDPrefix,lottie.__getFactory=getFactory,lottie.version="5.8.1";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(r){for(var e=queryString.split("&"),i=0;i<e.length;i+=1){var n=e[i].split("=");if(decodeURIComponent(n[0])==r)return decodeURIComponent(n[1])}return null}var queryString;{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src.replace(/^[^\?]+\??/,""),getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);return lottie})})(lottie);var Lottie=lottie.exports;const _sfc_main$6=defineComponent({props:{animationData:{type:Object,required:!0},loop:{type:[Number,Boolean],default:!1},autoPlay:{type:Boolean,default:!0},speed:{type:Number,default:1}},emits:["complete","loopComplete","enterFrame","segmentStart","stopped"],setup(r,{expose:e,emit:i}){const n=r,s=ref();let o=ref();onMounted(()=>{s.value&&a(s.value)}),onBeforeUnmount(()=>{Ce()});function a(Le){o.value=Lottie.loadAnimation({container:Le,renderer:"svg",loop:n.loop,autoplay:n.autoPlay,animationData:JSON.parse(JSON.stringify(n.animationData))}),o.value.setSpeed(n.speed),o.value.addEventListener("loopComplete",()=>{i("loopComplete")}),o.value.addEventListener("complete",()=>{i("complete")}),o.value.addEventListener("enterFrame",()=>{i("enterFrame")}),o.value.addEventListener("segmentStart",()=>{i("segmentStart")})}function c(){o.value&&o.value.play()}function u(){o.value&&o.value.stop()}function f(){o.value&&o.value.pause()}function d(Le){o.value&&o.value.setSpeed(Le)}function m(Le){o.value&&o.value.setDirection(Le)}function _(Le){return o.value?o.value.getDuration(Le):0}function ye(Le,he){o.value&&(o.value.goToAndStop(Le,he),i("stopped"))}function Se(Le,he){o.value&&o.value.goToAndPlay(Le,he)}function Ce(){o.value&&o.value.destroy()}return onBeforeUnmount(()=>{o.value&&o.value.destroy()}),e({play:c,pause:f,stop:u,setSpeed:d,setDirection:m,getDuration:_,goToAndStop:ye,goToAndPlay:Se,destroy:Ce}),(Le,he)=>(openBlock(),createElementBlock("div",{ref_key:"animation",ref:s},null,512))}}),_hoisted_1$5={class:"chunk__inner"},_hoisted_2$5={class:"chunk__cover"},_hoisted_3$3=["src","alt"],_hoisted_4$1={class:"chunk__title"},_hoisted_5$1={class:"chunk__bookmarks"},_hoisted_6=["onClick"],_hoisted_7=["onClick"],_sfc_main$5=defineComponent({__name:"Chunk",props:{chunk:{type:Object,required:!0},open:{type:Boolean,default:!1}},emits:["update:open","open-link","create","delete"],setup(r,{expose:e}){const i=ref();return e({chunkTemplateRef:i}),(n,s)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["chunk",{"chunk--open":r.open}]),ref_key:"chunkTemplateRef",ref:i},[createBaseVNode("div",{class:"chunk__grid",onClick:s[1]||(s[1]=o=>n.$emit("update:open",!r.open))},[createBaseVNode("div",_hoisted_1$5,[createBaseVNode("div",_hoisted_2$5,[createBaseVNode("img",{src:r.chunk.coverSrc,alt:r.chunk.title},null,8,_hoisted_3$3)]),createBaseVNode("div",_hoisted_4$1,toDisplayString(r.chunk.title),1)]),withDirectives(createBaseVNode("ul",_hoisted_5$1,[createBaseVNode("li",{class:"chunk__bookmark chunk__bookmark--create",onClick:s[0]||(s[0]=o=>n.$emit("create",o,r.chunk.title))}," create "),(openBlock(!0),createElementBlock(Fragment,null,renderList(r.chunk.bookmarks,(o,a)=>(openBlock(),createElementBlock("li",{key:o.url,class:"chunk__bookmark",onClick:c=>n.$emit("open-link",c,[r.chunk.title,o.url])},[createBaseVNode("span",null,toDisplayString(o.title),1),createBaseVNode("span",{onClick:withModifiers(c=>n.$emit("delete",c,[r.chunk.title,a]),["stop"])},"\u2715",8,_hoisted_7)],8,_hoisted_6))),128))],512),[[vShow,r.open]])])],2))}}),Chunk_vue_vue_type_style_index_0_lang="",_hoisted_1$4={class:"modal__header"},_hoisted_2$4={class:"modal__main"},_sfc_main$4=defineComponent({__name:"Modal",props:{title:{type:String,default:void 0}},emits:["close"],setup(r,{emit:e}){function i(n){n.key==="Escape"&&e("close")}return onMounted(()=>{window.addEventListener("keydown",i)}),onBeforeUnmount(()=>{window.removeEventListener("keydown",i)}),(n,s)=>(openBlock(),createElementBlock("div",{class:"modal",onClick:s[2]||(s[2]=o=>e("close"))},[createBaseVNode("div",{class:"modal__dialog",onClick:s[1]||(s[1]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",_hoisted_1$4,[createBaseVNode("span",{class:"modal__close",onClick:s[0]||(s[0]=o=>e("close"))},"\u2715"),createBaseVNode("span",null,toDisplayString(r.title),1)]),createBaseVNode("main",_hoisted_2$4,[renderSlot(n.$slots,"default")])])]))}}),Modal_vue_vue_type_style_index_0_lang="";function createPromise(){let r=()=>{},e=()=>{};return{promise:new Promise((n,s)=>{r=n,e=s}),resolve:r,reject:e}}const _hoisted_1$3={class:"modal-create"},_hoisted_2$3={for:"title"},_hoisted_3$2=createTextVNode(" title "),_hoisted_4={for:"url"},_hoisted_5=createTextVNode(" url "),_sfc_main$3=defineComponent({__name:"ModalCreateChunk",emits:["close"],setup(r,{expose:e,emit:i}){const n=ref(),s=reactive({title:"",url:""});function o(a){new Promise(c=>{n.value=createPromise(),n.value.promise.then(async()=>{const u=Va(database,"chunks"),f=Da(u,a);try{await vl(database,async d=>{const _=(await d.get(f)).data();s.url||(s.url=s.title),_==null||_.bookmarks.push(s),d.update(f,_)})}catch(d){console.log(d)}}).finally(()=>{s.title="",s.url="",i("close")})})}return e({queryCreate:o}),(a,c)=>(openBlock(),createBlock(_sfc_main$4,{onClose:c[3]||(c[3]=u=>a.$emit("close"))},{default:withCtx(()=>[createBaseVNode("form",_hoisted_1$3,[createBaseVNode("label",_hoisted_2$3,[_hoisted_3$2,withDirectives(createBaseVNode("input",{"onUpdate:modelValue":c[0]||(c[0]=u=>s.title=u),type:"text",name:"title"},null,512),[[vModelText,s.title]])]),createBaseVNode("label",_hoisted_4,[_hoisted_5,withDirectives(createBaseVNode("input",{"onUpdate:modelValue":c[1]||(c[1]=u=>s.url=u),type:"text",name:"url"},null,512),[[vModelText,s.url]])]),createBaseVNode("button",{onClick:c[2]||(c[2]=withModifiers((...u)=>n.value.resolve&&n.value.resolve(...u),["prevent"]))},"create bookmark")])]),_:1}))}}),ModalCreateChunk_vue_vue_type_style_index_0_scoped_7bd368de_lang="",_export_sfc=(r,e)=>{const i=r.__vccOpts||r;for(const[n,s]of e)i[n]=s;return i},ModalCreateChunk=_export_sfc(_sfc_main$3,[["__scopeId","data-v-7bd368de"]]),_hoisted_1$2={class:"modal-delete-chunk"},_hoisted_2$2=createTextVNode(" delete bookmark? "),_sfc_main$2=defineComponent({__name:"ModalDeleteChunk",emits:["close"],setup(r,{expose:e,emit:i}){const n=ref();function s(o,a){new Promise(c=>{n.value=createPromise(),n.value.promise.then(async()=>{const u=Va(database,"chunks"),f=Da(u,o);try{await vl(database,async d=>{const _=(await d.get(f)).data();_==null||_.bookmarks.splice(a,1),d.update(f,_)})}catch(d){console.log(d)}}).finally(()=>{i("close")})})}return e({queryDelete:s}),(o,a)=>(openBlock(),createBlock(_sfc_main$4,{onClose:a[1]||(a[1]=c=>o.$emit("close"))},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$2,[_hoisted_2$2,createBaseVNode("button",{onClick:a[0]||(a[0]=withModifiers((...c)=>n.value.resolve&&n.value.resolve(...c),["stop"]))},"Ok")])]),_:1}))}}),ModalDeleteChunk_vue_vue_type_style_index_0_scoped_01e75d8b_lang="",ModalDeleteChunk=_export_sfc(_sfc_main$2,[["__scopeId","data-v-01e75d8b"]]),_hoisted_1$1={class:"chunks"},_hoisted_2$1={class:"chunks__menu"},_hoisted_3$1={class:"chunks__modal-hint"},_sfc_main$1=defineComponent({__name:"Chunks",setup(r){const e=ref([]),i=ref([]),n=ref([]),s=ref(),o=ref(),a=ref(!1),c=ref(),u=ref(!1),f=ref(),d=ref(!1),m=ref();function _(){El(Va(database,"chunks"),Be=>{e.value=[],Be.forEach(Ve=>{e.value.push(Ve.data())})})}function ye(Be){Be&&n.value.push(Be)}function Se(Be){return n.value.some(Ve=>{const et=Be,kt=Ve.$.refs.chunkTemplateRef.contains(et),Ot=et===s.value;return!!(kt||Ot)})}function Ce(){i.value=[];for(var Be=0;Be<length;Be++)i.value.push(!1)}function Le(){const{length:Be}=e.value,Ve=randomIndex(Be),et=n.value[Ve].chunkTemplateRef;Ce(),i.value[Ve]=!0,et.scrollIntoView()}function he(){const Be=[];e.value[randomIndex(e.value.length)].bookmarks.map(et=>{Be.push(et.url)});const Ve=Be[randomIndex(Be.length)];Ve.startsWith("http")?setTimeout(()=>{window.open(Ve,"_blank")},400):(c.value=Ve,a.value=!0)}function g(Be,[Ve,et]){et.startsWith("http")?window.open(et,"_blank"):(c.value=`${Ve} ${et}`,a.value=!0)}function b(Be,Ve){var et;u.value=!0,(et=f.value)==null||et.queryCreate(Ve)}function ve(Be,[Ve,et]){var yt;d.value=!0,(yt=m.value)==null||yt.queryDelete(Ve,et)}function Pe([Be,Ve]){o.value.$el.style.top=`${Ve}px`,o.value.$el.style.left=`${Be+15}px`,o.value.play(),setTimeout(()=>{o.value.stop()},400)}return onMounted(()=>{_(),document.addEventListener("click",Be=>{!Se(Be.target)&&Ce(),Pe([Be.pageX,Be.pageY])})}),(Be,Ve)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("section",_hoisted_1$1,[createBaseVNode("div",_hoisted_2$1,[createBaseVNode("button",{onClick:Le,ref_key:"buttonRandomChunkTemplateRef",ref:s}," random chunk ",512),createBaseVNode("button",{onClick:he},"random url")]),(openBlock(!0),createElementBlock(Fragment,null,renderList(e.value,(et,yt)=>(openBlock(),createBlock(_sfc_main$5,{key:et.title,chunk:et,open:i.value[yt],"onUpdate:open":kt=>i.value[yt]=kt,ref_for:!0,ref:unref(asAny)(ye),onCreate:b,onDelete:ve,onOpenLink:g},null,8,["chunk","open","onUpdate:open"]))),128))]),withDirectives(createVNode(_sfc_main$4,{onClose:Ve[0]||(Ve[0]=et=>a.value=!1)},{default:withCtx(()=>[createBaseVNode("div",_hoisted_3$1,toDisplayString(c.value),1)]),_:1},512),[[vShow,a.value]]),withDirectives(createVNode(ModalCreateChunk,{onClose:Ve[1]||(Ve[1]=et=>u.value=!1),ref_key:"modalCreateChunkTemplateRef",ref:f},null,512),[[vShow,u.value]]),withDirectives(createVNode(ModalDeleteChunk,{onClose:Ve[2]||(Ve[2]=et=>d.value=!1),ref_key:"modalDeleteChunkTemplateRef",ref:m},null,512),[[vShow,d.value]]),createVNode(unref(_sfc_main$6),{ref_key:"confettiPopElement",ref:o,class:"chunks__confetti-pop","animation-data":unref(confettiPop),"auto-play":!1,loop:!1,speed:7},null,8,["animation-data"])],64))}}),Chunks_vue_vue_type_style_index_0_lang="",_hoisted_1=createBaseVNode("br",null,null,-1),_hoisted_2=createBaseVNode("br",null,null,-1),_hoisted_3=createBaseVNode("button",null,"Log in",-1),_sfc_main=defineComponent({__name:"Login",setup(r){const e=useStore(),i=ref({email:null,password:null});return(n,s)=>(openBlock(),createElementBlock("form",{onSubmit:s[2]||(s[2]=withModifiers(o=>unref(e).dispatch("login",i.value),["prevent"]))},[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>i.value.email=o),type:"text"},null,512),[[vModelText,i.value.email]]),_hoisted_1,withDirectives(createBaseVNode("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>i.value.password=o),type:"password"},null,512),[[vModelText,i.value.password]]),_hoisted_2,_hoisted_3],32))}}),routes=[{path:"/",name:"Chunks",component:_sfc_main$1},{path:"/login",name:"Login",component:_sfc_main}],router=createRouter({history:createWebHistory(),routes});router.beforeEach((r,e,i)=>{if(r.path==="/"&&!auth.currentUser){i("/login");return}if(r.path==="/login"&&auth.currentUser){i("/");return}i()});const store=createStore({state:{user:null},mutations:{SET_USER:(r,e)=>{r.user=e},CLEAR_USER:r=>{r.user=null}},actions:{async login({commit:r},e){const{email:i,password:n}=e;try{await signInWithEmailAndPassword(auth,i,n)}catch({code:s}){console.log(s);return}r("SET_USER",auth.currentUser),router.push("/")},fetchUser({commit:r}){auth.onAuthStateChanged(async e=>{e===null?r("CLEAR_USER"):(r("SET_USER",e),router.currentRoute.value.path==="/login"&&router.push("/"))})},async logout({commit:r}){await signOut(auth),r("CLEAR_USER"),router.push("/login")}},modules:{}}),app=createApp(_sfc_main$7);app.use(router);app.use(store);app.mount("#app");
